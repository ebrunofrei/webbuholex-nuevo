(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function oA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gp={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function sI(){if(HT)return mu;HT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=t,mu.jsxs=t,mu}var GT;function aI(){return GT||(GT=1,gp.exports=sI()),gp.exports}var A=aI(),yp={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function oI(){if(KT)return xe;KT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function N(U,se,ce){this.props=U,this.context=se,this.refs=D,this.updater=ce||R}N.prototype.isReactComponent={},N.prototype.setState=function(U,se){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,se,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=N.prototype;function q(U,se,ce){this.props=U,this.context=se,this.refs=D,this.updater=ce||R}var G=q.prototype=new M;G.constructor=q,C(G,N.prototype),G.isPureReactComponent=!0;var te=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function k(U,se,ce,oe,ye,De){return ce=De.ref,{$$typeof:n,type:U,key:se,ref:ce!==void 0?ce:null,props:De}}function x(U,se){return k(U.type,se,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var se={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return se[ce]})}var B=/\/+/g;function F(U,se){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):se.toString(36)}function V(){}function Tt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(se){U.status==="pending"&&(U.status="fulfilled",U.value=se)},function(se){U.status==="pending"&&(U.status="rejected",U.reason=se)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function st(U,se,ce,oe,ye){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ae=!1;if(U===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(U.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=U._init,st(Ae(U._payload),se,ce,oe,ye)}}if(Ae)return ye=ye(U),Ae=oe===""?"."+F(U,0):oe,te(ye)?(ce="",Ae!=null&&(ce=Ae.replace(B,"$&/")+"/"),st(ye,se,ce,"",function(ui){return ui})):ye!=null&&(I(ye)&&(ye=x(ye,ce+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Ae)),se.push(ye)),1;Ae=0;var kt=oe===""?".":oe+":";if(te(U))for(var Je=0;Je<U.length;Je++)oe=U[Je],De=kt+F(oe,Je),Ae+=st(oe,se,ce,De,ye);else if(Je=E(U),typeof Je=="function")for(U=Je.call(U),Je=0;!(oe=U.next()).done;)oe=oe.value,De=kt+F(oe,Je++),Ae+=st(oe,se,ce,De,ye);else if(De==="object"){if(typeof U.then=="function")return st(Tt(U),se,ce,oe,ye);throw se=String(U),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(U,se,ce){if(U==null)return U;var oe=[],ye=0;return st(U,oe,"","",function(De){return se.call(ce,De,ye++)}),oe}function ae(U){if(U._status===-1){var se=U._result;se=se(),se.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=se)}if(U._status===1)return U._result.default;throw U._result}var de=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ke(){}return xe.Children={map:W,forEach:function(U,se,ce){W(U,function(){se.apply(this,arguments)},ce)},count:function(U){var se=0;return W(U,function(){se++}),se},toArray:function(U){return W(U,function(se){return se})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xe.Component=N,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=q,xe.StrictMode=r,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return J.H.useMemoCache(U)}},xe.cache=function(U){return function(){return U.apply(null,arguments)}},xe.cloneElement=function(U,se,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var oe=C({},U.props),ye=U.key,De=void 0;if(se!=null)for(Ae in se.ref!==void 0&&(De=void 0),se.key!==void 0&&(ye=""+se.key),se)!ue.call(se,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&se.ref===void 0||(oe[Ae]=se[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ce;else if(1<Ae){for(var kt=Array(Ae),Je=0;Je<Ae;Je++)kt[Je]=arguments[Je+2];oe.children=kt}return k(U.type,ye,void 0,void 0,De,oe)},xe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},xe.createElement=function(U,se,ce){var oe,ye={},De=null;if(se!=null)for(oe in se.key!==void 0&&(De=""+se.key),se)ue.call(se,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ye[oe]=se[oe]);var Ae=arguments.length-2;if(Ae===1)ye.children=ce;else if(1<Ae){for(var kt=Array(Ae),Je=0;Je<Ae;Je++)kt[Je]=arguments[Je+2];ye.children=kt}if(U&&U.defaultProps)for(oe in Ae=U.defaultProps,Ae)ye[oe]===void 0&&(ye[oe]=Ae[oe]);return k(U,De,void 0,void 0,null,ye)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:f,render:U}},xe.isValidElement=I,xe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ae}},xe.memo=function(U,se){return{$$typeof:p,type:U,compare:se===void 0?null:se}},xe.startTransition=function(U){var se=J.T,ce={};J.T=ce;try{var oe=U(),ye=J.S;ye!==null&&ye(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ke,de)}catch(De){de(De)}finally{J.T=se}},xe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},xe.use=function(U){return J.H.use(U)},xe.useActionState=function(U,se,ce){return J.H.useActionState(U,se,ce)},xe.useCallback=function(U,se){return J.H.useCallback(U,se)},xe.useContext=function(U){return J.H.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U,se){return J.H.useDeferredValue(U,se)},xe.useEffect=function(U,se,ce){var oe=J.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(U,se)},xe.useId=function(){return J.H.useId()},xe.useImperativeHandle=function(U,se,ce){return J.H.useImperativeHandle(U,se,ce)},xe.useInsertionEffect=function(U,se){return J.H.useInsertionEffect(U,se)},xe.useLayoutEffect=function(U,se){return J.H.useLayoutEffect(U,se)},xe.useMemo=function(U,se){return J.H.useMemo(U,se)},xe.useOptimistic=function(U,se){return J.H.useOptimistic(U,se)},xe.useReducer=function(U,se,ce){return J.H.useReducer(U,se,ce)},xe.useRef=function(U){return J.H.useRef(U)},xe.useState=function(U){return J.H.useState(U)},xe.useSyncExternalStore=function(U,se,ce){return J.H.useSyncExternalStore(U,se,ce)},xe.useTransition=function(){return J.H.useTransition()},xe.version="19.1.0",xe}var YT;function Hf(){return YT||(YT=1,yp.exports=oI()),yp.exports}var P=Hf();const Yg=oA(P);var vp={exports:{}},pu={},_p={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function lI(){return $T||($T=1,function(n){function e(W,ae){var de=W.length;W.push(ae);e:for(;0<de;){var ke=de-1>>>1,U=W[ke];if(0<a(U,ae))W[ke]=ae,W[de]=U,de=ke;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],de=W.pop();if(de!==ae){W[0]=de;e:for(var ke=0,U=W.length,se=U>>>1;ke<se;){var ce=2*(ke+1)-1,oe=W[ce],ye=ce+1,De=W[ye];if(0>a(oe,de))ye<U&&0>a(De,oe)?(W[ke]=De,W[ye]=de,ke=ye):(W[ke]=oe,W[ce]=de,ke=ce);else if(ye<U&&0>a(De,de))W[ke]=De,W[ye]=de,ke=ye;else break e}}return ae}function a(W,ae){var de=W.sortIndex-ae.sortIndex;return de!==0?de:W.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,R=!1,C=!1,D=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function te(W){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=W)r(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=t(p)}}function J(W){if(D=!1,te(W),!C)if(t(m)!==null)C=!0,ue||(ue=!0,F());else{var ae=t(p);ae!==null&&st(J,ae.startTime-W)}}var ue=!1,k=-1,x=5,I=-1;function L(){return N?!0:!(n.unstable_now()-I<x)}function B(){if(N=!1,ue){var W=n.unstable_now();I=W;var ae=!0;try{e:{C=!1,D&&(D=!1,q(k),k=-1),R=!0;var de=E;try{t:{for(te(W),_=t(m);_!==null&&!(_.expirationTime>W&&L());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,E=_.priorityLevel;var U=ke(_.expirationTime<=W);if(W=n.unstable_now(),typeof U=="function"){_.callback=U,te(W),ae=!0;break t}_===t(m)&&r(m),te(W)}else r(m);_=t(m)}if(_!==null)ae=!0;else{var se=t(p);se!==null&&st(J,se.startTime-W),ae=!1}}break e}finally{_=null,E=de,R=!1}ae=void 0}}finally{ae?F():ue=!1}}}var F;if(typeof G=="function")F=function(){G(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Tt=V.port2;V.port1.onmessage=B,F=function(){Tt.postMessage(null)}}else F=function(){M(B,0)};function st(W,ae){k=M(function(){W(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var de=E;E=ae;try{return W()}finally{E=de}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=E;E=W;try{return ae()}finally{E=de}},n.unstable_scheduleCallback=function(W,ae,de){var ke=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=de+U,W={id:y++,callback:ae,priorityLevel:W,startTime:de,expirationTime:U,sortIndex:-1},de>ke?(W.sortIndex=de,e(p,W),t(m)===null&&W===t(p)&&(D?(q(k),k=-1):D=!0,st(J,de-ke))):(W.sortIndex=U,e(m,W),C||R||(C=!0,ue||(ue=!0,F()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var ae=E;return function(){var de=E;E=ae;try{return W.apply(this,arguments)}finally{E=de}}}}(Tp)),Tp}var QT;function uI(){return QT||(QT=1,_p.exports=lI()),_p.exports}var Ep={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function cI(){if(XT)return en;XT=1;var n=Hf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},en.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:R}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var WT;function hI(){if(WT)return Ep.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ep.exports=cI(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function fI(){if(ZT)return pu;ZT=1;var n=uI(),e=Hf(),t=hI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,u=g;break}if(w===u){b=!0,u=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=d;break}if(w===u){b=!0,u=g,o=d;break}w=w.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case N:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case G:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case te:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:Tt(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Tt(i(s))}catch{}}return null}var st=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],U=-1;function se(i){return{current:i}}function ce(i){0>U||(i.current=ke[U],ke[U]=null,U--)}function oe(i,s){U++,ke[U]=i.current,i.current=s}var ye=se(null),De=se(null),Ae=se(null),kt=se(null);function Je(i,s){switch(oe(Ae,s),oe(De,i),oe(ye,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?vT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=vT(s),i=_T(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ce(ye),oe(ye,i)}function ui(){ce(ye),ce(De),ce(Ae)}function Sr(i){i.memoizedState!==null&&oe(kt,i);var s=ye.current,o=_T(s,i.type);s!==o&&(oe(De,i),oe(ye,o))}function Bi(i){De.current===i&&(ce(ye),ce(De)),kt.current===i&&(ce(kt),uu._currentValue=de)}var ws=Object.prototype.hasOwnProperty,As=n.unstable_scheduleCallback,Ss=n.unstable_cancelCallback,al=n.unstable_shouldYield,vc=n.unstable_requestPaint,In=n.unstable_now,gd=n.unstable_getCurrentPriorityLevel,ol=n.unstable_ImmediatePriority,xa=n.unstable_UserBlockingPriority,Rs=n.unstable_NormalPriority,yd=n.unstable_LowPriority,Ca=n.unstable_IdlePriority,ll=n.log,_c=n.unstable_setDisableYieldValue,ct=null,Ge=null;function vn(i){if(typeof ll=="function"&&_c(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,i)}catch{}}var Zt=Math.clz32?Math.clz32:xs,Tc=Math.log,vd=Math.LN2;function xs(i){return i>>>=0,i===0?32:31-(Tc(i)/vd|0)|0}var Cs=256,Is=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ia(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=$n(u):(b&=w,b!==0?d=$n(b):o||(o=w&~i,o!==0&&(d=$n(o))))):(w=u&~g,w!==0?d=$n(w):b!==0?d=$n(b):o||(o=u&~i,o!==0&&(d=$n(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Ds(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ul(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),i}function hl(){var i=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),i}function zi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Fi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fl(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-Zt(o),ne=1<<Z;w[Z]=0,O[Z]=-1;var $=Y[Z];if($!==null)for(Y[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ne}u!==0&&ci(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function ci(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Zt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function dl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Zt(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Da(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xr(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:UT(i.type))}function Ec(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var nt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+nt,Et="__reactProps$"+nt,Dn="__reactContainer$"+nt,ml="__reactEvents$"+nt,_d="__reactListeners$"+nt,Cr="__reactHandles$"+nt,bc="__reactResources$"+nt,Ns="__reactMarker$"+nt;function Ir(i){delete i[Ct],delete i[Et],delete i[ml],delete i[_d],delete i[Cr]}function qi(i){var s=i[Ct];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Dn]||o[Ct]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=wT(i);i!==null;){if(o=i[Ct])return o;i=wT(i)}return s}i=o,o=i.parentNode}return null}function hi(i){if(i=i[Ct]||i[Dn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function fi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[bc];return s||(s=i[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(i){i[Ns]=!0}var pl=new Set,Na={};function Qn(i,s){Hi(i,s),Hi(i+"Capture",s)}function Hi(i,s){for(Na[i]=s,i=0;i<s.length;i++)pl.add(s[i])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Os={};function Sc(i){return ws.call(Os,i)?!0:ws.call(Ac,i)?!1:wc.test(i)?Os[i]=!0:(Ac[i]=!0,!1)}function Dr(i,s,o){if(Sc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function di(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function qt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ps,Rc;function Gi(i){if(Ps===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ps=s&&s[1]||"",Rc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+i+Rc}var Oa=!1;function Pa(i,s){if(!i||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var $=Q}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(Q){$=Q}i.call(ne.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var O=b.split(`
`),Y=w.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===Y.length)for(u=O.length-1,d=Y.length-1;1<=u&&0<=d&&O[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==Y[d]){var Z=`
`+O[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Gi(o):""}function gl(i){switch(i.tag){case 26:case 27:case 5:return Gi(i.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Pa(i.type,!1);case 11:return Pa(i.type.render,!1);case 1:return Pa(i.type,!0);case 31:return Gi("Activity");default:return""}}function Va(i){try{var s="";do s+=gl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Td(i){var s=yl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ma(i){i._valueTracker||(i._valueTracker=Td(i))}function vl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=yl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Vs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ed=/[\n"\\]/g;function bt(i){return i.replace(Ed,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _n(i,s,o,u,d,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Nr(i,b,ln(s)):o!=null?Nr(i,b,ln(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+ln(w):i.removeAttribute("name")}function Ms(i,s,o,u,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Nr(i,s,o){s==="number"&&Vs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ki(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function $e(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function ks(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(st(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Nn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ls.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function _l(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&xc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&xc(i,g,s[g])}function Tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(i){return wd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Yi=null;function On(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,Qi=null;function El(i){var s=hi(i);if(s&&(i=s.stateNode)){var o=i[Et]||null;e:switch(i=s.stateNode,s.type){case"input":if(_n(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Et]||null;if(!d)throw Error(r(90));_n(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&vl(u)}break e;case"textarea":$e(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ki(i,!!o.multiple,s,!1)}}}var mi=!1;function Cc(i,s,o){if(mi)return i(s,o);mi=!0;try{var u=i(s);return u}finally{if(mi=!1,($i!==null||Qi!==null)&&(Eh(),$i&&(s=$i,i=Qi,Qi=$i=null,El(s),i)))for(s=0;s<i.length;s++)El(i[s])}}function Us(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Et]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Xn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Pn=!1}var pi=null,Or=null,Xi=null;function bl(){if(Xi)return Xi;var i,s=Or,o=s.length,u,d="value"in pi?pi.value:pi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Xi=d.slice(i,1<u?1-u:void 0)}function gi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function yi(){return!0}function wl(){return!1}function Lt(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yi:wl,this.isPropagationStopped=wl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),s}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Lt(qe),Bs=y({},qe,{view:0,detail:0}),Ic=Lt(Bs),Ua,ja,vi,zs=y({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(Ua=i.screenX-vi.screenX,ja=i.screenY-vi.screenY):ja=Ua=0,vi=i),Ua)},movementY:function(i){return"movementY"in i?i.movementY:ja}}),Vn=Lt(zs),Dc=y({},zs,{dataTransfer:0}),Ad=Lt(Dc),Fs=y({},Bs,{relatedTarget:0}),Ba=Lt(Fs),Al=y({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Lt(Al),Nc=y({},qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fa=Lt(Nc),Sd=y({},qe,{data:0}),Sl=Lt(Sd),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Pc[i])?!!s[i]:!1}function Hs(){return Rl}var Vc=y({},Bs,{key:function(i){if(i.key){var s=qs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=gi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Oc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(i){return i.type==="keypress"?gi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qa=Lt(Vc),Mc=y({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Lt(Mc),Wi=y({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),kc=Lt(Wi),Lc=y({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=Lt(Lc),jc=y({},zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=Lt(jc),un=y({},qe,{newState:0,oldState:0}),Bc=Lt(un),zc=[9,13,27,32],_i=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,T=Xn&&(!_i||h&&8<h&&11>=h),S=" ",H=!1;function X(i,s){switch(i){case"keyup":return zc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Le=!1;function It(i,s){switch(i){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(H=!0,S);case"textInput":return i=s.data,i===S&&H?null:i;default:return null}}function Ue(i,s){if(Le)return i==="compositionend"||!_i&&X(i,s)?(i=bl(),Xi=Or=pi=null,Le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ut[i.type]:s==="textarea"}function Zi(i,s,o,u){$i?Qi?Qi.push(u):Qi=[u]:$i=u,s=xh(s,"onChange"),0<s.length&&(o=new La("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ht=null,Ti=null;function Cl(i){dT(i,0)}function Fc(i){var s=fi(i);if(vl(s))return i}function Vv(i,s){if(i==="change")return s}var Mv=!1;if(Xn){var Rd;if(Xn){var xd="oninput"in document;if(!xd){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),xd=typeof kv.oninput=="function"}Rd=xd}else Rd=!1;Mv=Rd&&(!document.documentMode||9<document.documentMode)}function Lv(){Ht&&(Ht.detachEvent("onpropertychange",Uv),Ti=Ht=null)}function Uv(i){if(i.propertyName==="value"&&Fc(Ti)){var s=[];Zi(s,Ti,i,On(i)),Cc(Cl,s)}}function Mx(i,s,o){i==="focusin"?(Lv(),Ht=s,Ti=o,Ht.attachEvent("onpropertychange",Uv)):i==="focusout"&&Lv()}function kx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(Ti)}function Lx(i,s){if(i==="click")return Fc(s)}function Ux(i,s){if(i==="input"||i==="change")return Fc(s)}function jx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Tn=typeof Object.is=="function"?Object.is:jx;function Il(i,s){if(Tn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!ws.call(s,d)||!Tn(i[d],s[d]))return!1}return!0}function jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bv(i,s){var o=jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function zv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?zv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Vs(i.document)}return s}function Cd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Bx=Xn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Id=null,Dl=null,Dd=!1;function qv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dd||Ga==null||Ga!==Vs(u)||(u=Ga,"selectionStart"in u&&Cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Il(Dl,u)||(Dl=u,u=xh(Id,"onSelect"),0<u.length&&(s=new La("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ga)))}function Gs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ka={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Nd={},Hv={};Xn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Ks(i){if(Nd[i])return Nd[i];if(!Ka[i])return i;var s=Ka[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hv)return Nd[i]=s[o];return i}var Gv=Ks("animationend"),Kv=Ks("animationiteration"),Yv=Ks("animationstart"),zx=Ks("transitionrun"),Fx=Ks("transitionstart"),qx=Ks("transitioncancel"),$v=Ks("transitionend"),Qv=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function Wn(i,s){Qv.set(i,s),Qn(s,[i])}var Xv=new WeakMap;function Mn(i,s){if(typeof i=="object"&&i!==null){var o=Xv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Va(s)},Xv.set(i,s),s)}return{value:i,source:s,stack:Va(s)}}var kn=[],Ya=0,Pd=0;function qc(){for(var i=Ya,s=Pd=Ya=0;s<i;){var o=kn[s];kn[s++]=null;var u=kn[s];kn[s++]=null;var d=kn[s];kn[s++]=null;var g=kn[s];if(kn[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Wv(o,d,g)}}function Hc(i,s,o,u){kn[Ya++]=i,kn[Ya++]=s,kn[Ya++]=o,kn[Ya++]=u,Pd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Vd(i,s,o,u){return Hc(i,s,o,u),Gc(i)}function $a(i,s){return Hc(i,null,null,s),Gc(i)}function Wv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Zt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Gc(i){if(50<tu)throw tu=0,Bm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Qa={};function Hx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,o,u){return new Hx(i,s,o,u)}function Md(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,s){var o=i.alternate;return o===null?(o=En(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Kc(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")Md(i)&&(b=1);else if(typeof i=="string")b=KC(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=En(31,o,s,d),i.elementType=I,i.lanes=g,i;case C:return Ys(o.children,d,g,s);case D:b=8,d|=24;break;case N:return i=En(12,o,s,d|2),i.elementType=N,i.lanes=g,i;case J:return i=En(13,o,s,d),i.elementType=J,i.lanes=g,i;case ue:return i=En(19,o,s,d),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case G:b=10;break e;case q:b=9;break e;case te:b=11;break e;case k:b=14;break e;case x:b=16,u=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=En(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Ys(i,s,o,u){return i=En(7,i,u,s),i.lanes=o,i}function kd(i,s,o){return i=En(6,i,null,s),i.lanes=o,i}function Ld(i,s,o){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Xa=[],Wa=0,Yc=null,$c=0,Ln=[],Un=0,$s=null,er=1,tr="";function Qs(i,s){Xa[Wa++]=$c,Xa[Wa++]=Yc,Yc=i,$c=s}function Jv(i,s,o){Ln[Un++]=er,Ln[Un++]=tr,Ln[Un++]=$s,$s=i;var u=er;i=tr;var d=32-Zt(u)-1;u&=~(1<<d),o+=1;var g=32-Zt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,er=1<<32-Zt(s)+d|o<<d|u,tr=g+i}else er=1<<g|o<<d|u,tr=i}function Ud(i){i.return!==null&&(Qs(i,1),Jv(i,1,0))}function jd(i){for(;i===Yc;)Yc=Xa[--Wa],Xa[Wa]=null,$c=Xa[--Wa],Xa[Wa]=null;for(;i===$s;)$s=Ln[--Un],Ln[Un]=null,tr=Ln[--Un],Ln[Un]=null,er=Ln[--Un],Ln[Un]=null}var cn=null,ht=null,Fe=!1,Xs=null,Ei=!1,Bd=Error(r(519));function Ws(i){var s=Error(r(418,""));throw Pl(Mn(s,i)),Bd}function e_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ct]=i,s[Et]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<iu.length;o++)Pe(iu[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Ms(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ma(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),ks(s,u.value,u.defaultValue,u.children),Ma(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||yT(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=Ch),s=!0):s=!1,s||Ws(i)}function t_(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:cn=cn.return}}function Nl(i){if(i!==cn)return!1;if(!Fe)return t_(i),Fe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||np(i.type,i.memoizedProps)),o=!o),o&&ht&&Ws(i),t_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){ht=Jn(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}ht=null}}else s===27?(s=ht,$r(i.type)?(i=ap,ap=null,ht=i):ht=s):ht=cn?Jn(i.stateNode.nextSibling):null;return!0}function Ol(){ht=cn=null,Fe=!1}function n_(){var i=Xs;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Xs=null),i}function Pl(i){Xs===null?Xs=[i]:Xs.push(i)}var zd=se(null),Zs=null,nr=null;function Pr(i,s,o){oe(zd,s._currentValue),s._currentValue=o}function ir(i){i._currentValue=zd.current,ce(zd)}function Fd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function qd(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var O=0;O<s.length;O++)if(w.context===s[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Fd(g.return,o,i),u||(b=null);break e}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Fd(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Vl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=d.type;Tn(d.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(d===kt.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}d=d.return}i!==null&&qd(s,i,o,u),s.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Js(i){Zs=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return i_(Zs,i)}function Xc(i,s){return Zs===null&&Js(i),i_(i,s)}function i_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},nr===null){if(i===null)throw Error(r(308));nr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else nr=nr.next=s;return o}var Gx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Kx=n.unstable_scheduleCallback,Yx=n.unstable_NormalPriority,Nt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new Gx,data:new Map,refCount:0}}function Ml(i){i.refCount--,i.refCount===0&&Kx(Yx,function(){i.controller.abort()})}var kl=null,Gd=0,Za=0,Ja=null;function $x(i,s){if(kl===null){var o=kl=[];Gd=0,Za=Ym(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Gd++,s.then(r_,r_),s}function r_(){if(--Gd===0&&kl!==null){Ja!==null&&(Ja.status="fulfilled");var i=kl;kl=null,Za=0,Ja=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Qx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var s_=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&$x(i,s),s_!==null&&s_(i,s)};var ea=se(null);function Kd(){var i=ea.current;return i!==null?i:et.pooledCache}function Wc(i,s){s===null?oe(ea,ea.current):oe(ea,s.pool)}function a_(){var i=Kd();return i===null?null:{parent:Nt._currentValue,pool:i}}var Ll=Error(r(460)),o_=Error(r(474)),Zc=Error(r(542)),Yd={then:function(){}};function l_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jc(){}function u_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Jc,Jc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h_(i),i;default:if(typeof s.status=="string")s.then(Jc,Jc);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h_(i),i}throw Ul=s,Ll}}var Ul=null;function c_(){if(Ul===null)throw Error(r(459));var i=Ul;return Ul=null,i}function h_(i){if(i===Ll||i===Zc)throw Error(r(483))}var Vr=!1;function $d(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Gc(i),Wv(i,null,o),s}return Hc(i,u,s,o),Gc(i)}function jl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}function Xd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Wd=!1;function Bl(){if(Wd){var i=Ja;if(i!==null)throw i}}function zl(i,s,o,u){Wd=!1;var d=i.updateQueue;Vr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,Y=O.next;O.next=null,b===null?g=Y:b.next=Y,b=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=Y:w.next=Y,Z.lastBaseUpdate=O))}if(g!==null){var ne=d.baseState;b=0,Z=Y=O=null,w=g;do{var $=w.lane&-536870913,Q=$!==w.lane;if(Q?(je&$)===$:(u&$)===$){$!==0&&$===Za&&(Wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=i,ve=w;$=s;var We=o;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){ne=be.call(We,ne,$);break e}ne=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,$=typeof be=="function"?be.call(We,ne,$):be,$==null)break e;ne=y({},ne,$);break e;case 2:Vr=!0}}$=w.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[$]:Q.push($))}else Q={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(Y=Z=Q,O=ne):Z=Z.next=Q,b|=$;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(O=ne),d.baseState=O,d.firstBaseUpdate=Y,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Hr|=b,i.lanes=b,i.memoizedState=ne}}function f_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function d_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)f_(o[i],s)}var eo=se(null),eh=se(0);function m_(i,s){i=cr,oe(eh,i),oe(eo,s),cr=i|s.baseLanes}function Zd(){oe(eh,cr),oe(eo,eo.current)}function Jd(){cr=eh.current,ce(eo),ce(eh)}var Lr=0,Ce=null,Qe=null,wt=null,th=!1,to=!1,ta=!1,nh=0,Fl=0,no=null,Xx=0;function gt(){throw Error(r(321))}function em(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Tn(i[o],s[o]))return!1;return!0}function tm(i,s,o,u,d,g){return Lr=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?W_:Z_,ta=!1,g=o(u,d),ta=!1,to&&(g=g_(s,o,u,d)),p_(i),g}function p_(i){W.H=lh;var s=Qe!==null&&Qe.next!==null;if(Lr=0,wt=Qe=Ce=null,th=!1,Fl=0,no=null,s)throw Error(r(300));i===null||jt||(i=i.dependencies,i!==null&&Qc(i)&&(jt=!0))}function g_(i,s,o,u){Ce=i;var d=0;do{if(to&&(no=null),Fl=0,to=!1,25<=d)throw Error(r(301));if(d+=1,wt=Qe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=iC,g=s(o,u)}while(to);return g}function Wx(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?ql(s):s,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Ce.flags|=1024),s}function nm(){var i=nh!==0;return nh=0,i}function im(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function rm(i){if(th){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}th=!1}Lr=0,wt=Qe=Ce=null,to=!1,Fl=nh=0,no=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=i:wt=wt.next=i,wt}function At(){if(Qe===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var s=wt===null?Ce.memoizedState:wt.next;if(s!==null)wt=s,Qe=i;else{if(i===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},wt===null?Ce.memoizedState=wt=i:wt=wt.next=i}return wt}function sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var s=Fl;return Fl+=1,no===null&&(no=[]),i=u_(no,i,s),s=Ce,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?W_:Z_),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===G)return Jt(i)}throw Error(r(438,String(i)))}function am(i){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sm(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=L;return s.index++,o}function rr(i,s){return typeof s=="function"?s(i):s}function rh(i){var s=At();return om(s,Qe,i)}function om(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var w=b=null,O=null,Y=s,Z=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(je&ne)===ne:(Lr&ne)===ne){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===Za&&(Z=!0);else if((Lr&$)===$){Y=Y.next,$===Za&&(Z=!0);continue}else ne={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=ne,b=g):O=O.next=ne,Ce.lanes|=$,Hr|=$;ne=Y.action,ta&&o(g,ne),g=Y.hasEagerState?Y.eagerState:o(g,ne)}else $={lane:ne,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(w=O=$,b=g):O=O.next=$,Ce.lanes|=ne,Hr|=ne;Y=Y.next}while(Y!==null&&Y!==s);if(O===null?b=g:O.next=w,!Tn(g,i.memoizedState)&&(jt=!0,Z&&(o=Ja,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=O,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function lm(i){var s=At(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Tn(g,s.memoizedState)||(jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function y_(i,s,o){var u=Ce,d=At(),g=Fe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Tn((Qe||d).memoizedState,o);b&&(d.memoizedState=o,jt=!0),d=d.queue;var w=T_.bind(null,u,d,i);if(Hl(2048,8,w,[i]),d.getSnapshot!==s||b||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,io(9,sh(),__.bind(null,u,d,o,s),null),et===null)throw Error(r(349));g||(Lr&124)!==0||v_(u,s,o)}return o}function v_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=sm(),Ce.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function __(i,s,o,u){s.value=o,s.getSnapshot=u,E_(s)&&b_(i)}function T_(i,s,o){return o(function(){E_(s)&&b_(i)})}function E_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Tn(i,o)}catch{return!0}}function b_(i){var s=$a(i,2);s!==null&&Rn(s,i,2)}function um(i){var s=dn();if(typeof i=="function"){var o=i;if(i=o(),ta){vn(!0);try{o()}finally{vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:i},s}function w_(i,s,o,u){return i.baseState=o,om(i,Qe,typeof u=="function"?u:rr)}function Zx(i,s,o,u,d){if(oh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,A_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function A_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,b={};W.T=b;try{var w=o(d,u),O=W.S;O!==null&&O(b,w),S_(i,s,w)}catch(Y){cm(i,s,Y)}finally{W.T=g}}else try{g=o(d,u),S_(i,s,g)}catch(Y){cm(i,s,Y)}}function S_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R_(i,s,u)},function(u){return cm(i,s,u)}):R_(i,s,o)}function R_(i,s,o){s.status="fulfilled",s.value=o,x_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,A_(i,o)))}function cm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,x_(s),s=s.next;while(s!==u)}i.action=null}function x_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function C_(i,s){return s}function I_(i,s){if(Fe){var o=et.formState;if(o!==null){e:{var u=Ce;if(Fe){if(ht){t:{for(var d=ht,g=Ei;d.nodeType!==8;){if(!g){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ht=Jn(d.nextSibling),u=d.data==="F!";break e}}Ws(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:s},o.queue=u,o=$_.bind(null,Ce,u),u.dispatch=o,u=um(!1),g=pm.bind(null,Ce,!1,u.queue),u=dn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=Zx.bind(null,Ce,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function D_(i){var s=At();return N_(s,Qe,i)}function N_(i,s,o){if(s=om(i,s,C_)[0],i=rh(rr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ql(s)}catch(b){throw b===Ll?Zc:b}else u=s;s=At();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,io(9,sh(),Jx.bind(null,d,o),null)),[u,g,i]}function Jx(i,s){i.action=s}function O_(i){var s=At(),o=Qe;if(o!==null)return N_(s,o,i);At(),s=s.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function io(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=sm(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function sh(){return{destroy:void 0,resource:void 0}}function P_(){return At().memoizedState}function ah(i,s,o,u){var d=dn();u=u===void 0?null:u,Ce.flags|=i,d.memoizedState=io(1|s,sh(),o,u)}function Hl(i,s,o,u){var d=At();u=u===void 0?null:u;var g=d.memoizedState.inst;Qe!==null&&u!==null&&em(u,Qe.memoizedState.deps)?d.memoizedState=io(s,g,o,u):(Ce.flags|=i,d.memoizedState=io(1|s,g,o,u))}function V_(i,s){ah(8390656,8,i,s)}function M_(i,s){Hl(2048,8,i,s)}function k_(i,s){return Hl(4,2,i,s)}function L_(i,s){return Hl(4,4,i,s)}function U_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function j_(i,s,o){o=o!=null?o.concat([i]):null,Hl(4,4,U_.bind(null,s,i),o)}function hm(){}function B_(i,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&em(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function z_(i,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&em(s,u[1]))return u[0];if(u=i(),ta){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u}function fm(i,s,o){return o===void 0||(Lr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=H0(),Ce.lanes|=i,Hr|=i,o)}function F_(i,s,o,u){return Tn(o,s)?o:eo.current!==null?(i=fm(i,o,u),Tn(i,s)||(jt=!0),i):(Lr&42)===0?(jt=!0,i.memoizedState=o):(i=H0(),Ce.lanes|=i,Hr|=i,s)}function q_(i,s,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var b=W.T,w={};W.T=w,pm(i,!1,s,o);try{var O=d(),Y=W.S;if(Y!==null&&Y(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=Qx(O,u);Gl(i,s,Z,Sn(i))}else Gl(i,s,u,Sn(i))}catch(ne){Gl(i,s,{then:function(){},status:"rejected",reason:ne},Sn())}finally{ae.p=g,W.T=b}}function eC(){}function dm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=H_(i).queue;q_(i,d,s,de,o===null?eC:function(){return G_(i),o(u)})}function H_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function G_(i){var s=H_(i).next.queue;Gl(i,s,{},Sn())}function mm(){return Jt(uu)}function K_(){return At().memoizedState}function Y_(){return At().memoizedState}function tC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();i=Mr(o);var u=kr(s,i,o);u!==null&&(Rn(u,s,o),jl(u,s,o)),s={cache:Hd()},i.payload=s;return}s=s.return}}function nC(i,s,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},oh(i)?Q_(s,o):(o=Vd(i,s,o,u),o!==null&&(Rn(o,i,u),X_(o,s,u)))}function $_(i,s,o){var u=Sn();Gl(i,s,o,u)}function Gl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(i))Q_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,Tn(w,b))return Hc(i,s,d,0),et===null&&qc(),!1}catch{}finally{}if(o=Vd(i,s,d,u),o!==null)return Rn(o,i,u),X_(o,s,u),!0}return!1}function pm(i,s,o,u){if(u={lane:2,revertLane:Ym(),action:u,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(s)throw Error(r(479))}else s=Vd(i,o,u,2),s!==null&&Rn(s,i,2)}function oh(i){var s=i.alternate;return i===Ce||s!==null&&s===Ce}function Q_(i,s){to=th=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function X_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,dl(i,o)}}var lh={readContext:Jt,use:ih,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},W_={readContext:Jt,use:ih,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Jt,useEffect:V_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ah(4194308,4,U_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ah(4194308,4,i,s)},useInsertionEffect:function(i,s){ah(4,2,i,s)},useMemo:function(i,s){var o=dn();s=s===void 0?null:s;var u=i();if(ta){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=dn();if(o!==void 0){var d=o(s);if(ta){vn(!0);try{o(s)}finally{vn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=nC.bind(null,Ce,i),[u.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=um(i);var s=i.queue,o=$_.bind(null,Ce,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:hm,useDeferredValue:function(i,s){var o=dn();return fm(o,i,s)},useTransition:function(){var i=um(!1);return i=q_.bind(null,Ce,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ce,d=dn();if(Fe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),et===null)throw Error(r(349));(je&124)!==0||v_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,V_(T_.bind(null,u,g,i),[i]),u.flags|=2048,io(9,sh(),__.bind(null,u,g,o,s),null),o},useId:function(){var i=dn(),s=et.identifierPrefix;if(Fe){var o=tr,u=er;o=(u&~(1<<32-Zt(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=nh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Xx++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:mm,useFormState:I_,useActionState:I_,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pm.bind(null,Ce,!0,o),o.dispatch=s,[i,s]},useMemoCache:am,useCacheRefresh:function(){return dn().memoizedState=tC.bind(null,Ce)}},Z_={readContext:Jt,use:ih,useCallback:B_,useContext:Jt,useEffect:M_,useImperativeHandle:j_,useInsertionEffect:k_,useLayoutEffect:L_,useMemo:z_,useReducer:rh,useRef:P_,useState:function(){return rh(rr)},useDebugValue:hm,useDeferredValue:function(i,s){var o=At();return F_(o,Qe.memoizedState,i,s)},useTransition:function(){var i=rh(rr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:mm,useFormState:D_,useActionState:D_,useOptimistic:function(i,s){var o=At();return w_(o,Qe,i,s)},useMemoCache:am,useCacheRefresh:Y_},iC={readContext:Jt,use:ih,useCallback:B_,useContext:Jt,useEffect:M_,useImperativeHandle:j_,useInsertionEffect:k_,useLayoutEffect:L_,useMemo:z_,useReducer:lm,useRef:P_,useState:function(){return lm(rr)},useDebugValue:hm,useDeferredValue:function(i,s){var o=At();return Qe===null?fm(o,i,s):F_(o,Qe.memoizedState,i,s)},useTransition:function(){var i=lm(rr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:mm,useFormState:O_,useActionState:O_,useOptimistic:function(i,s){var o=At();return Qe!==null?w_(o,Qe,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:am,useCacheRefresh:Y_},ro=null,Kl=0;function uh(i){var s=Kl;return Kl+=1,ro===null&&(ro=[]),u_(ro,i,s)}function Yl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ch(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function J_(i){var s=i._init;return s(i._payload)}function e0(i){function s(z,j){if(i){var K=z.deletions;K===null?(z.deletions=[j],z.flags|=16):K.push(j)}}function o(z,j){if(!i)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=Ji(z,j),z.index=0,z.sibling=null,z}function g(z,j,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<j?(z.flags|=67108866,j):K):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,j,K,ee){return j===null||j.tag!==6?(j=kd(K,z.mode,ee),j.return=z,j):(j=d(j,K),j.return=z,j)}function O(z,j,K,ee){var me=K.type;return me===C?Z(z,j,K.props.children,ee,K.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&J_(me)===j.type)?(j=d(j,K.props),Yl(j,K),j.return=z,j):(j=Kc(K.type,K.key,K.props,null,z.mode,ee),Yl(j,K),j.return=z,j)}function Y(z,j,K,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Ld(K,z.mode,ee),j.return=z,j):(j=d(j,K.children||[]),j.return=z,j)}function Z(z,j,K,ee,me){return j===null||j.tag!==7?(j=Ys(K,z.mode,ee,me),j.return=z,j):(j=d(j,K),j.return=z,j)}function ne(z,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=kd(""+j,z.mode,K),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return K=Kc(j.type,j.key,j.props,null,z.mode,K),Yl(K,j),K.return=z,K;case R:return j=Ld(j,z.mode,K),j.return=z,j;case x:var ee=j._init;return j=ee(j._payload),ne(z,j,K)}if(st(j)||F(j))return j=Ys(j,z.mode,K,null),j.return=z,j;if(typeof j.then=="function")return ne(z,uh(j),K);if(j.$$typeof===G)return ne(z,Xc(z,j),K);ch(z,j)}return null}function $(z,j,K,ee){var me=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:w(z,j,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===me?O(z,j,K,ee):null;case R:return K.key===me?Y(z,j,K,ee):null;case x:return me=K._init,K=me(K._payload),$(z,j,K,ee)}if(st(K)||F(K))return me!==null?null:Z(z,j,K,ee,null);if(typeof K.then=="function")return $(z,j,uh(K),ee);if(K.$$typeof===G)return $(z,j,Xc(z,K),ee);ch(z,K)}return null}function Q(z,j,K,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(K)||null,w(j,z,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return z=z.get(ee.key===null?K:ee.key)||null,O(j,z,ee,me);case R:return z=z.get(ee.key===null?K:ee.key)||null,Y(j,z,ee,me);case x:var Ne=ee._init;return ee=Ne(ee._payload),Q(z,j,K,ee,me)}if(st(ee)||F(ee))return z=z.get(K)||null,Z(j,z,ee,me,null);if(typeof ee.then=="function")return Q(z,j,K,uh(ee),me);if(ee.$$typeof===G)return Q(z,j,K,Xc(j,ee),me);ch(j,ee)}return null}function be(z,j,K,ee){for(var me=null,Ne=null,pe=j,_e=j=0,zt=null;pe!==null&&_e<K.length;_e++){pe.index>_e?(zt=pe,pe=null):zt=pe.sibling;var ze=$(z,pe,K[_e],ee);if(ze===null){pe===null&&(pe=zt);break}i&&pe&&ze.alternate===null&&s(z,pe),j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze,pe=zt}if(_e===K.length)return o(z,pe),Fe&&Qs(z,_e),me;if(pe===null){for(;_e<K.length;_e++)pe=ne(z,K[_e],ee),pe!==null&&(j=g(pe,j,_e),Ne===null?me=pe:Ne.sibling=pe,Ne=pe);return Fe&&Qs(z,_e),me}for(pe=u(pe);_e<K.length;_e++)zt=Q(pe,z,_e,K[_e],ee),zt!==null&&(i&&zt.alternate!==null&&pe.delete(zt.key===null?_e:zt.key),j=g(zt,j,_e),Ne===null?me=zt:Ne.sibling=zt,Ne=zt);return i&&pe.forEach(function(Jr){return s(z,Jr)}),Fe&&Qs(z,_e),me}function ve(z,j,K,ee){if(K==null)throw Error(r(151));for(var me=null,Ne=null,pe=j,_e=j=0,zt=null,ze=K.next();pe!==null&&!ze.done;_e++,ze=K.next()){pe.index>_e?(zt=pe,pe=null):zt=pe.sibling;var Jr=$(z,pe,ze.value,ee);if(Jr===null){pe===null&&(pe=zt);break}i&&pe&&Jr.alternate===null&&s(z,pe),j=g(Jr,j,_e),Ne===null?me=Jr:Ne.sibling=Jr,Ne=Jr,pe=zt}if(ze.done)return o(z,pe),Fe&&Qs(z,_e),me;if(pe===null){for(;!ze.done;_e++,ze=K.next())ze=ne(z,ze.value,ee),ze!==null&&(j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return Fe&&Qs(z,_e),me}for(pe=u(pe);!ze.done;_e++,ze=K.next())ze=Q(pe,z,_e,ze.value,ee),ze!==null&&(i&&ze.alternate!==null&&pe.delete(ze.key===null?_e:ze.key),j=g(ze,j,_e),Ne===null?me=ze:Ne.sibling=ze,Ne=ze);return i&&pe.forEach(function(rI){return s(z,rI)}),Fe&&Qs(z,_e),me}function We(z,j,K,ee){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var me=K.key;j!==null;){if(j.key===me){if(me=K.type,me===C){if(j.tag===7){o(z,j.sibling),ee=d(j,K.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&J_(me)===j.type){o(z,j.sibling),ee=d(j,K.props),Yl(ee,K),ee.return=z,z=ee;break e}o(z,j);break}else s(z,j);j=j.sibling}K.type===C?(ee=Ys(K.props.children,z.mode,ee,K.key),ee.return=z,z=ee):(ee=Kc(K.type,K.key,K.props,null,z.mode,ee),Yl(ee,K),ee.return=z,z=ee)}return b(z);case R:e:{for(me=K.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(z,j.sibling),ee=d(j,K.children||[]),ee.return=z,z=ee;break e}else{o(z,j);break}else s(z,j);j=j.sibling}ee=Ld(K,z.mode,ee),ee.return=z,z=ee}return b(z);case x:return me=K._init,K=me(K._payload),We(z,j,K,ee)}if(st(K))return be(z,j,K,ee);if(F(K)){if(me=F(K),typeof me!="function")throw Error(r(150));return K=me.call(K),ve(z,j,K,ee)}if(typeof K.then=="function")return We(z,j,uh(K),ee);if(K.$$typeof===G)return We(z,j,Xc(z,K),ee);ch(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(z,j.sibling),ee=d(j,K),ee.return=z,z=ee):(o(z,j),ee=kd(K,z.mode,ee),ee.return=z,z=ee),b(z)):o(z,j)}return function(z,j,K,ee){try{Kl=0;var me=We(z,j,K,ee);return ro=null,me}catch(pe){if(pe===Ll||pe===Zc)throw pe;var Ne=En(29,pe,null,z.mode);return Ne.lanes=ee,Ne.return=z,Ne}finally{}}}var so=e0(!0),t0=e0(!1),jn=se(null),bi=null;function Ur(i){var s=i.alternate;oe(Ot,Ot.current&1),oe(jn,i),bi===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(bi=i)}function n0(i){if(i.tag===22){if(oe(Ot,Ot.current),oe(jn,i),bi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(bi=i)}}else jr()}function jr(){oe(Ot,Ot.current),oe(jn,jn.current)}function sr(i){ce(jn),bi===i&&(bi=null),ce(Ot)}var Ot=se(0);function hh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||sp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function gm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ym={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Sn(),d=Mr(u);d.payload=s,o!=null&&(d.callback=o),s=kr(i,d,u),s!==null&&(Rn(s,i,u),jl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Sn(),d=Mr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=kr(i,d,u),s!==null&&(Rn(s,i,u),jl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Sn(),u=Mr(o);u.tag=2,s!=null&&(u.callback=s),s=kr(i,u,o),s!==null&&(Rn(s,i,o),jl(s,i,o))}};function i0(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Il(o,u)||!Il(d,g):!0}function r0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&ym.enqueueReplaceState(s,s.state,null)}function na(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function s0(i){fh(i)}function a0(i){console.error(i)}function o0(i){fh(i)}function dh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function l0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vm(i,s,o){return o=Mr(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(i,s)},o}function u0(i){return i=Mr(i),i.tag=3,i}function c0(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){l0(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){l0(s,o,u),typeof d!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function rC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Vl(s,o,d,!0),o=jn.current,o!==null){switch(o.tag){case 13:return bi===null?Fm():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Yd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Hm(i,u,d)),!1;case 22:return o.flags|=65536,u===Yd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Hm(i,u,d)),!1}throw Error(r(435,o.tag))}return Hm(i,u,d),Fm(),!1}if(Fe)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Bd&&(i=Error(r(422),{cause:u}),Pl(Mn(i,o)))):(u!==Bd&&(s=Error(r(423),{cause:u}),Pl(Mn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Mn(u,o),d=vm(i.stateNode,u,d),Xd(i,d),ft!==4&&(ft=2)),!1;var g=Error(r(520),{cause:u});if(g=Mn(g,o),eu===null?eu=[g]:eu.push(g),ft!==4&&(ft=2),s===null)return!0;u=Mn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=vm(o.stateNode,u,i),Xd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=u0(d),c0(d,i,o,u),Xd(o,d),!1}o=o.return}while(o!==null);return!1}var h0=Error(r(461)),jt=!1;function Gt(i,s,o,u){s.child=i===null?t0(s,null,o,u):so(s,i.child,o,u)}function f0(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return Js(s),u=tm(i,s,o,b,g,d),w=nm(),i!==null&&!jt?(im(i,s,d),ar(i,s,d)):(Fe&&w&&Ud(s),s.flags|=1,Gt(i,s,u,d),s.child)}function d0(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Md(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,m0(i,s,g,u,d)):(i=Kc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Rm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Il,o(b,u)&&i.ref===s.ref)return ar(i,s,d)}return s.flags|=1,i=Ji(g,u),i.ref=s.ref,i.return=s,s.child=i}function m0(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Il(g,u)&&i.ref===s.ref)if(jt=!1,s.pendingProps=u=g,Rm(i,d))(i.flags&131072)!==0&&(jt=!0);else return s.lanes=i.lanes,ar(i,s,d)}return _m(i,s,o,u,d)}function p0(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return g0(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wc(s,g!==null?g.cachePool:null),g!==null?m_(s,g):Zd(),n0(s);else return s.lanes=s.childLanes=536870912,g0(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Wc(s,g.cachePool),m_(s,g),jr(),s.memoizedState=null):(i!==null&&Wc(s,null),Zd(),jr());return Gt(i,s,d,o),s.child}function g0(i,s,o,u){var d=Kd();return d=d===null?null:{parent:Nt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&Wc(s,null),Zd(),n0(s),i!==null&&Vl(i,s,u,!0),null}function mh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function _m(i,s,o,u,d){return Js(s),o=tm(i,s,o,u,void 0,d),u=nm(),i!==null&&!jt?(im(i,s,d),ar(i,s,d)):(Fe&&u&&Ud(s),s.flags|=1,Gt(i,s,o,d),s.child)}function y0(i,s,o,u,d,g){return Js(s),s.updateQueue=null,o=g_(s,u,o,d),p_(i),u=nm(),i!==null&&!jt?(im(i,s,g),ar(i,s,g)):(Fe&&u&&Ud(s),s.flags|=1,Gt(i,s,o,g),s.child)}function v0(i,s,o,u,d){if(Js(s),s.stateNode===null){var g=Qa,b=o.contextType;typeof b=="object"&&b!==null&&(g=Jt(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ym,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},$d(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Jt(b):Qa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(gm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&ym.enqueueReplaceState(g,g.state,null),zl(s,u,g,d),Bl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,O=na(o,w);g.props=O;var Y=g.context,Z=o.contextType;b=Qa,typeof Z=="object"&&Z!==null&&(b=Jt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==b)&&r0(s,g,u,b),Vr=!1;var $=s.memoizedState;g.state=$,zl(s,u,g,d),Bl(),Y=s.memoizedState,w||$!==Y||Vr?(typeof ne=="function"&&(gm(s,o,ne,u),Y=s.memoizedState),(O=Vr||i0(s,o,O,u,$,Y,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Qd(i,s),b=s.memoizedProps,Z=na(o,b),g.props=Z,ne=s.pendingProps,$=g.context,Y=o.contextType,O=Qa,typeof Y=="object"&&Y!==null&&(O=Jt(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ne||$!==O)&&r0(s,g,u,O),Vr=!1,$=s.memoizedState,g.state=$,zl(s,u,g,d),Bl();var Q=s.memoizedState;b!==ne||$!==Q||Vr||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof w=="function"&&(gm(s,o,w,u),Q=s.memoizedState),(Z=Vr||i0(s,o,Z,u,$,Q,O)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=O,u=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,mh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=so(s,i.child,null,d),s.child=so(s,null,o,d)):Gt(i,s,o,d),s.memoizedState=g.state,i=s.child):i=ar(i,s,d),i}function _0(i,s,o,u){return Ol(),s.flags|=256,Gt(i,s,o,u),s.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Em(i){return{baseLanes:i,cachePool:a_()}}function bm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Bn),i}function T0(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Fe){if(d?Ur(s):jr(),Fe){var w=ht,O;if(O=w){e:{for(O=w,w=Ei;O.nodeType!==8;){if(!w){w=null;break e}if(O=Jn(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(s.memoizedState={dehydrated:w,treeContext:$s!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},O=En(18,null,null,0),O.stateNode=w,O.return=s,s.child=O,cn=s,ht=null,O=!0):O=!1}O||Ws(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return sp(w)?s.lanes=32:s.lanes=536870912,null;sr(s)}return w=u.children,u=u.fallback,d?(jr(),d=s.mode,w=ph({mode:"hidden",children:w},d),u=Ys(u,d,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,d=s.child,d.memoizedState=Em(o),d.childLanes=bm(i,b,o),s.memoizedState=Tm,u):(Ur(s),wm(s,w))}if(O=i.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=Am(i,s,o)):s.memoizedState!==null?(jr(),s.child=i.child,s.flags|=128,s=null):(jr(),d=u.fallback,w=s.mode,u=ph({mode:"visible",children:u.children},w),d=Ys(d,w,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,so(s,i.child,null,o),u=s.child,u.memoizedState=Em(o),u.childLanes=bm(i,b,o),s.memoizedState=Tm,s=d);else if(Ur(s),sp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(r(419)),u.stack="",u.digest=b,Pl({value:u,source:null,stack:null}),s=Am(i,s,o)}else if(jt||Vl(i,s,o,!1),b=(o&i.childLanes)!==0,jt||b){if(b=et,b!==null&&(u=o&-o,u=(u&42)!==0?1:Rr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,$a(i,u),Rn(b,i,u),h0;w.data==="$?"||Fm(),s=Am(i,s,o)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,ht=Jn(w.nextSibling),cn=s,Fe=!0,Xs=null,Ei=!1,i!==null&&(Ln[Un++]=er,Ln[Un++]=tr,Ln[Un++]=$s,er=i.id,tr=i.overflow,$s=s),s=wm(s,u.children),s.flags|=4096);return s}return d?(jr(),d=u.fallback,w=s.mode,O=i.child,Y=O.sibling,u=Ji(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,Y!==null?d=Ji(Y,d):(d=Ys(d,w,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,w=i.child.memoizedState,w===null?w=Em(o):(O=w.cachePool,O!==null?(Y=Nt._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=a_(),w={baseLanes:w.baseLanes|o,cachePool:O}),d.memoizedState=w,d.childLanes=bm(i,b,o),s.memoizedState=Tm,u):(Ur(s),o=i.child,i=o.sibling,o=Ji(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function wm(i,s){return s=ph({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ph(i,s){return i=En(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Am(i,s,o){return so(s,i.child,null,o),i=wm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function E0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Fd(i.return,s,o)}function Sm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function b0(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Gt(i,s,u.children,o),u=Ot.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E0(i,o,s);else if(i.tag===19)E0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(oe(Ot,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&hh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Sm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&hh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Sm(s,!0,o,null,g);break;case"together":Sm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ar(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Hr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Vl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Ji(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ji(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Rm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function sC(i,s,o){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Pr(s,Nt,i.memoizedState.cache),Ol();break;case 27:case 5:Sr(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Pr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?T0(i,s,o):(Ur(s),i=ar(i,s,o),i!==null?i.sibling:null);Ur(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Vl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return b0(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Ot,Ot.current),u)break;return null;case 22:case 23:return s.lanes=0,p0(i,s,o);case 24:Pr(s,Nt,i.memoizedState.cache)}return ar(i,s,o)}function w0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)jt=!0;else{if(!Rm(i,o)&&(s.flags&128)===0)return jt=!1,sC(i,s,o);jt=(i.flags&131072)!==0}else jt=!1,Fe&&(s.flags&1048576)!==0&&Jv(s,$c,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Md(u)?(i=na(u,i),s.tag=1,s=v0(null,s,u,i,o)):(s.tag=0,s=_m(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===te){s.tag=11,s=f0(null,s,u,i,o);break e}else if(d===k){s.tag=14,s=d0(null,s,u,i,o);break e}}throw s=Tt(u)||u,Error(r(306,s,""))}}return s;case 0:return _m(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=na(u,s.pendingProps),v0(i,s,u,d,o);case 3:e:{if(Je(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Qd(i,s),zl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Pr(s,Nt,u),u!==g.cache&&qd(s,[Nt],o,!0),Bl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=_0(i,s,u,o);break e}else if(u!==d){d=Mn(Error(r(424)),s),Pl(d),s=_0(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ht=Jn(i.firstChild),cn=s,Fe=!0,Xs=null,Ei=!0,o=t0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ol(),u===d){s=ar(i,s,o);break e}Gt(i,s,u,o)}s=s.child}return s;case 26:return mh(i,s),i===null?(o=xT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Fe||(o=s.type,i=s.pendingProps,u=Ih(Ae.current).createElement(o),u[Ct]=s,u[Et]=i,Yt(u,o,i),pt(u),s.stateNode=u):s.memoizedState=xT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Sr(s),i===null&&Fe&&(u=s.stateNode=AT(s.type,s.pendingProps,Ae.current),cn=s,Ei=!0,d=ht,$r(s.type)?(ap=d,ht=Jn(u.firstChild)):ht=d),Gt(i,s,s.pendingProps.children,o),mh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Fe&&((d=u=ht)&&(u=PC(u,s.type,s.pendingProps,Ei),u!==null?(s.stateNode=u,cn=s,ht=Jn(u.firstChild),Ei=!1,d=!0):d=!1),d||Ws(s)),Sr(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,np(d,g)?u=null:b!==null&&np(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=tm(i,s,Wx,null,null,o),uu._currentValue=d),mh(i,s),Gt(i,s,u,o),s.child;case 6:return i===null&&Fe&&((i=o=ht)&&(o=VC(o,s.pendingProps,Ei),o!==null?(s.stateNode=o,cn=s,ht=null,i=!0):i=!1),i||Ws(s)),null;case 13:return T0(i,s,o);case 4:return Je(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=so(s,null,u,o):Gt(i,s,u,o),s.child;case 11:return f0(i,s,s.type,s.pendingProps,o);case 7:return Gt(i,s,s.pendingProps,o),s.child;case 8:return Gt(i,s,s.pendingProps.children,o),s.child;case 12:return Gt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Pr(s,s.type,u.value),Gt(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Js(s),d=Jt(d),u=u(d),s.flags|=1,Gt(i,s,u,o),s.child;case 14:return d0(i,s,s.type,s.pendingProps,o);case 15:return m0(i,s,s.type,s.pendingProps,o);case 19:return b0(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=ph(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ji(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return p0(i,s,o);case 24:return Js(s),u=Jt(Nt),i===null?(d=Kd(),d===null&&(d=et,g=Hd(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},$d(s),Pr(s,Nt,d)):((i.lanes&o)!==0&&(Qd(i,s),zl(s,null,null,o),Bl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Pr(s,Nt,u)):(u=g.cache,Pr(s,Nt,u),u!==d.cache&&qd(s,[Nt],o,!0))),Gt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function or(i){i.flags|=4}function A0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!OT(s)){if(s=jn.current,s!==null&&((je&4194048)===je?bi!==null:(je&62914560)!==je&&(je&536870912)===0||s!==bi))throw Ul=Yd,o_;i.flags|=8192}}function gh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hl():536870912,i.lanes|=s,uo|=s)}function $l(i,s){if(!Fe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function aC(i,s,o){var u=s.pendingProps;switch(jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ir(Nt),ui(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Nl(s)?or(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n_())),at(s),null;case 26:return o=s.memoizedState,i===null?(or(s),o!==null?(at(s),A0(s,o)):(at(s),s.flags&=-16777217)):o?o!==i.memoizedState?(or(s),at(s),A0(s,o)):(at(s),s.flags&=-16777217):(i.memoizedProps!==u&&or(s),at(s),s.flags&=-16777217),null;case 27:Bi(s),o=Ae.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return at(s),null}i=ye.current,Nl(s)?e_(s):(i=AT(d,u,o),s.stateNode=i,or(s))}return at(s),null;case 5:if(Bi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(i=ye.current,Nl(s))e_(s);else{switch(d=Ih(Ae.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ct]=s,i[Et]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Yt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&or(s)}}return at(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,Nl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ct]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yT(i.nodeValue,o)),i||Ws(s)}else i=Ih(i).createTextNode(u),i[Ct]=s,s.stateNode=i}return at(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Nl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ct]=s}else Ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),d=!1}else d=n_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(sr(s),s):(sr(s),null)}if(sr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),gh(s,s.updateQueue),at(s),null;case 4:return ui(),i===null&&Wm(s.stateNode.containerInfo),at(s),null;case 10:return ir(s.type),at(s),null;case 19:if(ce(Ot),d=s.memoizedState,d===null)return at(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)$l(d,!1);else{if(ft!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=hh(i),g!==null){for(s.flags|=128,$l(d,!1),i=g.updateQueue,s.updateQueue=i,gh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Zv(o,i),o=o.sibling;return oe(Ot,Ot.current&1|2),s.child}i=i.sibling}d.tail!==null&&In()>_h&&(s.flags|=128,u=!0,$l(d,!1),s.lanes=4194304)}else{if(!u)if(i=hh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,gh(s,i),$l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Fe)return at(s),null}else 2*In()-d.renderingStartTime>_h&&o!==536870912&&(s.flags|=128,u=!0,$l(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=In(),s.sibling=null,i=Ot.current,oe(Ot,u?i&1|2:i&1),s):(at(s),null);case 22:case 23:return sr(s),Jd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),o=s.updateQueue,o!==null&&gh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ce(ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ir(Nt),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function oC(i,s){switch(jd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ir(Nt),ui(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Bi(s),null;case 13:if(sr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ce(Ot),null;case 4:return ui(),null;case 10:return ir(s.type),null;case 22:case 23:return sr(s),Jd(),i!==null&&ce(ea),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ir(Nt),null;case 25:return null;default:return null}}function S0(i,s){switch(jd(s),s.tag){case 3:ir(Nt),ui();break;case 26:case 27:case 5:Bi(s);break;case 4:ui();break;case 13:sr(s);break;case 19:ce(Ot);break;case 10:ir(s.type);break;case 22:case 23:sr(s),Jd(),i!==null&&ce(ea);break;case 24:ir(Nt)}}function Ql(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(w){Ze(s,s.return,w)}}function Br(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var O=o,Y=w;try{Y()}catch(Z){Ze(d,O,Z)}}}u=u.next}while(u!==g)}}catch(Z){Ze(s,s.return,Z)}}function R0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{d_(s,o)}catch(u){Ze(i,i.return,u)}}}function x0(i,s,o){o.props=na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ze(i,s,u)}}function Xl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Ze(i,s,d)}}function wi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Ze(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ze(i,s,d)}else o.current=null}function C0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Ze(i,i.return,d)}}function xm(i,s,o){try{var u=i.stateNode;CC(u,i.type,o,s),u[Et]=s}catch(d){Ze(i,i.return,d)}}function I0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function Cm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||I0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Im(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ch));else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Im(i,s,o),i=i.sibling;i!==null;)Im(i,s,o),i=i.sibling}function yh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(yh(i,s,o),i=i.sibling;i!==null;)yh(i,s,o),i=i.sibling}function D0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Yt(s,u,o),s[Ct]=i,s[Et]=o}catch(g){Ze(i,i.return,g)}}var lr=!1,yt=!1,Dm=!1,N0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function lC(i,s){if(i=i.containerInfo,ep=Mh,i=Fv(i),Cd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,w=-1,O=-1,Y=0,Z=0,ne=i,$=null;t:for(;;){for(var Q;ne!==o||d!==0&&ne.nodeType!==3||(w=b+d),ne!==g||u!==0&&ne.nodeType!==3||(O=b+u),ne.nodeType===3&&(b+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)$=ne,ne=Q;for(;;){if(ne===i)break t;if($===o&&++Y===d&&(w=b),$===g&&++Z===u&&(O=b),(Q=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Q}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(tp={focusedElem:i,selectionRange:o},Mh=!1,Bt=s;Bt!==null;)if(s=Bt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Bt=i;else for(;Bt!==null;){switch(s=Bt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var be=na(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(be,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Ze(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)rp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Bt=i;break}Bt=s.return}}function O0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zr(i,o),u&4&&Ql(5,o);break;case 1:if(zr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){Ze(o,o.return,b)}else{var d=na(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Ze(o,o.return,b)}}u&64&&R0(o),u&512&&Xl(o,o.return);break;case 3:if(zr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d_(i,s)}catch(b){Ze(o,o.return,b)}}break;case 27:s===null&&u&4&&D0(o);case 26:case 5:zr(i,o),s===null&&u&4&&C0(o),u&512&&Xl(o,o.return);break;case 12:zr(i,o);break;case 13:zr(i,o),u&4&&M0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=yC.bind(null,o),MC(i,o))));break;case 22:if(u=o.memoizedState!==null||lr,!u){s=s!==null&&s.memoizedState!==null||yt,d=lr;var g=yt;lr=u,(yt=s)&&!g?Fr(i,o,(o.subtreeFlags&8772)!==0):zr(i,o),lr=d,yt=g}break;case 30:break;default:zr(i,o)}}function P0(i){var s=i.alternate;s!==null&&(i.alternate=null,P0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,mn=!1;function ur(i,s,o){for(o=o.child;o!==null;)V0(i,s,o),o=o.sibling}function V0(i,s,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:yt||wi(o,s),ur(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:yt||wi(o,s);var u=it,d=mn;$r(o.type)&&(it=o.stateNode,mn=!1),ur(i,s,o),su(o.stateNode),it=u,mn=d;break;case 5:yt||wi(o,s);case 6:if(u=it,d=mn,it=null,ur(i,s,o),it=u,mn=d,it!==null)if(mn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(o.stateNode)}catch(g){Ze(o,s,g)}else try{it.removeChild(o.stateNode)}catch(g){Ze(o,s,g)}break;case 18:it!==null&&(mn?(i=it,bT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),du(i)):bT(it,o.stateNode));break;case 4:u=it,d=mn,it=o.stateNode.containerInfo,mn=!0,ur(i,s,o),it=u,mn=d;break;case 0:case 11:case 14:case 15:yt||Br(2,o,s),yt||Br(4,o,s),ur(i,s,o);break;case 1:yt||(wi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x0(o,s,u)),ur(i,s,o);break;case 21:ur(i,s,o);break;case 22:yt=(u=yt)||o.memoizedState!==null,ur(i,s,o),yt=u;break;default:ur(i,s,o)}}function M0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(o){Ze(s,s.return,o)}}function uC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new N0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new N0),s;default:throw Error(r(435,i.tag))}}function Nm(i,s){var o=uC(i);s.forEach(function(u){var d=vC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function bn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if($r(w.type)){it=w.stateNode,mn=!1;break e}break;case 5:it=w.stateNode,mn=!1;break e;case 3:case 4:it=w.stateNode.containerInfo,mn=!0;break e}w=w.return}if(it===null)throw Error(r(160));V0(g,b,d),it=null,mn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k0(s,i),s=s.sibling}var Zn=null;function k0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(s,i),wn(i),u&4&&(Br(3,i,i.return),Ql(3,i),Br(5,i,i.return));break;case 1:bn(s,i),wn(i),u&512&&(yt||o===null||wi(o,o.return)),u&64&&lr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Zn;if(bn(s,i),wn(i),u&512&&(yt||o===null||wi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ns]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Yt(g,u,o),g[Ct]=i,pt(g),u=g;break e;case"link":var b=DT("link","href",d).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}g=d.createElement(u),Yt(g,u,o),d.head.appendChild(g);break;case"meta":if(b=DT("meta","content",d).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}g=d.createElement(u),Yt(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ct]=i,pt(g),u=g}i.stateNode=u}else NT(d,i.type,i.stateNode);else i.stateNode=IT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?NT(d,i.type,i.stateNode):IT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&xm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(s,i),wn(i),u&512&&(yt||o===null||wi(o,o.return)),o!==null&&u&4&&xm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,i),wn(i),u&512&&(yt||o===null||wi(o,o.return)),i.flags&32){d=i.stateNode;try{Nn(d,"")}catch(Q){Ze(i,i.return,Q)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,xm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Dm=!0);break;case 6:if(bn(s,i),wn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){Ze(i,i.return,Q)}}break;case 3:if(Oh=null,d=Zn,Zn=Dh(s.containerInfo),bn(s,i),Zn=d,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{du(s.containerInfo)}catch(Q){Ze(i,i.return,Q)}Dm&&(Dm=!1,L0(i));break;case 4:u=Zn,Zn=Dh(i.stateNode.containerInfo),bn(s,i),wn(i),Zn=u;break;case 12:bn(s,i),wn(i);break;case 13:bn(s,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lm=In()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 22:d=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=lr,Z=yt;if(lr=Y||d,yt=Z||O,bn(s,i),yt=Z,lr=Y,wn(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||O||lr||yt||ia(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=O.stateNode;var ne=O.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Ze(O,O.return,Q)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(Q){Ze(O,O.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nm(i,o))));break;case 19:bn(s,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 30:break;case 21:break;default:bn(s,i),wn(i)}}function wn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(I0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Cm(i);yh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Nn(b,""),o.flags&=-33);var w=Cm(i);yh(i,w,b);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=Cm(i);Im(i,Y,O);break;default:throw Error(r(161))}}catch(Z){Ze(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function L0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;L0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)O0(i,s.alternate,s),s=s.sibling}function ia(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Br(4,s,s.return),ia(s);break;case 1:wi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&x0(s,s.return,o),ia(s);break;case 27:su(s.stateNode);case 26:case 5:wi(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}i=i.sibling}}function Fr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(d,g,o),Ql(4,g);break;case 1:if(Fr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Ze(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)f_(O[d],w)}catch(Y){Ze(u,u.return,Y)}}o&&b&64&&R0(g),Xl(g,g.return);break;case 27:D0(g);case 26:case 5:Fr(d,g,o),o&&u===null&&b&4&&C0(g),Xl(g,g.return);break;case 12:Fr(d,g,o);break;case 13:Fr(d,g,o),o&&b&4&&M0(d,g);break;case 22:g.memoizedState===null&&Fr(d,g,o),Xl(g,g.return);break;case 30:break;default:Fr(d,g,o)}s=s.sibling}}function Om(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ml(o))}function Pm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i))}function Ai(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U0(i,s,o,u),s=s.sibling}function U0(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(i,s,o,u),d&2048&&Ql(9,s);break;case 1:Ai(i,s,o,u);break;case 3:Ai(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i)));break;case 12:if(d&2048){Ai(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else Ai(i,s,o,u);break;case 13:Ai(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Ai(i,s,o,u):Wl(i,s):g._visibility&2?Ai(i,s,o,u):(g._visibility|=2,ao(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Om(b,s);break;case 24:Ai(i,s,o,u),d&2048&&Pm(s.alternate,s);break;default:Ai(i,s,o,u)}}function ao(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,w=o,O=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:ao(g,b,w,O,d),Ql(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?ao(g,b,w,O,d):Wl(g,b):(Z._visibility|=2,ao(g,b,w,O,d)),d&&Y&2048&&Om(b.alternate,b);break;case 24:ao(g,b,w,O,d),d&&Y&2048&&Pm(b.alternate,b);break;default:ao(g,b,w,O,d)}s=s.sibling}}function Wl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Wl(o,u),d&2048&&Om(u.alternate,u);break;case 24:Wl(o,u),d&2048&&Pm(u.alternate,u);break;default:Wl(o,u)}s=s.sibling}}var Zl=8192;function oo(i){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)j0(i),i=i.sibling}function j0(i){switch(i.tag){case 26:oo(i),i.flags&Zl&&i.memoizedState!==null&&$C(Zn,i.memoizedState,i.memoizedProps);break;case 5:oo(i);break;case 3:case 4:var s=Zn;Zn=Dh(i.stateNode.containerInfo),oo(i),Zn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zl,Zl=16777216,oo(i),Zl=s):oo(i));break;default:oo(i)}}function B0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Jl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bt=u,F0(u,i)}B0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z0(i),i=i.sibling}function z0(i){switch(i.tag){case 0:case 11:case 15:Jl(i),i.flags&2048&&Br(9,i,i.return);break;case 3:Jl(i);break;case 12:Jl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,vh(i)):Jl(i);break;default:Jl(i)}}function vh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bt=u,F0(u,i)}B0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Br(8,s,s.return),vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,vh(s));break;default:vh(s)}i=i.sibling}}function F0(i,s){for(;Bt!==null;){var o=Bt;switch(o.tag){case 0:case 11:case 15:Br(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Bt=u;else e:for(o=i;Bt!==null;){u=Bt;var d=u.sibling,g=u.return;if(P0(u),u===o){Bt=null;break e}if(d!==null){d.return=g,Bt=d;break e}Bt=g}}}var cC={getCacheForType:function(i){var s=Jt(Nt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},hC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,Oe=null,je=0,Ye=0,An=null,qr=!1,lo=!1,Vm=!1,cr=0,ft=0,Hr=0,ra=0,Mm=0,Bn=0,uo=0,eu=null,pn=null,km=!1,Lm=0,_h=1/0,Th=null,Gr=null,Kt=0,Kr=null,co=null,ho=0,Um=0,jm=null,q0=null,tu=0,Bm=null;function Sn(){if((Ke&2)!==0&&je!==0)return je&-je;if(W.T!==null){var i=Za;return i!==0?i:Ym()}return xr()}function H0(){Bn===0&&(Bn=(je&536870912)===0||Fe?cl():536870912);var i=jn.current;return i!==null&&(i.flags|=32),Bn}function Rn(i,s,o){(i===et&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)&&(fo(i,0),Yr(i,je,Bn,!1)),Fi(i,o),((Ke&2)===0||i!==et)&&(i===et&&((Ke&2)===0&&(ra|=o),ft===4&&Yr(i,je,Bn,!1)),Si(i))}function G0(i,s,o){if((Ke&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ds(i,s),d=u?mC(i,s):qm(i,s,!0),g=u;do{if(d===0){lo&&!u&&Yr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!fC(o)){d=qm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=i;d=eu;var O=w.current.memoizedState.isDehydrated;if(O&&(fo(w,b).flags|=256),b=qm(w,b,!1),b!==2){if(Vm&&!O){w.errorRecoveryDisabledLanes|=g,ra|=g,d=4;break e}g=pn,pn=d,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){fo(i,0),Yr(i,s,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yr(u,s,Bn,!qr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Lm+300-In(),10<d)){if(Yr(u,s,Bn,!qr),Ia(u,0,!0)!==0)break e;u.timeoutHandle=TT(K0.bind(null,u,o,pn,Th,km,s,Bn,ra,uo,qr,g,2,-0,0),d);break e}K0(u,o,pn,Th,km,s,Bn,ra,uo,qr,g,0,-0,0)}}break}while(!0);Si(i)}function K0(i,s,o,u,d,g,b,w,O,Y,Z,ne,$,Q){if(i.timeoutHandle=-1,ne=s.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:YC},j0(s),ne=QC(),ne!==null)){i.cancelPendingCommit=ne(J0.bind(null,i,s,g,o,u,d,b,w,O,Z,1,$,Q)),Yr(i,g,b,!Y);return}J0(i,s,g,o,u,d,b,w,O)}function fC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Tn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(i,s,o,u){s&=~Mm,s&=~ra,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Zt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&ci(i,o,s)}function Eh(){return(Ke&6)===0?(nu(0),!1):!0}function zm(){if(Oe!==null){if(Ye===0)var i=Oe.return;else i=Oe,nr=Zs=null,rm(i),ro=null,Kl=0,i=Oe;for(;i!==null;)S0(i.alternate,i),i=i.return;Oe=null}}function fo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,DC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),zm(),et=i,Oe=o=Ji(i.current,null),je=s,Ye=0,An=null,qr=!1,lo=Ds(i,s),Vm=!1,uo=Bn=Mm=ra=Hr=ft=0,pn=eu=null,km=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Zt(u),g=1<<d;s|=i[d],u&=~g}return cr=s,qc(),o}function Y0(i,s){Ce=null,W.H=lh,s===Ll||s===Zc?(s=c_(),Ye=3):s===o_?(s=c_(),Ye=4):Ye=s===h0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,An=s,Oe===null&&(ft=1,dh(i,Mn(s,i.current)))}function $0(){var i=W.H;return W.H=lh,i===null?lh:i}function Q0(){var i=W.A;return W.A=cC,i}function Fm(){ft=4,qr||(je&4194048)!==je&&jn.current!==null||(lo=!0),(Hr&134217727)===0&&(ra&134217727)===0||et===null||Yr(et,je,Bn,!1)}function qm(i,s,o){var u=Ke;Ke|=2;var d=$0(),g=Q0();(et!==i||je!==s)&&(Th=null,fo(i,s)),s=!1;var b=ft;e:do try{if(Ye!==0&&Oe!==null){var w=Oe,O=An;switch(Ye){case 8:zm(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var Y=Ye;if(Ye=0,An=null,mo(i,w,O,Y),o&&lo){b=0;break e}break;default:Y=Ye,Ye=0,An=null,mo(i,w,O,Y)}}dC(),b=ft;break}catch(Z){Y0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,nr=Zs=null,Ke=u,W.H=d,W.A=g,Oe===null&&(et=null,je=0,qc()),b}function dC(){for(;Oe!==null;)X0(Oe)}function mC(i,s){var o=Ke;Ke|=2;var u=$0(),d=Q0();et!==i||je!==s?(Th=null,_h=In()+500,fo(i,s)):lo=Ds(i,s);e:do try{if(Ye!==0&&Oe!==null){s=Oe;var g=An;t:switch(Ye){case 1:Ye=0,An=null,mo(i,s,g,1);break;case 2:case 9:if(l_(g)){Ye=0,An=null,W0(s);break}s=function(){Ye!==2&&Ye!==9||et!==i||(Ye=7),Si(i)},g.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:l_(g)?(Ye=0,An=null,W0(s)):(Ye=0,An=null,mo(i,s,g,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var w=Oe;if(!b||OT(b)){Ye=0,An=null;var O=w.sibling;if(O!==null)Oe=O;else{var Y=w.return;Y!==null?(Oe=Y,bh(Y)):Oe=null}break t}}Ye=0,An=null,mo(i,s,g,5);break;case 6:Ye=0,An=null,mo(i,s,g,6);break;case 8:zm(),ft=6;break e;default:throw Error(r(462))}}pC();break}catch(Z){Y0(i,Z)}while(!0);return nr=Zs=null,W.H=u,W.A=d,Ke=o,Oe!==null?0:(et=null,je=0,qc(),ft)}function pC(){for(;Oe!==null&&!al();)X0(Oe)}function X0(i){var s=w0(i.alternate,i,cr);i.memoizedProps=i.pendingProps,s===null?bh(i):Oe=s}function W0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=y0(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=y0(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:rm(s);default:S0(o,s),s=Oe=Zv(s,cr),s=w0(o,s,cr)}i.memoizedProps=i.pendingProps,s===null?bh(i):Oe=s}function mo(i,s,o,u){nr=Zs=null,rm(s),ro=null,Kl=0;var d=s.return;try{if(rC(i,d,s,o,je)){ft=1,dh(i,Mn(o,i.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;ft=1,dh(i,Mn(o,i.current)),Oe=null;return}s.flags&32768?(Fe||u===1?i=!0:lo||(je&536870912)!==0?i=!1:(qr=i=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z0(s,i)):bh(s)}function bh(i){var s=i;do{if((s.flags&32768)!==0){Z0(s,qr);return}i=s.return;var o=aC(s.alternate,s,cr);if(o!==null){Oe=o;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=i}while(s!==null);ft===0&&(ft=5)}function Z0(i,s){do{var o=oC(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);ft=6,Oe=null}function J0(i,s,o,u,d,g,b,w,O){i.cancelPendingCommit=null;do wh();while(Kt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Pd,fl(i,o,g,b,w,O),i===et&&(Oe=et=null,je=0),co=s,Kr=i,ho=o,Um=g,jm=d,q0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_C(Rs,function(){return rT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=ae.p,ae.p=2,b=Ke,Ke|=4;try{lC(i,s,o)}finally{Ke=b,ae.p=d,W.T=u}}Kt=1,eT(),tT(),nT()}}function eT(){if(Kt===1){Kt=0;var i=Kr,s=co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ke;Ke|=4;try{k0(s,i);var g=tp,b=Fv(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&zv(w.ownerDocument.documentElement,w)){if(O!==null&&Cd(w)){var Y=O.start,Z=O.end;if(Z===void 0&&(Z=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(Z,w.value.length);else{var ne=w.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Q=$.getSelection(),be=w.textContent.length,ve=Math.min(O.start,be),We=O.end===void 0?ve:Math.min(O.end,be);!Q.extend&&ve>We&&(b=We,We=ve,ve=b);var z=Bv(w,ve),j=Bv(w,We);if(z&&j&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var K=ne.createRange();K.setStart(z.node,z.offset),Q.removeAllRanges(),ve>We?(Q.addRange(K),Q.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),Q.addRange(K))}}}}for(ne=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var ee=ne[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Mh=!!ep,tp=ep=null}finally{Ke=d,ae.p=u,W.T=o}}i.current=s,Kt=2}}function tT(){if(Kt===2){Kt=0;var i=Kr,s=co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var d=Ke;Ke|=4;try{O0(i,s.alternate,s)}finally{Ke=d,ae.p=u,W.T=o}}Kt=3}}function nT(){if(Kt===4||Kt===3){Kt=0,vc();var i=Kr,s=co,o=ho,u=q0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,co=Kr=null,iT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Gr=null),Da(o),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=ae.p,ae.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{W.T=s,ae.p=d}}(ho&3)!==0&&wh(),Si(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===Bm?tu++:(tu=0,Bm=i):tu=0,nu(0)}}function iT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ml(s)))}function wh(i){return eT(),tT(),nT(),rT()}function rT(){if(Kt!==5)return!1;var i=Kr,s=Um;Um=0;var o=Da(ho),u=W.T,d=ae.p;try{ae.p=32>o?32:o,W.T=null,o=jm,jm=null;var g=Kr,b=ho;if(Kt=0,co=Kr=null,ho=0,(Ke&6)!==0)throw Error(r(331));var w=Ke;if(Ke|=4,z0(g.current),U0(g,g.current,b,o),Ke=w,nu(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,g)}catch{}return!0}finally{ae.p=d,W.T=u,iT(i,s)}}function sT(i,s,o){s=Mn(o,s),s=vm(i.stateNode,s,2),i=kr(i,s,2),i!==null&&(Fi(i,2),Si(i))}function Ze(i,s,o){if(i.tag===3)sT(i,i,o);else for(;s!==null;){if(s.tag===3){sT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){i=Mn(o,i),o=u0(2),u=kr(s,o,2),u!==null&&(c0(o,u,s,i),Fi(u,2),Si(u));break}}s=s.return}}function Hm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new hC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Vm=!0,d.add(o),i=gC.bind(null,i,s,o),s.then(i,i))}function gC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,et===i&&(je&o)===o&&(ft===4||ft===3&&(je&62914560)===je&&300>In()-Lm?(Ke&2)===0&&fo(i,0):Mm|=o,uo===je&&(uo=0)),Si(i)}function aT(i,s){s===0&&(s=hl()),i=$a(i,s),i!==null&&(Fi(i,s),Si(i))}function yC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),aT(i,o)}function vC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),aT(i,o)}function _C(i,s){return As(i,s)}var Ah=null,po=null,Gm=!1,Sh=!1,Km=!1,sa=0;function Si(i){i!==po&&i.next===null&&(po===null?Ah=po=i:po=po.next=i),Sh=!0,Gm||(Gm=!0,EC())}function nu(i,s){if(!Km&&Sh){Km=!0;do for(var o=!1,u=Ah;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Zt(42|i)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cT(u,g))}else g=je,g=Ia(u,u===et?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ds(u,g)||(o=!0,cT(u,g));u=u.next}while(o);Km=!1}}function TC(){oT()}function oT(){Sh=Gm=!1;var i=0;sa!==0&&(IC()&&(i=sa),sa=0);for(var s=In(),o=null,u=Ah;u!==null;){var d=u.next,g=lT(u,s);g===0?(u.next=null,o===null?Ah=d:o.next=d,d===null&&(po=o)):(o=u,(i!==0||(g&3)!==0)&&(Sh=!0)),u=d}nu(i)}function lT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Zt(g),w=1<<b,O=d[b];O===-1?((w&o)===0||(w&u)!==0)&&(d[b]=ul(w,s)):O<=s&&(i.expiredLanes|=w),g&=~w}if(s=et,o=je,o=Ia(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ss(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ds(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ss(u),Da(o)){case 2:case 8:o=xa;break;case 32:o=Rs;break;case 268435456:o=Ca;break;default:o=Rs}return u=uT.bind(null,i),o=As(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ss(u),i.callbackPriority=2,i.callbackNode=null,2}function uT(i,s){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(wh()&&i.callbackNode!==o)return null;var u=je;return u=Ia(i,i===et?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G0(i,u,s),lT(i,In()),i.callbackNode!=null&&i.callbackNode===o?uT.bind(null,i):null)}function cT(i,s){if(wh())return null;G0(i,s,!0)}function EC(){NC(function(){(Ke&6)!==0?As(ol,TC):oT()})}function Ym(){return sa===0&&(sa=cl()),sa}function hT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ka(""+i)}function fT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function bC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=hT((d[Et]||null).action),b=u.submitter;b&&(s=(s=b[Et]||null)?hT(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new La("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var O=b?fT(d,b):new FormData(d);dm(o,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=b?fT(d,b):new FormData(d),dm(o,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var $m=0;$m<Od.length;$m++){var Qm=Od[$m],wC=Qm.toLowerCase(),AC=Qm[0].toUpperCase()+Qm.slice(1);Wn(wC,"on"+AC)}Wn(Gv,"onAnimationEnd"),Wn(Kv,"onAnimationIteration"),Wn(Yv,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(zx,"onTransitionRun"),Wn(Fx,"onTransitionStart"),Wn(qx,"onTransitionCancel"),Wn($v,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function dT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],O=w.instance,Y=w.currentTarget;if(w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=Y;try{g(d)}catch(Z){fh(Z)}d.currentTarget=null,g=O}else for(b=0;b<u.length;b++){if(w=u[b],O=w.instance,Y=w.currentTarget,w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=Y;try{g(d)}catch(Z){fh(Z)}d.currentTarget=null,g=O}}}}function Pe(i,s){var o=s[ml];o===void 0&&(o=s[ml]=new Set);var u=i+"__bubble";o.has(u)||(mT(s,i,2,!1),o.add(u))}function Xm(i,s,o){var u=0;s&&(u|=4),mT(o,i,u,s)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function Wm(i){if(!i[Rh]){i[Rh]=!0,pl.forEach(function(o){o!=="selectionchange"&&(SC.has(o)||Xm(o,!1,i),Xm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Rh]||(s[Rh]=!0,Xm("selectionchange",!1,s))}}function mT(i,s,o,u){switch(UT(s)){case 2:var d=ZC;break;case 8:d=JC;break;default:d=hp}o=d.bind(null,s,o,i),d=void 0,!Pn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Zm(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=u.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=qi(w),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){u=g=b;continue e}w=w.parentNode}}u=u.return}Cc(function(){var Y=g,Z=On(o),ne=[];e:{var $=Qv.get(i);if($!==void 0){var Q=La,be=i;switch(i){case"keypress":if(gi(o)===0)break e;case"keydown":case"keyup":Q=qa;break;case"focusin":be="focus",Q=Ba;break;case"focusout":be="blur",Q=Ba;break;case"beforeblur":case"afterblur":Q=Ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=kc;break;case Gv:case Kv:case Yv:Q=za;break;case $v:Q=Uc;break;case"scroll":case"scrollend":Q=Ic;break;case"wheel":Q=Ha;break;case"copy":case"cut":case"paste":Q=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=xl;break;case"toggle":case"beforetoggle":Q=Bc}var ve=(s&4)!==0,We=!ve&&(i==="scroll"||i==="scrollend"),z=ve?$!==null?$+"Capture":null:$;ve=[];for(var j=Y,K;j!==null;){var ee=j;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||z===null||(ee=Us(j,z),ee!=null&&ve.push(ru(j,ee,K))),We)break;j=j.return}0<ve.length&&($=new Q($,be,null,o,Z),ne.push({event:$,listeners:ve}))}}if((s&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Yi&&(be=o.relatedTarget||o.fromElement)&&(qi(be)||be[Dn]))break e;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(be=o.relatedTarget||o.toElement,Q=Y,be=be?qi(be):null,be!==null&&(We=l(be),ve=be.tag,be!==We||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(Q=null,be=Y),Q!==be)){if(ve=Vn,ee="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ve=xl,ee="onPointerLeave",z="onPointerEnter",j="pointer"),We=Q==null?$:fi(Q),K=be==null?$:fi(be),$=new ve(ee,j+"leave",Q,o,Z),$.target=We,$.relatedTarget=K,ee=null,qi(Z)===Y&&(ve=new ve(z,j+"enter",be,o,Z),ve.target=K,ve.relatedTarget=We,ee=ve),We=ee,Q&&be)t:{for(ve=Q,z=be,j=0,K=ve;K;K=go(K))j++;for(K=0,ee=z;ee;ee=go(ee))K++;for(;0<j-K;)ve=go(ve),j--;for(;0<K-j;)z=go(z),K--;for(;j--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=go(ve),z=go(z)}ve=null}else ve=null;Q!==null&&pT(ne,$,Q,ve,!1),be!==null&&We!==null&&pT(ne,We,be,ve,!0)}}e:{if($=Y?fi(Y):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var me=Vv;else if(Dt($))if(Mv)me=Ux;else{me=kx;var Ne=Mx}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Tl(Y.elementType)&&(me=Vv):me=Lx;if(me&&(me=me(i,Y))){Zi(ne,me,o,Z);break e}Ne&&Ne(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Nr($,"number",$.value)}switch(Ne=Y?fi(Y):window,i){case"focusin":(Dt(Ne)||Ne.contentEditable==="true")&&(Ga=Ne,Id=Y,Dl=null);break;case"focusout":Dl=Id=Ga=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,qv(ne,o,Z);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":qv(ne,o,Z)}var pe;if(_i)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?X(i,o)&&(_e="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(T&&o.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(pe=bl()):(pi=Z,Or="value"in pi?pi.value:pi.textContent,Le=!0)),Ne=xh(Y,_e),0<Ne.length&&(_e=new Sl(_e,i,null,o,Z),ne.push({event:_e,listeners:Ne}),pe?_e.data=pe:(pe=le(o),pe!==null&&(_e.data=pe)))),(pe=v?It(i,o):Ue(i,o))&&(_e=xh(Y,"onBeforeInput"),0<_e.length&&(Ne=new Sl("onBeforeInput","beforeinput",null,o,Z),ne.push({event:Ne,listeners:_e}),Ne.data=pe)),bC(ne,i,Y,o,Z)}dT(ne,s)})}function ru(i,s,o){return{instance:i,listener:s,currentTarget:o}}function xh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Us(i,o),d!=null&&u.unshift(ru(i,d,g)),d=Us(i,s),d!=null&&u.push(ru(i,d,g))),i.tag===3)return u;i=i.return}return[]}function go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pT(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var w=o,O=w.alternate,Y=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||Y===null||(O=Y,d?(Y=Us(o,g),Y!=null&&b.unshift(ru(o,Y,O))):d||(Y=Us(o,g),Y!=null&&b.push(ru(o,Y,O)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var RC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function gT(i){return(typeof i=="string"?i:""+i).replace(RC,`
`).replace(xC,"")}function yT(i,s){return s=gT(s),gT(i)===s}function Ch(){}function Xe(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Nn(i,""+u);break;case"className":di(i,"class",u);break;case"tabIndex":di(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":di(i,o,u);break;case"style":_l(i,u,g);break;case"data":if(s!=="object"){di(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ka(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Xe(i,s,"name",d.name,d,null),Xe(i,s,"formEncType",d.formEncType,d,null),Xe(i,s,"formMethod",d.formMethod,d,null),Xe(i,s,"formTarget",d.formTarget,d,null)):(Xe(i,s,"encType",d.encType,d,null),Xe(i,s,"method",d.method,d,null),Xe(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ka(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Dr(i,"popover",u);break;case"xlinkActuate":qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=bd.get(o)||o,Dr(i,o,u))}}function Jm(i,s,o,u,d,g){switch(o){case"style":_l(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Et]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Dr(i,o,u)}}}function Yt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(i,s,g,b,o,null)}}d&&Xe(i,s,"srcSet",o.srcSet,o,null),u&&Xe(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var w=g=b=d=null,O=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":Y=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Xe(i,s,u,Z,o,null)}}Ms(i,g,w,O,Y,b,d,!1),Ma(i);return;case"select":Pe("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Xe(i,s,d,w,o,null)}s=g,o=b,i.multiple=!!u,s!=null?Ki(i,!!u,s,!1):o!=null&&Ki(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Xe(i,s,b,w,o,null)}ks(i,u,d,g),Ma(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(i,s,O,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Pe(iu[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(i,s,Y,u,o,null)}return;default:if(Tl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Jm(i,s,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Xe(i,s,w,u,o,null))}function CC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,O=null,Y=null,Z=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ne;default:u.hasOwnProperty(Q)||Xe(i,s,Q,null,u,ne)}}for(var $ in u){var Q=u[$];if(ne=o[$],u.hasOwnProperty($)&&(Q!=null||ne!=null))switch($){case"type":g=Q;break;case"name":d=Q;break;case"checked":Y=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ne&&Xe(i,s,$,Q,u,ne)}}_n(i,b,w,O,Y,Z,g,d);return;case"select":Q=b=w=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(g)||Xe(i,s,g,null,u,O)}for(d in u)if(g=u[d],O=o[d],u.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==O&&Xe(i,s,d,g,u,O)}s=w,o=b,u=Q,$!=null?Ki(i,!!o,$,!1):!!u!=!!o&&(s!=null?Ki(i,!!o,s,!0):Ki(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xe(i,s,w,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":$=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Xe(i,s,b,d,u,g)}$e(i,$,Q);return;case"option":for(var be in o)if($=o[be],o.hasOwnProperty(be)&&$!=null&&!u.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:Xe(i,s,be,null,u,$)}for(O in u)if($=u[O],Q=o[O],u.hasOwnProperty(O)&&$!==Q&&($!=null||Q!=null))switch(O){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(i,s,O,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)$=o[ve],o.hasOwnProperty(ve)&&$!=null&&!u.hasOwnProperty(ve)&&Xe(i,s,ve,null,u,$);for(Y in u)if($=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&$!==Q&&($!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Xe(i,s,Y,$,u,Q)}return;default:if(Tl(s)){for(var We in o)$=o[We],o.hasOwnProperty(We)&&$!==void 0&&!u.hasOwnProperty(We)&&Jm(i,s,We,void 0,u,$);for(Z in u)$=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||Jm(i,s,Z,$,u,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&Xe(i,s,z,null,u,$);for(ne in u)$=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||$===Q||$==null&&Q==null||Xe(i,s,ne,$,u,Q)}var ep=null,tp=null;function Ih(i){return i.nodeType===9?i:i.ownerDocument}function vT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function np(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ip=null;function IC(){var i=window.event;return i&&i.type==="popstate"?i===ip?!1:(ip=i,!0):(ip=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(i){return ET.resolve(null).then(i).catch(OC)}:TT;function OC(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function bT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&su(b.documentElement),o&2&&su(b.body),o&4)for(o=b.head,su(o),b=o.firstChild;b;){var w=b.nextSibling,O=b.nodeName;b[Ns]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(d===0){i.removeChild(g),du(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);du(s)}function rp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),Ir(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function PC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ns])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function VC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function MC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ap=null;function wT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function AT(i,s,o){switch(s=Ih(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function su(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ir(i)}var zn=new Map,ST=new Set;function Dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hr=ae.d;ae.d={f:kC,r:LC,D:UC,C:jC,L:BC,m:zC,X:qC,S:FC,M:HC};function kC(){var i=hr.f(),s=Eh();return i||s}function LC(i){var s=hi(i);s!==null&&s.tag===5&&s.type==="form"?G_(s):hr.r(i)}var yo=typeof document>"u"?null:document;function RT(i,s,o){var u=yo;if(u&&typeof s=="string"&&s){var d=bt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ST.has(d)||(ST.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Yt(s,"link",i),pt(s),u.head.appendChild(s)))}}function UC(i){hr.D(i),RT("dns-prefetch",i,null)}function jC(i,s){hr.C(i,s),RT("preconnect",i,s)}function BC(i,s,o){hr.L(i,s,o);var u=yo;if(u&&i&&s){var d='link[rel="preload"][as="'+bt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+bt(o.imageSizes)+'"]')):d+='[href="'+bt(i)+'"]';var g=d;switch(s){case"style":g=vo(i);break;case"script":g=_o(i)}zn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),zn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(au(g))||s==="script"&&u.querySelector(ou(g))||(s=u.createElement("link"),Yt(s,"link",i),pt(s),u.head.appendChild(s)))}}function zC(i,s){hr.m(i,s);var o=yo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+bt(u)+'"][href="'+bt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_o(i)}if(!zn.has(g)&&(i=y({rel:"modulepreload",href:i},s),zn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ou(g)))return}u=o.createElement("link"),Yt(u,"link",i),pt(u),o.head.appendChild(u)}}}function FC(i,s,o){hr.S(i,s,o);var u=yo;if(u&&i){var d=on(u).hoistableStyles,g=vo(i);s=s||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(au(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=zn.get(g))&&op(i,o);var O=b=u.createElement("link");pt(O),Yt(O,"link",i),O._p=new Promise(function(Y,Z){O.onload=Y,O.onerror=Z}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function qC(i,s){hr.X(i,s);var o=yo;if(o&&i){var u=on(o).hoistableScripts,d=_o(i),g=u.get(d);g||(g=o.querySelector(ou(d)),g||(i=y({src:i,async:!0},s),(s=zn.get(d))&&lp(i,s),g=o.createElement("script"),pt(g),Yt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function HC(i,s){hr.M(i,s);var o=yo;if(o&&i){var u=on(o).hoistableScripts,d=_o(i),g=u.get(d);g||(g=o.querySelector(ou(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=zn.get(d))&&lp(i,s),g=o.createElement("script"),pt(g),Yt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function xT(i,s,o,u){var d=(d=Ae.current)?Dh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vo(o.href),o=on(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=vo(o.href);var g=on(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(au(i)))&&!g._p&&(b.instance=g,b.state.loading=5),zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(i,o),g||GC(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(o),o=on(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function vo(i){return'href="'+bt(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function CT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function GC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Yt(s,"link",o),pt(s),i.head.appendChild(s))}function _o(i){return'[src="'+bt(i)+'"]'}function ou(i){return"script[async]"+i}function IT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+bt(o.href)+'"]');if(u)return s.instance=u,pt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pt(u),Yt(u,"style",d),Nh(u,o.precedence,i),s.instance=u;case"stylesheet":d=vo(o.href);var g=i.querySelector(au(d));if(g)return s.state.loading|=4,s.instance=g,pt(g),g;u=CT(o),(d=zn.get(d))&&op(u,d),g=(i.ownerDocument||i).createElement("link"),pt(g);var b=g;return b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Yt(g,"link",u),s.state.loading|=4,Nh(g,o.precedence,i),s.instance=g;case"script":return g=_o(o.src),(d=i.querySelector(ou(g)))?(s.instance=d,pt(d),d):(u=o,(d=zn.get(g))&&(u=y({},o),lp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),pt(d),Yt(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nh(u,o.precedence,i));return s.instance}function Nh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function op(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Oh=null;function DT(i,s,o){if(Oh===null){var u=new Map,d=Oh=new Map;d.set(o,u)}else d=Oh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ns]||g[Ct]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function NT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function KC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function OT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lu=null;function YC(){}function $C(i,s,o){if(lu===null)throw Error(r(475));var u=lu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=vo(o.href),g=i.querySelector(au(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ph.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pt(g);return}g=i.ownerDocument||i,o=CT(o),(d=zn.get(d))&&op(o,d),g=g.createElement("link"),pt(g);var b=g;b._p=new Promise(function(w,O){b.onload=w,b.onerror=O}),Yt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ph.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function QC(){if(lu===null)throw Error(r(475));var i=lu;return i.stylesheets&&i.count===0&&up(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&up(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ph(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vh=null;function up(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vh=new Map,s.forEach(XC,i),Vh=null,Ph.call(i))}function XC(i,s){if(!(s.state.loading&4)){var o=Vh.get(i);if(o)var u=o.get(null);else{o=new Map,Vh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Ph.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:G,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function WC(i,s,o,u,d,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function PT(i,s,o,u,d,g,b,w,O,Y,Z,ne){return i=new WC(i,s,o,b,w,O,Y,ne),s=1,g===!0&&(s|=24),g=En(3,null,null,s),i.current=g,g.stateNode=i,s=Hd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},$d(g),i}function VT(i){return i?(i=Qa,i):Qa}function MT(i,s,o,u,d,g){d=VT(d),u.context===null?u.context=d:u.pendingContext=d,u=Mr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,s),o!==null&&(Rn(o,i,s),jl(o,i,s))}function kT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function cp(i,s){kT(i,s),(i=i.alternate)&&kT(i,s)}function LT(i){if(i.tag===13){var s=$a(i,67108864);s!==null&&Rn(s,i,67108864),cp(i,67108864)}}var Mh=!0;function ZC(i,s,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=2,hp(i,s,o,u)}finally{ae.p=g,W.T=d}}function JC(i,s,o,u){var d=W.T;W.T=null;var g=ae.p;try{ae.p=8,hp(i,s,o,u)}finally{ae.p=g,W.T=d}}function hp(i,s,o,u){if(Mh){var d=fp(u);if(d===null)Zm(i,s,u,kh,o),jT(i,u);else if(tI(d,i,s,o,u))u.stopPropagation();else if(jT(i,u),s&4&&-1<eI.indexOf(i)){for(;d!==null;){var g=hi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=$n(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var O=1<<31-Zt(b);w.entanglements[1]|=O,b&=~O}Si(g),(Ke&6)===0&&(_h=In()+500,nu(0))}}break;case 13:w=$a(g,2),w!==null&&Rn(w,g,2),Eh(),cp(g,2)}if(g=fp(u),g===null&&Zm(i,s,u,kh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Zm(i,s,u,null,o)}}function fp(i){return i=On(i),dp(i)}var kh=null;function dp(i){if(kh=null,i=qi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kh=i,null}function UT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gd()){case ol:return 2;case xa:return 8;case Rs:case yd:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var mp=!1,Qr=null,Xr=null,Wr=null,cu=new Map,hu=new Map,Zr=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jT(i,s){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(s.pointerId)}}function fu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=hi(s),s!==null&&LT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function tI(i,s,o,u,d){switch(s){case"focusin":return Qr=fu(Qr,i,s,o,u,d),!0;case"dragenter":return Xr=fu(Xr,i,s,o,u,d),!0;case"mouseover":return Wr=fu(Wr,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return cu.set(g,fu(cu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,hu.set(g,fu(hu.get(g)||null,i,s,o,u,d)),!0}return!1}function BT(i){var s=qi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ec(i.priority,function(){if(o.tag===13){var u=Sn();u=Rr(u);var d=$a(o,u);d!==null&&Rn(d,o,u),cp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=fp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Yi=u,o.target.dispatchEvent(u),Yi=null}else return s=hi(o),s!==null&&LT(s),i.blockedOn=o,!1;s.shift()}return!0}function zT(i,s,o){Lh(i)&&o.delete(s)}function nI(){mp=!1,Qr!==null&&Lh(Qr)&&(Qr=null),Xr!==null&&Lh(Xr)&&(Xr=null),Wr!==null&&Lh(Wr)&&(Wr=null),cu.forEach(zT),hu.forEach(zT)}function Uh(i,s){i.blockedOn===s&&(i.blockedOn=null,mp||(mp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nI)))}var jh=null;function FT(i){jh!==i&&(jh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jh===i&&(jh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(dp(u||o)===null)continue;break}var g=hi(o);g!==null&&(i.splice(s,3),s-=3,dm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function du(i){function s(O){return Uh(O,i)}Qr!==null&&Uh(Qr,i),Xr!==null&&Uh(Xr,i),Wr!==null&&Uh(Wr,i),cu.forEach(s),hu.forEach(s);for(var o=0;o<Zr.length;o++){var u=Zr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)BT(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[Et]||null;if(typeof g=="function")b||FT(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[Et]||null)w=b.formAction;else if(dp(d)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),FT(o)}}}function pp(i){this._internalRoot=i}Bh.prototype.render=pp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Sn();MT(o,u,i,s,null,null)},Bh.prototype.unmount=pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;MT(i.current,2,null,i,null,null),Eh(),s[Dn]=null}};function Bh(i){this._internalRoot=i}Bh.prototype.unstable_scheduleHydration=function(i){if(i){var s=xr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Zr.length&&s!==0&&s<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&BT(i)}};var qT=e.version;if(qT!=="19.1.0")throw Error(r(527,qT,"19.1.0"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var iI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{ct=zh.inject(iI),Ge=zh}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=s0,g=a0,b=o0,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=PT(i,1,!1,null,null,o,u,d,g,b,w,null),i[Dn]=s.current,Wm(i),new pp(s)},pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=s0,b=a0,w=o0,O=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=PT(i,1,!0,s,o??null,u,d,g,b,w,O,Y),s.context=VT(null),o=s.current,u=Sn(),u=Rr(u),d=Mr(u),d.callback=null,kr(o,d,u),o=u,s.current.lanes=o,Fi(s,o),Si(s),i[Dn]=s.current,Wm(i),new Bh(s)},pu.version="19.1.0",pu}var JT;function dI(){if(JT)return vp.exports;JT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vp.exports=fI(),vp.exports}var mI=dI();const pI=oA(mI);var gu={},eE;function gI(){if(eE)return gu;eE=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.parse=c,gu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,R){const C=new l,D=E.length;if(D<2)return C;const N=(R==null?void 0:R.decode)||y;let M=0;do{const q=E.indexOf("=",M);if(q===-1)break;const G=E.indexOf(";",M),te=G===-1?D:G;if(q>te){M=E.lastIndexOf(";",q-1)+1;continue}const J=f(E,M,q),ue=m(E,q,J),k=E.slice(J,ue);if(C[k]===void 0){let x=f(E,q+1,te),I=m(E,te,x);const L=N(E.slice(x,I));C[k]=L}M=te+1}while(M<D);return C}function f(E,R,C){do{const D=E.charCodeAt(R);if(D!==32&&D!==9)return R}while(++R<C);return C}function m(E,R,C){for(;R>C;){const D=E.charCodeAt(--R);if(D!==32&&D!==9)return R+1}return C}function p(E,R,C){const D=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=D(R);if(!e.test(N))throw new TypeError(`argument val is invalid: ${R}`);let M=E+"="+N;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return gu}gI();var tE="popstate";function yI(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Jp("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Lu(a)}return _I(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function nE(n,e){return{usr:n.state,key:n.key,idx:e}}function Jp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||r||vI()}}function Lu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _I(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let N=y(),M=N==null?null:N-p;p=N,m&&m({action:f,location:D.location,delta:M})}function E(N,M){f="PUSH";let q=Jp(D.location,N,M);p=y()+1;let G=nE(q,p),te=D.createHref(q);try{c.pushState(G,"",te)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(te)}l&&m&&m({action:f,location:D.location,delta:1})}function R(N,M){f="REPLACE";let q=Jp(D.location,N,M);p=y();let G=nE(q,p),te=D.createHref(q);c.replaceState(G,"",te),l&&m&&m({action:f,location:D.location,delta:0})}function C(N){return TI(N)}let D={get action(){return f},get location(){return n(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(tE,_),m=N,()=>{a.removeEventListener(tE,_),m=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let M=C(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:R,go(N){return c.go(N)}};return D}function TI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Lu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function lA(n,e,t="/"){return EI(n,e,t,!1)}function EI(n,e,t,r){let a=typeof e=="string"?Ko(e):e,l=yr(a.pathname||"/",t);if(l==null)return null;let c=uA(n);bI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=PI(l);f=NI(c[m],p,r)}return f}function uA(n,e=[],t=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=mr([r,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uA(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:II(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of cA(l.path))a(l,c,m)}),e}function cA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=cA(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function bI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wI=/^:[\w-]+$/,AI=3,SI=2,RI=1,xI=10,CI=-2,iE=n=>n==="*";function II(n,e){let t=n.split("/"),r=t.length;return t.some(iE)&&(r+=CI),e&&(r+=SI),t.filter(a=>!iE(a)).reduce((a,l)=>a+(wI.test(l)?AI:l===""?RI:xI),r)}function DI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function NI(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:mr([l,_.pathname]),pathnameBase:LI(mr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=mr([l,_.pathnameBase]))}return c}function vf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[E];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function OI(n,e=!1,t=!0){Yn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function PI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function VI(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Ko(n):n;return{pathname:t?t.startsWith("/")?t:MI(t,e):e,search:UI(r),hash:jI(a)}}function MI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function bp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $g(n){let e=kI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Qg(n,e,t,r=!1){let a;typeof n=="string"?a=Ko(n):(a={...n},rt(!a.pathname||!a.pathname.includes("?"),bp("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),bp("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),bp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=VI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var mr=n=>n.join("/").replace(/\/\/+/g,"/"),LI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hA=["POST","PUT","PATCH","DELETE"];new Set(hA);var zI=["GET",...hA];new Set(zI);var Yo=P.createContext(null);Yo.displayName="DataRouter";var Gf=P.createContext(null);Gf.displayName="DataRouterState";var fA=P.createContext({isTransitioning:!1});fA.displayName="ViewTransition";var FI=P.createContext(new Map);FI.displayName="Fetchers";var qI=P.createContext(null);qI.displayName="Await";var ai=P.createContext(null);ai.displayName="Navigation";var nc=P.createContext(null);nc.displayName="Location";var oi=P.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Xg=P.createContext(null);Xg.displayName="RouteError";function HI(n,{relative:e}={}){rt($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(ai),{hash:a,pathname:l,search:c}=rc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:mr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function $o(){return P.useContext(nc)!=null}function li(){return rt($o(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(nc).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mA(n){P.useContext(ai).static||P.useLayoutEffect(n)}function ic(){let{isDataRoute:n}=P.useContext(oi);return n?rD():GI()}function GI(){rt($o(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Yo),{basename:e,navigator:t}=P.useContext(ai),{matches:r}=P.useContext(oi),{pathname:a}=li(),l=JSON.stringify($g(r)),c=P.useRef(!1);return mA(()=>{c.current=!0}),P.useCallback((m,p={})=>{if(Yn(c.current,dA),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=Qg(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:mr([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}P.createContext(null);function KI(){let{matches:n}=P.useContext(oi),e=n[n.length-1];return e?e.params:{}}function rc(n,{relative:e}={}){let{matches:t}=P.useContext(oi),{pathname:r}=li(),a=JSON.stringify($g(t));return P.useMemo(()=>Qg(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function YI(n,e){return pA(n,e)}function pA(n,e,t,r){var M;rt($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(ai),{matches:l}=P.useContext(oi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let q=y&&y.path||"";gA(m,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=li(),E;if(e){let q=typeof e=="string"?Ko(e):e;rt(p==="/"||((M=q.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=_;let R=E.pathname||"/",C=R;if(p!=="/"){let q=p.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=lA(n,{pathname:C});Yn(y||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Yn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=ZI(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:mr([p,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:mr([p,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,r);return e&&N?P.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function $I(){let n=iD(),e=BI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:a},t):null,c)}var QI=P.createElement($I,null),XI=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(oi.Provider,{value:this.props.routeContext},P.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WI({routeContext:n,match:e,children:t}){let r=P.useContext(Yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(oi.Provider,{value:n},t)}function ZI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,R=null,C=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||QI,c&&(f<0&&y===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),N=()=>{let M;return _?M=R:E?M=C:p.route.Component?M=P.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,P.createElement(WI,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?P.createElement(XI,{location:t.location,revalidation:t.revalidation,component:R,error:_,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}function Wg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(n){let e=P.useContext(Yo);return rt(e,Wg(n)),e}function eD(n){let e=P.useContext(Gf);return rt(e,Wg(n)),e}function tD(n){let e=P.useContext(oi);return rt(e,Wg(n)),e}function Zg(n){let e=tD(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nD(){return Zg("useRouteId")}function iD(){var r;let n=P.useContext(Xg),e=eD("useRouteError"),t=Zg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rD(){let{router:n}=JI("useNavigate"),e=Zg("useNavigate"),t=P.useRef(!1);return mA(()=>{t.current=!0}),P.useCallback(async(a,l={})=>{Yn(t.current,dA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var rE={};function gA(n,e,t){!e&&!rE[n]&&(rE[n]=!0,Yn(!1,t))}P.memo(sD);function sD({routes:n,future:e,state:t}){return pA(n,void 0,t,e)}function aD({to:n,replace:e,state:t,relative:r}){rt($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(ai);Yn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(oi),{pathname:c}=li(),f=ic(),m=Qg(n,$g(l),c,r==="path"),p=JSON.stringify(m);return P.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function Pt(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){rt(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Ko(t));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,R=P.useMemo(()=>{let C=yr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return Yn(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:P.createElement(ai.Provider,{value:f},P.createElement(nc.Provider,{children:e,value:R}))}function lD({children:n,location:e}){return YI(eg(n),e)}function eg(n,e=[]){let t=[];return P.Children.forEach(n,(r,a)=>{if(!P.isValidElement(r))return;let l=[...e,a];if(r.type===P.Fragment){t.push.apply(t,eg(r.props.children,l));return}rt(r.type===Pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=eg(r.props.children,l)),t.push(c)}),t}var tf="get",nf="application/x-www-form-urlencoded";function Kf(n){return n!=null&&typeof n.tagName=="string"}function uD(n){return Kf(n)&&n.tagName.toLowerCase()==="button"}function cD(n){return Kf(n)&&n.tagName.toLowerCase()==="form"}function hD(n){return Kf(n)&&n.tagName.toLowerCase()==="input"}function fD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dD(n,e){return n.button===0&&(!e||e==="_self")&&!fD(n)}function tg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function mD(n,e){let t=tg(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var Fh=null;function pD(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var gD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(n){return n!=null&&!gD.has(n)?(Yn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):n}function yD(n,e){let t,r,a,l,c;if(cD(n)){let f=n.getAttribute("action");r=f?yr(f,e):null,t=n.getAttribute("method")||tf,a=wp(n.getAttribute("enctype"))||nf,l=new FormData(n)}else if(uD(n)||hD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?yr(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||tf,a=wp(n.getAttribute("formenctype"))||wp(f.getAttribute("enctype"))||nf,l=new FormData(f,n),!pD()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tf,r=null,a=nf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Jg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _D(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TD(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await vD(l,t);return c.links?c.links():[]}return[]}));return AD(r.flat(1).filter(_D).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sE(n,e,t,r,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>{var y;return t[p].pathname!==m.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function ED(n,e,{includeHydrateFallback:t}={}){return bD(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bD(n){return[...new Set(n)]}function wD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function AD(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(wD(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SD=new Set([100,101,204,205]);function RD(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&yr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function yA(){let n=P.useContext(Yo);return Jg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xD(){let n=P.useContext(Gf);return Jg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ey=P.createContext(void 0);ey.displayName="FrameworkContext";function vA(){let n=P.useContext(ey);return Jg(n,"You must render this element inside a <HydratedRouter> element"),n}function CD(n,e){let t=P.useContext(ey),[r,a]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=M=>{M.forEach(q=>{c(q.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),P.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let R=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:yu(f,R),onBlur:yu(m,C),onMouseEnter:yu(p,R),onMouseLeave:yu(y,C),onTouchStart:yu(_,R)}]:[!1,E,{}]}function yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ID({page:n,...e}){let{router:t}=yA(),r=P.useMemo(()=>lA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?P.createElement(ND,{page:n,matches:r,...e}):null}function DD(n){let{manifest:e,routeModules:t}=vA(),[r,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return TD(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function ND({page:n,matches:e,...t}){let r=li(),{manifest:a,routeModules:l}=vA(),{basename:c}=yA(),{loaderData:f,matches:m}=xD(),p=P.useMemo(()=>sE(n,e,m,a,r,"data"),[n,e,m,a,r]),y=P.useMemo(()=>sE(n,e,m,a,r,"assets"),[n,e,m,a,r]),_=P.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,D=!1;if(e.forEach(M=>{var G;let q=a.routes[M.route.id];!q||!q.hasLoader||(!p.some(te=>te.route.id===M.route.id)&&M.route.id in f&&((G=l[M.route.id])!=null&&G.shouldRevalidate)||q.hasClientLoader?D=!0:C.add(M.route.id))}),C.size===0)return[];let N=RD(n,c);return D&&C.size>0&&N.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[c,f,r,a,p,e,n,l]),E=P.useMemo(()=>ED(y,a),[y,a]),R=DD(y);return P.createElement(P.Fragment,null,_.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:D})=>P.createElement("link",{key:C,...D})))}function OD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.6.2")}catch{}function PD({basename:n,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=yI({window:t,v5Compat:!0}));let a=r.current,[l,c]=P.useState({action:a.action,location:a.location}),f=P.useCallback(m=>{P.startTransition(()=>c(m))},[c]);return P.useLayoutEffect(()=>a.listen(f),[a,f]),P.createElement(oD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},R){let{basename:C}=P.useContext(ai),D=typeof p=="string"&&TA.test(p),N,M=!1;if(typeof p=="string"&&D&&(N=p,_A))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),B=yr(L.pathname,C);L.origin===I.origin&&B!=null?p=B+L.search+L.hash:M=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=HI(p,{relative:a}),[G,te,J]=CD(r,E),ue=LD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function k(I){e&&e(I),I.defaultPrevented||ue(I)}let x=P.createElement("a",{...E,...J,href:N||q,onClick:M||l?e:k,ref:OD(R,te),target:m,"data-discover":!D&&t==="render"?"true":void 0});return G&&!D?P.createElement(P.Fragment,null,x,P.createElement(ID,{page:q})):x});mt.displayName="Link";var VD=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=rc(c,{relative:p.relative}),E=li(),R=P.useContext(Gf),{navigator:C,basename:D}=P.useContext(ai),N=R!=null&&qD(_)&&f===!0,M=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,q=E.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),G=G?G.toLowerCase():null,M=M.toLowerCase()),G&&D&&(G=yr(G,D)||G);const te=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let J=q===M||!a&&q.startsWith(M)&&q.charAt(te)==="/",ue=G!=null&&(G===M||!a&&G.startsWith(M)&&G.charAt(M.length)==="/"),k={isActive:J,isPending:ue,isTransitioning:N},x=J?e:void 0,I;typeof r=="function"?I=r(k):I=[r,J?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return P.createElement(mt,{...p,"aria-current":x,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(k):m)});VD.displayName="NavLink";var MD=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=tf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},R)=>{let C=zD(),D=FD(f,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&TA.test(f),q=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,J=(te==null?void 0:te.getAttribute("formmethod"))||c;C(te||G.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return P.createElement("form",{ref:R,method:N,action:D,onSubmit:r?m:q,...E,"data-discover":!M&&n==="render"?"true":void 0})});MD.displayName="Form";function kD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(n){let e=P.useContext(Yo);return rt(e,kD(n)),e}function LD(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=ic(),m=li(),p=rc(n,{relative:l});return P.useCallback(y=>{if(dD(y,e)){y.preventDefault();let _=t!==void 0?t:Lu(m)===Lu(p);f(n,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,t,r,e,n,a,l,c])}function UD(n){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(tg(n)),t=P.useRef(!1),r=li(),a=P.useMemo(()=>mD(r.search,t.current?null:e.current),[r.search]),l=ic(),c=P.useCallback((f,m)=>{const p=tg(typeof f=="function"?f(a):f);t.current=!0,l("?"+p,m)},[l,a]);return[a,c]}var jD=0,BD=()=>`__${String(++jD)}__`;function zD(){let{router:n}=EA("useSubmit"),{basename:e}=P.useContext(ai),t=nD();return P.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=yD(r,e);if(a.navigate===!1){let y=a.fetcherKey||BD();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function FD(n,{relative:e}={}){let{basename:t}=P.useContext(ai),r=P.useContext(oi);rt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...rc(n||".",{relative:e})},c=li();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:mr([t,l.pathname])),Lu(l)}function qD(n,e={}){let t=P.useContext(fA);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EA("useViewTransitionState"),a=rc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=yr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=yr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return vf(a.pathname,c)!=null||vf(a.pathname,l)!=null}[...SD];const bA="/assets/buho-institucional-DgOunaZS.png";function HD(){const[n,e]=P.useState(!1),t=li(),r=[{label:"Inicio",to:"/"},{label:"Servicios",to:"/servicios"},{label:"Noticias",to:"/noticias"},{label:"Jurisprudencia",to:"/jurisprudencia"},{label:"Códigos",to:"/codigos"},{label:"Biblioteca",to:"/biblioteca"},{label:"Agenda",to:"/agenda"},{label:"Contacto",to:"/contacto"}];return A.jsxs("nav",{className:"bg-blue-900 text-white shadow-lg px-6 py-3 flex items-center justify-between",children:[A.jsxs(mt,{to:"/",className:"font-bold text-xl tracking-wide flex items-center gap-2",children:[A.jsx("img",{src:bA,alt:"BúhoLex",className:"h-8 w-8"}),"BúhoLex"]}),A.jsx("div",{className:"hidden md:flex gap-6",children:r.map(({label:a,to:l})=>A.jsx(mt,{to:l,className:"hover:text-yellow-300 font-semibold transition"+(t.pathname===l?" underline underline-offset-4 text-yellow-300":""),children:a},l))}),A.jsx("button",{className:"md:hidden",onClick:()=>e(!n),children:A.jsx("span",{className:"material-icons",children:"menu"})}),n&&A.jsx("div",{className:"md:hidden absolute top-16 right-6 bg-white text-blue-900 rounded-lg shadow-lg p-4 flex flex-col gap-4 z-50",children:r.map(({label:a,to:l})=>A.jsx(mt,{to:l,className:"hover:text-blue-600 font-semibold transition"+(t.pathname===l?" underline underline-offset-4 text-yellow-800":""),onClick:()=>e(!1),children:a},l))})]})}function GD(){return A.jsxs("footer",{className:"bg-[#0f1e3b] text-white py-10 mt-16",children:[A.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold mb-2",children:"BúhoLex"}),A.jsx("p",{className:"text-sm",children:"Litigator te defiende. Soluciones jurídicas inteligentes y accesibles para todos."})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-2",children:"Secciones"}),A.jsxs("ul",{className:"space-y-1 text-sm",children:[A.jsx("li",{children:A.jsx(mt,{to:"/",className:"hover:text-yellow-400",children:"Inicio"})}),A.jsx("li",{children:A.jsx(mt,{to:"/servicios",className:"hover:text-yellow-400",children:"Servicios"})}),A.jsx("li",{children:A.jsx(mt,{to:"/blog",className:"hover:text-yellow-400",children:"Noticias y Blog"})}),A.jsx("li",{children:A.jsx(mt,{to:"/jurisprudencia",className:"hover:text-yellow-400",children:"Jurisprudencia"})}),A.jsx("li",{children:A.jsx(mt,{to:"/biblioteca",className:"hover:text-yellow-400",children:"Biblioteca"})})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-2",children:"Contacto"}),A.jsx("p",{className:"text-sm",children:"Jr. Gálvez 844 - Barranca"}),A.jsx("p",{className:"text-sm",children:"Correo: eduardofreib@gmail.com"}),A.jsx("p",{className:"text-sm",children:"Teléfono: +51 922 038 280"}),A.jsx("div",{className:"mt-2",children:A.jsx("a",{href:"https://wa.me/51922038280",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-500 text-white px-4 py-2 mt-2 rounded hover:bg-green-600",children:"Escríbenos por WhatsApp"})})]})]}),A.jsxs("div",{className:"text-center text-xs mt-10 text-gray-400",children:["© ",new Date().getFullYear()," BúhoLex. Todos los derechos reservados."]})]})}function KD(){Yg.useEffect(()=>{function e(t){t.preventDefault(),window.deferredPrompt=t}return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);const n=async()=>{const e=window.deferredPrompt;if(e){e.prompt();const{outcome:t}=await e.userChoice;t==="accepted"&&(window.deferredPrompt=null)}};return A.jsx("div",{className:"w-full text-center py-2 bg-blue-50",children:A.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-blue-700 text-white hover:bg-blue-800 transition",children:"Instalar BúhoLex en tu dispositivo"})})}const YD=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},$D=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(E=64)),r.push(t[y],t[_],t[E],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$D(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new QD;const E=l<<2|f>>4;if(r.push(E),p!==64){const R=f<<4&240|p>>2;if(r.push(R),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(n){const e=wA(n);return AA.encodeByteArray(e,!0)},_f=function(n){return XD(n).replace(/\./g,"")},SA=function(n){try{return AA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=()=>WD().__FIREBASE_DEFAULTS__,JD=()=>{if(typeof process>"u"||typeof aE>"u")return;const n=aE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SA(n[1]);return e&&JSON.parse(e)},Yf=()=>{try{return YD()||ZD()||JD()||e2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RA=n=>{var e,t;return(t=(e=Yf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xA=n=>{const e=RA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},CA=()=>{var n;return(n=Yf())===null||n===void 0?void 0:n.config},IA=n=>{var e;return(e=Yf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){return n.endsWith(".cloudworkstations.dev")}async function ty(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_f(JSON.stringify(t)),_f(JSON.stringify(c)),""].join(".")}const Ru={};function n2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?n.emulator.push(e):n.prod.push(e);return n}function i2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let oE=!1;function ny(n,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||Ru[n]===e||Ru[n]||oE)return;Ru[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=n2().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{oE=!0,c()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=i2(r),R=t("text"),C=document.getElementById(R)||document.createElement("span"),D=t("learnmore"),N=document.getElementById(D)||document.createElement("a"),M=t("preprendIcon"),q=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;f(G),y(N,D);const te=p();m(q,M),G.append(q,C,N,te),document.body.appendChild(G)}l?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function s2(){var n;const e=(n=Yf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c2(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h2(){try{return typeof indexedDB=="object"}catch{return!1}}function f2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="FirebaseError";class Li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=d2,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?m2(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Li(a,f,r)}}function m2(n,e){return n.replace(p2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const p2=/\{\$([^}]+)}/g;function g2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ma(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(lE(l)&&lE(c)){if(!ma(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function lE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function y2(n,e){const t=new v2(n,e);return t.subscribe.bind(t)}class v2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ap),a.error===void 0&&(a.error=Ap),a.complete===void 0&&(a.complete=Ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class fs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new t2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b2(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E2(n){return n===oa?void 0:n}function b2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const A2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},S2=Ve.INFO,R2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},x2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=R2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=S2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const C2=(n,e)=>e.some(t=>n instanceof t);let uE,cE;function I2(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D2(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,ng=new WeakMap,OA=new WeakMap,Sp=new WeakMap,ry=new WeakMap;function N2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(os(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&NA.set(t,n)}).catch(()=>{}),ry.set(e,n),e}function O2(n){if(ng.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ng.set(n,e)}let ig={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ng.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function P2(n){ig=n(ig)}function V2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rp(this),e,...t);return OA.set(r,e.sort?e.sort():[e]),os(r)}:D2().includes(n)?function(...e){return n.apply(Rp(this),e),os(NA.get(this))}:function(...e){return os(n.apply(Rp(this),e))}}function M2(n){return typeof n=="function"?V2(n):(n instanceof IDBTransaction&&O2(n),C2(n,I2())?new Proxy(n,ig):n)}function os(n){if(n instanceof IDBRequest)return N2(n);if(Sp.has(n))return Sp.get(n);const e=M2(n);return e!==n&&(Sp.set(n,e),ry.set(e,n)),e}const Rp=n=>ry.get(n);function k2(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=os(c);return r&&c.addEventListener("upgradeneeded",m=>{r(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const L2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],xp=new Map;function hE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=U2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||L2.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return xp.set(e,l),l}P2(n=>({...n,get:(e,t,r)=>hE(e,t)||n.get(e,t,r),has:(e,t)=>!!hE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function B2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",fE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new iy("@firebase/app"),z2="@firebase/app-compat",F2="@firebase/analytics-compat",q2="@firebase/analytics",H2="@firebase/app-check-compat",G2="@firebase/app-check",K2="@firebase/auth",Y2="@firebase/auth-compat",$2="@firebase/database",Q2="@firebase/data-connect",X2="@firebase/database-compat",W2="@firebase/functions",Z2="@firebase/functions-compat",J2="@firebase/installations",eN="@firebase/installations-compat",tN="@firebase/messaging",nN="@firebase/messaging-compat",iN="@firebase/performance",rN="@firebase/performance-compat",sN="@firebase/remote-config",aN="@firebase/remote-config-compat",oN="@firebase/storage",lN="@firebase/storage-compat",uN="@firebase/firestore",cN="@firebase/ai",hN="@firebase/firestore-compat",fN="firebase",dN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",mN={[rg]:"fire-core",[z2]:"fire-core-compat",[q2]:"fire-analytics",[F2]:"fire-analytics-compat",[G2]:"fire-app-check",[H2]:"fire-app-check-compat",[K2]:"fire-auth",[Y2]:"fire-auth-compat",[$2]:"fire-rtdb",[Q2]:"fire-data-connect",[X2]:"fire-rtdb-compat",[W2]:"fire-fn",[Z2]:"fire-fn-compat",[J2]:"fire-iid",[eN]:"fire-iid-compat",[tN]:"fire-fcm",[nN]:"fire-fcm-compat",[iN]:"fire-perf",[rN]:"fire-perf-compat",[sN]:"fire-rc",[aN]:"fire-rc-compat",[oN]:"fire-gcs",[lN]:"fire-gcs-compat",[uN]:"fire-fst",[hN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Map,pN=new Map,ag=new Map;function dE(n,e){try{n.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pa(n){const e=n.name;if(ag.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,n);for(const t of Tf.values())dE(t,n);for(const t of pN.values())dE(t,n);return!0}function $f(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new sc("app","Firebase",gN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=dN;function PA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sg,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(t||(t=CA()),!t)throw ls.create("no-options");const l=Tf.get(a);if(l){if(ma(t,l.options)&&ma(r,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new w2(a);for(const m of ag.values())c.addComponent(m);const f=new yN(t,r,c);return Tf.set(a,f),f}function sy(n=sg){const e=Tf.get(n);if(!e&&n===sg&&CA())return PA();if(!e)throw ls.create("no-app",{appName:n});return e}function xi(n,e,t){var r;let a=(r=mN[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(f.join(" "));return}pa(new fs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",_N=1,Uu="firebase-heartbeat-store";let Cp=null;function VA(){return Cp||(Cp=k2(vN,_N,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),Cp}async function TN(n){try{const t=(await VA()).transaction(Uu),r=await t.objectStore(Uu).get(MA(n));return await t.done,r}catch(e){if(e instanceof Li)vr.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(t.message)}}}async function mE(n,e){try{const r=(await VA()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,MA(n)),await r.done}catch(t){if(t instanceof Li)vr.warn(t.message);else{const r=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vr.warn(r.message)}}}function MA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,bN=30;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=pE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>bN){const c=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pE(),{heartbeatsToSend:r,unsentEntries:a}=AN(this._heartbeatsCache.heartbeats),l=_f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vr.warn(t),""}}}function pE(){return new Date().toISOString().substring(0,10)}function AN(n,e=EN){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),gE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),gE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h2()?f2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gE(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}function RN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){pa(new fs("platform-logger",e=>new j2(e),"PRIVATE")),pa(new fs("heartbeat",e=>new wN(e),"PRIVATE")),xi(rg,fE,n),xi(rg,fE,"esm2017"),xi("fire-js","")}xN("");var CN="firebase",IN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(CN,IN,"app");var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,kA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function I(){}I.prototype=x.prototype,k.D=x.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(L,B,F){for(var V=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)V[Tt-2]=arguments[Tt];return x.prototype[B].apply(L,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,x,I){I||(I=0);var L=Array(16);if(typeof x=="string")for(var B=0;16>B;++B)L[B]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(B=0;16>B;++B)L[B]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=k.g[0],I=k.g[1],B=k.g[2];var F=k.g[3],V=x+(F^I&(B^F))+L[0]+3614090360&4294967295;x=I+(V<<7&4294967295|V>>>25),V=F+(B^x&(I^B))+L[1]+3905402710&4294967295,F=x+(V<<12&4294967295|V>>>20),V=B+(I^F&(x^I))+L[2]+606105819&4294967295,B=F+(V<<17&4294967295|V>>>15),V=I+(x^B&(F^x))+L[3]+3250441966&4294967295,I=B+(V<<22&4294967295|V>>>10),V=x+(F^I&(B^F))+L[4]+4118548399&4294967295,x=I+(V<<7&4294967295|V>>>25),V=F+(B^x&(I^B))+L[5]+1200080426&4294967295,F=x+(V<<12&4294967295|V>>>20),V=B+(I^F&(x^I))+L[6]+2821735955&4294967295,B=F+(V<<17&4294967295|V>>>15),V=I+(x^B&(F^x))+L[7]+4249261313&4294967295,I=B+(V<<22&4294967295|V>>>10),V=x+(F^I&(B^F))+L[8]+1770035416&4294967295,x=I+(V<<7&4294967295|V>>>25),V=F+(B^x&(I^B))+L[9]+2336552879&4294967295,F=x+(V<<12&4294967295|V>>>20),V=B+(I^F&(x^I))+L[10]+4294925233&4294967295,B=F+(V<<17&4294967295|V>>>15),V=I+(x^B&(F^x))+L[11]+2304563134&4294967295,I=B+(V<<22&4294967295|V>>>10),V=x+(F^I&(B^F))+L[12]+1804603682&4294967295,x=I+(V<<7&4294967295|V>>>25),V=F+(B^x&(I^B))+L[13]+4254626195&4294967295,F=x+(V<<12&4294967295|V>>>20),V=B+(I^F&(x^I))+L[14]+2792965006&4294967295,B=F+(V<<17&4294967295|V>>>15),V=I+(x^B&(F^x))+L[15]+1236535329&4294967295,I=B+(V<<22&4294967295|V>>>10),V=x+(B^F&(I^B))+L[1]+4129170786&4294967295,x=I+(V<<5&4294967295|V>>>27),V=F+(I^B&(x^I))+L[6]+3225465664&4294967295,F=x+(V<<9&4294967295|V>>>23),V=B+(x^I&(F^x))+L[11]+643717713&4294967295,B=F+(V<<14&4294967295|V>>>18),V=I+(F^x&(B^F))+L[0]+3921069994&4294967295,I=B+(V<<20&4294967295|V>>>12),V=x+(B^F&(I^B))+L[5]+3593408605&4294967295,x=I+(V<<5&4294967295|V>>>27),V=F+(I^B&(x^I))+L[10]+38016083&4294967295,F=x+(V<<9&4294967295|V>>>23),V=B+(x^I&(F^x))+L[15]+3634488961&4294967295,B=F+(V<<14&4294967295|V>>>18),V=I+(F^x&(B^F))+L[4]+3889429448&4294967295,I=B+(V<<20&4294967295|V>>>12),V=x+(B^F&(I^B))+L[9]+568446438&4294967295,x=I+(V<<5&4294967295|V>>>27),V=F+(I^B&(x^I))+L[14]+3275163606&4294967295,F=x+(V<<9&4294967295|V>>>23),V=B+(x^I&(F^x))+L[3]+4107603335&4294967295,B=F+(V<<14&4294967295|V>>>18),V=I+(F^x&(B^F))+L[8]+1163531501&4294967295,I=B+(V<<20&4294967295|V>>>12),V=x+(B^F&(I^B))+L[13]+2850285829&4294967295,x=I+(V<<5&4294967295|V>>>27),V=F+(I^B&(x^I))+L[2]+4243563512&4294967295,F=x+(V<<9&4294967295|V>>>23),V=B+(x^I&(F^x))+L[7]+1735328473&4294967295,B=F+(V<<14&4294967295|V>>>18),V=I+(F^x&(B^F))+L[12]+2368359562&4294967295,I=B+(V<<20&4294967295|V>>>12),V=x+(I^B^F)+L[5]+4294588738&4294967295,x=I+(V<<4&4294967295|V>>>28),V=F+(x^I^B)+L[8]+2272392833&4294967295,F=x+(V<<11&4294967295|V>>>21),V=B+(F^x^I)+L[11]+1839030562&4294967295,B=F+(V<<16&4294967295|V>>>16),V=I+(B^F^x)+L[14]+4259657740&4294967295,I=B+(V<<23&4294967295|V>>>9),V=x+(I^B^F)+L[1]+2763975236&4294967295,x=I+(V<<4&4294967295|V>>>28),V=F+(x^I^B)+L[4]+1272893353&4294967295,F=x+(V<<11&4294967295|V>>>21),V=B+(F^x^I)+L[7]+4139469664&4294967295,B=F+(V<<16&4294967295|V>>>16),V=I+(B^F^x)+L[10]+3200236656&4294967295,I=B+(V<<23&4294967295|V>>>9),V=x+(I^B^F)+L[13]+681279174&4294967295,x=I+(V<<4&4294967295|V>>>28),V=F+(x^I^B)+L[0]+3936430074&4294967295,F=x+(V<<11&4294967295|V>>>21),V=B+(F^x^I)+L[3]+3572445317&4294967295,B=F+(V<<16&4294967295|V>>>16),V=I+(B^F^x)+L[6]+76029189&4294967295,I=B+(V<<23&4294967295|V>>>9),V=x+(I^B^F)+L[9]+3654602809&4294967295,x=I+(V<<4&4294967295|V>>>28),V=F+(x^I^B)+L[12]+3873151461&4294967295,F=x+(V<<11&4294967295|V>>>21),V=B+(F^x^I)+L[15]+530742520&4294967295,B=F+(V<<16&4294967295|V>>>16),V=I+(B^F^x)+L[2]+3299628645&4294967295,I=B+(V<<23&4294967295|V>>>9),V=x+(B^(I|~F))+L[0]+4096336452&4294967295,x=I+(V<<6&4294967295|V>>>26),V=F+(I^(x|~B))+L[7]+1126891415&4294967295,F=x+(V<<10&4294967295|V>>>22),V=B+(x^(F|~I))+L[14]+2878612391&4294967295,B=F+(V<<15&4294967295|V>>>17),V=I+(F^(B|~x))+L[5]+4237533241&4294967295,I=B+(V<<21&4294967295|V>>>11),V=x+(B^(I|~F))+L[12]+1700485571&4294967295,x=I+(V<<6&4294967295|V>>>26),V=F+(I^(x|~B))+L[3]+2399980690&4294967295,F=x+(V<<10&4294967295|V>>>22),V=B+(x^(F|~I))+L[10]+4293915773&4294967295,B=F+(V<<15&4294967295|V>>>17),V=I+(F^(B|~x))+L[1]+2240044497&4294967295,I=B+(V<<21&4294967295|V>>>11),V=x+(B^(I|~F))+L[8]+1873313359&4294967295,x=I+(V<<6&4294967295|V>>>26),V=F+(I^(x|~B))+L[15]+4264355552&4294967295,F=x+(V<<10&4294967295|V>>>22),V=B+(x^(F|~I))+L[6]+2734768916&4294967295,B=F+(V<<15&4294967295|V>>>17),V=I+(F^(B|~x))+L[13]+1309151649&4294967295,I=B+(V<<21&4294967295|V>>>11),V=x+(B^(I|~F))+L[4]+4149444226&4294967295,x=I+(V<<6&4294967295|V>>>26),V=F+(I^(x|~B))+L[11]+3174756917&4294967295,F=x+(V<<10&4294967295|V>>>22),V=B+(x^(F|~I))+L[2]+718787259&4294967295,B=F+(V<<15&4294967295|V>>>17),V=I+(F^(B|~x))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var I=x-this.blockSize,L=this.B,B=this.h,F=0;F<x;){if(B==0)for(;F<=I;)a(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<x;)if(L[B++]=k.charCodeAt(F++),B==this.blockSize){a(this,L),B=0;break}}else for(;F<x;)if(L[B++]=k[F++],B==this.blockSize){a(this,L),B=0;break}}this.h=B,this.o+=x},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var I=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=I&255,I/=256;for(this.u(k),k=Array(16),x=I=0;4>x;++x)for(var L=0;32>L;L+=8)k[I++]=this.g[x]>>>L&255;return k};function l(k,x){var I=f;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=x(k)}function c(k,x){this.h=x;for(var I=[],L=!0,B=k.length-1;0<=B;B--){var F=k[B]|0;L&&F==x||(I[B]=F,L=!1)}this.g=I}var f={};function m(k){return-128<=k&&128>k?l(k,function(x){return new c([x|0],0>x?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return N(p(-k));for(var x=[],I=1,L=0;k>=I;L++)x[L]=k/I|0,I*=4294967296;return new c(x,0)}function y(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return N(y(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(x,8)),L=_,B=0;B<k.length;B+=8){var F=Math.min(8,k.length-B),V=parseInt(k.substring(B,B+F),x);8>F?(F=p(Math.pow(x,F)),L=L.j(F).add(p(V))):(L=L.j(I),L=L.add(p(V)))}return L}var _=m(0),E=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(D(this))return-N(this).m();for(var k=0,x=1,I=0;I<this.g.length;I++){var L=this.i(I);k+=(0<=L?L:4294967296+L)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(D(this))return"-"+N(this).toString(k);for(var x=p(Math.pow(k,6)),I=this,L="";;){var B=te(I,x).g;I=M(I,B.j(x));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=B,C(I))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=M(this,k),D(k)?-1:C(k)?0:1};function N(k){for(var x=k.g.length,I=[],L=0;L<x;L++)I[L]=~k.g[L];return new c(I,~k.h).add(E)}n.abs=function(){return D(this)?N(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],L=0,B=0;B<=x;B++){var F=L+(this.i(B)&65535)+(k.i(B)&65535),V=(F>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);L=V>>>16,F&=65535,V&=65535,I[B]=V<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function M(k,x){return k.add(N(x))}n.j=function(k){if(C(this)||C(k))return _;if(D(this))return D(k)?N(this).j(N(k)):N(N(this).j(k));if(D(k))return N(this.j(N(k)));if(0>this.l(R)&&0>k.l(R))return p(this.m()*k.m());for(var x=this.g.length+k.g.length,I=[],L=0;L<2*x;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<k.g.length;B++){var F=this.i(L)>>>16,V=this.i(L)&65535,Tt=k.i(B)>>>16,st=k.i(B)&65535;I[2*L+2*B]+=V*st,q(I,2*L+2*B),I[2*L+2*B+1]+=F*st,q(I,2*L+2*B+1),I[2*L+2*B+1]+=V*Tt,q(I,2*L+2*B+1),I[2*L+2*B+2]+=F*Tt,q(I,2*L+2*B+2)}for(L=0;L<x;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=x;L<2*x;L++)I[L]=0;return new c(I,0)};function q(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function G(k,x){this.g=k,this.h=x}function te(k,x){if(C(x))throw Error("division by zero");if(C(k))return new G(_,_);if(D(k))return x=te(N(k),x),new G(N(x.g),N(x.h));if(D(x))return x=te(k,N(x)),new G(N(x.g),x.h);if(30<k.g.length){if(D(k)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,L=x;0>=L.l(k);)I=J(I),L=J(L);var B=ue(I,1),F=ue(L,1);for(L=ue(L,2),I=ue(I,2);!C(L);){var V=F.add(L);0>=V.l(k)&&(B=B.add(I),F=V),L=ue(L,1),I=ue(I,1)}return x=M(k,B.j(x)),new G(B,x)}for(B=_;0<=k.l(x);){for(I=Math.max(1,Math.floor(k.m()/x.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(I),V=F.j(x);D(V)||0<V.l(k);)I-=L,F=p(I),V=F.j(x);C(F)&&(F=E),B=B.add(F),k=M(k,V)}return new G(B,k)}n.A=function(k){return te(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],L=0;L<x;L++)I[L]=this.i(L)&k.i(L);return new c(I,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],L=0;L<x;L++)I[L]=this.i(L)|k.i(L);return new c(I,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),I=[],L=0;L<x;L++)I[L]=this.i(L)^k.i(L);return new c(I,this.h^k.h)};function J(k){for(var x=k.g.length+1,I=[],L=0;L<x;L++)I[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(I,k.h)}function ue(k,x){var I=x>>5;x%=32;for(var L=k.g.length-I,B=[],F=0;F<L;F++)B[F]=0<x?k.i(F+I)>>>x|k.i(F+I+1)<<32-x:k.i(F+I);return new c(B,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,us=c}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LA,Eu,UA,rf,og,jA,BA,zA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(h,v){if(v)e:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in T))break e;T=T[H]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,H={next:function(){if(!S&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function R(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,H,X){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return v.prototype[H].apply(S,le)}}function D(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function N(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const H=h.length||0,X=S.length||0;h.length=H+X;for(let le=0;le<X;le++)h[H+le]=S[le]}else h.push(S)}}class M{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function te(h){return te[" "](h),h}te[" "]=function(){};var J=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ue(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function k(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function x(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let T,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(T in S)h[T]=S[T];for(let X=0;X<I.length;X++)T=I[X],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function B(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){f.setTimeout(()=>{throw h},0)}function V(){var h=ke;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Tt{constructor(){this.h=this.g=null}add(v,T){const S=st.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new M(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ke=new Tt,U=()=>{const h=f.Promise.resolve(void 0);ae=()=>{h.then(se)}};var se=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){F(T)}var v=st;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function De(h,v){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){e:{try{te(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}C(De,oe);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ui(h,v,T,S,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=H,this.key=++Je,this.da=this.fa=!1}function Sr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Bi(h){this.src=h,this.g={},this.h=0}Bi.prototype.add=function(h,v,T,S,H){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var le=As(h,v,S,H);return-1<le?(v=h[le],T||(v.fa=!1)):(v=new ui(v,this.src,X,!!S,H),v.fa=T,h.push(v)),v};function ws(h,v){var T=v.type;if(T in h.g){var S=h.g[T],H=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(S,H,1),X&&(Sr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function As(h,v,T,S){for(var H=0;H<h.length;++H){var X=h[H];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==S)return H}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),al={};function vc(h,v,T,S,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)vc(h,v[X],T,S,H);return null}return T=_c(T),h&&h[kt]?h.K(v,T,p(S)?!!S.capture:!1,H):In(h,v,T,!1,S,H)}function In(h,v,T,S,H,X){if(!v)throw Error("Invalid event type");var le=p(H)?!!H.capture:!!H,Le=Ca(h);if(Le||(h[Ss]=Le=new Bi(h)),T=Le.add(v,T,S,le,X),T.proxy)return T;if(S=gd(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)ye||(H=le),H===void 0&&(H=!1),h.addEventListener(v.toString(),S,H);else if(h.attachEvent)h.attachEvent(Rs(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gd(){function h(T){return v.call(h.src,h.listener,T)}const v=yd;return h}function ol(h,v,T,S,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)ol(h,v[X],T,S,H);else S=p(S)?!!S.capture:!!S,T=_c(T),h&&h[kt]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=As(X,T,S,H),-1<T&&(Sr(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ca(h))&&(v=h.g[v.toString()],h=-1,v&&(h=As(v,T,S,H)),(T=-1<h?v[h]:null)&&xa(T))}function xa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[kt])ws(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(Rs(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=Ca(v))?(ws(T,h),T.h==0&&(T.src=null,v[Ss]=null)):Sr(h)}}}function Rs(h){return h in al?al[h]:al[h]="on"+h}function yd(h,v){if(h.da)h=!0;else{v=new De(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&xa(h),h=T.call(S,v)}return h}function Ca(h){return h=h[Ss],h instanceof Bi?h:null}var ll="__closure_events_fn_"+(1e9*Math.random()>>>0);function _c(h){return typeof h=="function"?h:(h[ll]||(h[ll]=function(v){return h.handleEvent(v)}),h[ll])}function ct(){ce.call(this),this.i=new Bi(this),this.M=this,this.F=null}C(ct,ce),ct.prototype[kt]=!0,ct.prototype.removeEventListener=function(h,v,T,S){ol(this,h,v,T,S)};function Ge(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new oe(v,h);else if(v instanceof oe)v.target=v.target||h;else{var H=v;v=new oe(S,h),L(v,H)}if(H=!0,T)for(var X=T.length-1;0<=X;X--){var le=v.g=T[X];H=vn(le,S,!0,v)&&H}if(le=v.g=h,H=vn(le,S,!0,v)&&H,H=vn(le,S,!1,v)&&H,T)for(X=0;X<T.length;X++)le=v.g=T[X],H=vn(le,S,!1,v)&&H}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Sr(T[S]);delete h.g[v],h.h--}}this.F=null},ct.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},ct.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function vn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var le=v[X];if(le&&!le.da&&le.capture==T){var Le=le.listener,It=le.ha||le.src;le.fa&&ws(h.i,le),H=Le.call(It,S)!==!1&&H}}return H&&!S.defaultPrevented}function Zt(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Tc(h){h.g=Zt(()=>{h.g=null,h.i&&(h.i=!1,Tc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class vd extends ce{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(h){ce.call(this),this.h=h,this.g={}}C(xs,ce);var Cs=[];function Is(h){ue(h.g,function(v,T){this.g.hasOwnProperty(T)&&xa(v)},h),h.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Is(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=f.JSON.stringify,Ia=f.JSON.parse,Ds=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function cl(h){return h.h||(h.h=h.i())}function hl(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){oe.call(this,"d")}C(Fi,oe);function fl(){oe.call(this,"c")}C(fl,oe);var ci={},dl=null;function Rr(){return dl=dl||new ct}ci.La="serverreachability";function Da(h){oe.call(this,ci.La,h)}C(Da,oe);function xr(h){const v=Rr();Ge(v,new Da(v))}ci.STAT_EVENT="statevent";function Ec(h,v){oe.call(this,ci.STAT_EVENT,h),this.stat=v}C(Ec,oe);function nt(h){const v=Rr();Ge(v,new Ec(v,h))}ci.Ma="timingevent";function Ct(h,v){oe.call(this,ci.Ma,h),this.size=v}C(Ct,oe);function Et(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function ml(h,v,T,S,H,X){h.info(function(){if(h.g)if(X)for(var le="",Le=X.split("&"),It=0;It<Le.length;It++){var Ue=Le[It].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var Dt=Ut.split("_");le=2<=Dt.length&&Dt[1]=="type"?le+(Ut+"="+Ue+"&"):le+(Ut+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+T+`
`+le})}function _d(h,v,T,S,H,X,le){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+T+`
`+X+" "+le})}function Cr(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ns(h,T)+(S?" "+S:"")})}function bc(h,v){h.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function Ns(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return $n(T)}catch{return v}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function fi(){}C(fi,ul),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},hi=new fi;function on(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var pl={},Na={};function Qn(h,v,T){h.L=1,h.v=ks(_n(v)),h.m=T,h.P=!0,Hi(h,null)}function Hi(h,v){h.F=Date.now(),Os(h),h.A=_n(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),El(T.i,"t",S),h.C=0,T=h.j.J,h.h=new pt,h.g=Uc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new vd(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cs[0]=H.toString()),H=Cs);for(var X=0;X<H.length;X++){var le=vc(T,H[X],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),xr(),ml(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Vn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)e:{const Dt=Vn(this.g);var v=this.g.Ba();const Zi=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=Zi?xr(3):xr(2)),Dr(this);var T=this.g.Z();this.X=T;t:if(wc(this)){var S=Dc(this.g);h="";var H=S.length,X=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),di(this);var le="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==H-1)});S.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,_d(this.i,this.u,this.A,this.l,this.R,Dt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,It=this.g;if((Le=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Le)){var Ue=Le;break t}}Ue=null}if(T=Ue)Cr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,T);else{this.o=!1,this.s=3,nt(12),qt(this),di(this);break e}}if(this.P){T=!0;let Ht;for(;!this.J&&this.C<le.length;)if(Ht=Ac(this,le),Ht==Na){Dt==4&&(this.s=4,nt(14),T=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==pl){this.s=4,nt(15),Cr(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else Cr(this.i,this.l,Ht,null),Ps(this,Ht);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||le.length!=0||this.h.h||(this.s=1,nt(16),T=!1),this.o=this.o&&T,!T)Cr(this.i,this.l,le,"[Invalid Chunked Response]"),qt(this),di(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Hs(Ut),Ut.M=!0,nt(11))}}else Cr(this.i,this.l,le,null),Ps(this,le);Dt==4&&qt(this),this.o&&!this.J&&(Dt==4?Mc(this.j,this):(this.o=!1,Os(this)))}else Ad(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),qt(this),di(this)}}}catch{}finally{}};function wc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ac(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?Na:(T=Number(v.substring(T,S)),isNaN(T)?pl:(S+=1,S+T>v.length?Na:(v=v.slice(S,S+T),h.C=S+T,v)))}on.prototype.cancel=function(){this.J=!0,qt(this)};function Os(h){h.S=Date.now()+h.I,Sc(h,h.I)}function Sc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Et(E(h.ba,h),v)}function Dr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bc(this.i,this.A),this.L!=2&&(xr(),nt(17)),qt(this),this.s=2,di(this)):Sc(this,this.S-h)};function di(h){h.j.G==0||h.J||Mc(h.j,h)}function qt(h){Dr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Is(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ps(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||gl(T.h,h))){if(!h.K&&gl(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)qa(T),za(T);else break e;Rl(T),nt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Et(E(T.Za,T),6e3));if(1>=Pa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Wi(T,11)}else if((h.K||T.g==h)&&qa(T),!q(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let Ue=H[v];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(T.la=Ut,T.j.info("VER="+T.la));const Dt=Ue[4];Dt!=null&&(T.Aa=Dt,T.j.info("SVER="+T.Aa));const Zi=Ue[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(S=1.5*Zi,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Ht=h.g;if(Ht){const Ti=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var X=S.h;X.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Va(X,X.h),X.h=null))}if(S.D){const Cl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(S.ya=Cl,$e(S.I,S.D,Cl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var le=h;if(S.qa=Lc(S,S.J?S.ia:null,S.W),le.K){ln(S.h,le);var Le=le,It=S.L;It&&(Le.I=It),Le.B&&(Dr(Le),Os(Le)),S.g=le}else Pc(S);0<T.i.length&&Fa(T)}else Ue[0]!="stop"&&Ue[0]!="close"||Wi(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wi(T,7):Al(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}xr(4)}catch{}}var Rc=class{constructor(h,v){this.g=h,this.map=v}};function Gi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pa(h){return h.h?1:h.g?h.g.size:0}function gl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Va(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Gi.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return D(h.i)}function Td(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function Ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function vl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ma(h),S=Td(h),H=S.length,X=0;X<H;X++)v.call(void 0,S[X],T&&T[X],h)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),H=null;if(0<=S){var X=h[T].substring(0,S);H=h[T].substring(S+1)}else X=h[T];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function bt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bt){this.h=h.h,Ms(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.s),this.l=h.l;var v=h.i,T=new Yi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ki(this,T),this.m=h.m}else h&&(v=String(h).match(Vs))?(this.h=!1,Ms(this,v[1]||"",!0),this.o=Nn(v[2]||""),this.g=Nn(v[3]||"",!0),Nr(this,v[4]),this.l=Nn(v[5]||"",!0),Ki(this,v[6]||"",!0),this.m=Nn(v[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}bt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ls(v,_l,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ls(v,_l,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ls(T,T.charAt(0)=="/"?bd:Tl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ls(T,ka)),h.join("")};function _n(h){return new bt(h)}function Ms(h,v,T){h.j=T?Nn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ki(h,v,T){v instanceof Yi?(h.i=v,Cc(h.i,h.h)):(T||(v=Ls(v,wd)),h.i=new Yi(v,h.h))}function $e(h,v,T){h.i.set(v,T)}function ks(h){return $e(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Nn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ls(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,xc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _l=/[#\/\?@]/g,Tl=/[#\?:]/g,bd=/[#\?]/g,wd=/[#\?@]/g,ka=/#/g;function Yi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function On(h){h.g||(h.g=new Map,h.h=0,h.i&&Ed(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Yi.prototype,n.add=function(h,v){On(this),this.i=null,h=mi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function $i(h,v){On(h),v=mi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Qi(h,v){return On(h),v=mi(h,v),h.g.has(v)}n.forEach=function(h,v){On(this),this.g.forEach(function(T,S){T.forEach(function(H){h.call(v,H,S,this)},this)},this)},n.na=function(){On(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const H=h[S];for(let X=0;X<H.length;X++)T.push(v[S])}return T},n.V=function(h){On(this);let v=[];if(typeof h=="string")Qi(this,h)&&(v=v.concat(this.g.get(mi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},n.set=function(h,v){return On(this),this.i=null,h=mi(this,h),Qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function El(h,v,T){$i(h,v),0<T.length&&(h.i=null,h.g.set(mi(h,v),D(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const X=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var H=X;le[S]!==""&&(H+="="+encodeURIComponent(String(le[S]))),h.push(H)}}return this.i=h.join("&")};function mi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Cc(h,v){v&&!h.j&&(On(h),h.i=null,h.g.forEach(function(T,S){var H=S.toLowerCase();S!=H&&($i(this,S),El(this,H,T))},h)),h.j=v}function Us(h,v){const T=new Dn;if(f.Image){const S=new Image;S.onload=R(Pn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=R(Pn,T,"TestLoadImage: error",!1,v,S),S.onabort=R(Pn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=R(Pn,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Xn(h,v){const T=new Dn,S=new AbortController,H=setTimeout(()=>{S.abort(),Pn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?Pn(T,"TestPingServer: ok",!0,v):Pn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Pn(T,"TestPingServer: error",!1,v)})}function Pn(h,v,T,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(T)}catch{}}function js(){this.g=new Ds}function pi(h,v,T){const S=T||"";try{vl(h,function(H,X){let le=H;p(H)&&(le=$n(H)),v.push(S+X+"="+encodeURIComponent(le))})}catch(H){throw v.push(S+"type="+encodeURIComponent("_badmap")),H}}function Or(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Or,ul),Or.prototype.g=function(){return new Xi(this.l,this.j)},Or.prototype.i=function(h){return function(){return h}}({});function Xi(h,v){ct.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Xi,ct),n=Xi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,yi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?gi(this):yi(this),this.readyState==3&&bl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,gi(this))},n.Qa=function(h){this.g&&(this.response=h,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yi(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wl(h){let v="";return ue(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Lt(h,v,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=wl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):$e(h,v,T))}function qe(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(qe,ct);var La=/^https?$/i,Bs=["POST","PUT"];n=qe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?cl(this.o):cl(hi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Ic(this,X);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)T.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())T.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),H=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Bs,v,void 0))||S||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of T)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Ic(this,X)}};function Ic(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ua(h),vi(h)}function Ua(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Vn(h)!=4||h.Z()!=2)){if(h.u&&Vn(h)==4)Zt(h.Ea,0,h);else if(Ge(h,"readystatechange"),Vn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var S;if(S=le===0){var H=String(h.D).match(Vs)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),S=!La.test(H?H.toLowerCase():"")}T=S}if(T)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var X=2<Vn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ua(h)}}finally{vi(h)}}}}function vi(h,v){if(h.g){zs(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ge(h,"ready");try{T.onreadystatechange=S}catch{}}}function zs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Vn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ia(v)}};function Dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ad(h){const v={};h=(h.g&&2<=Vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(q(h[S]))continue;var T=B(h[S]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[H]||[];v[H]=X,X.push(T)}k(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ba(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,h),this.cb=Fs("retryDelaySeedMs",1e4,h),this.Wa=Fs("forwardChannelMaxRetries",2,h),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(h&&h.concurrentRequestLimit),this.Da=new js,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(h,v,T,S){nt(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=Lc(this,null,this.W),Fa(this)};function Al(h){if(Nc(h),h.G==3){var v=h.U++,T=_n(h.I);if($e(T,"SID",h.K),$e(T,"RID",v),$e(T,"TYPE","terminate"),qs(h,T),v=new on(h,h.j,v),v.L=2,v.v=ks(_n(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Os(v)}kc(h)}function za(h){h.g&&(Hs(h),h.g.cancel(),h.g=null)}function Nc(h){za(h),h.u&&(f.clearTimeout(h.u),h.u=null),qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Fa(h){if(!Oa(h.h)&&!h.s){h.s=!0;var v=h.Ga;ae||U(),de||(ae(),de=!0),ke.add(v,h),h.B=0}}function Sd(h,v){return Pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Et(E(h.Ga,h,v),xl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new on(this,this.j,h);let X=this.o;if(this.S&&(X?(X=x(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Oc(this,H,v),T=_n(this.I),$e(T,"RID",h),$e(T,"CVER",22),this.D&&$e(T,"X-HTTP-Session-Id",this.D),qs(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(wl(X)))+"&"+v:this.m&&Lt(T,this.m,X)),Va(this.h,H),this.Ua&&$e(T,"TYPE","init"),this.P?($e(T,"$req",v),$e(T,"SID","null"),H.T=!0,Qn(H,T,null)):Qn(H,T,v),this.G=2}}else this.G==3&&(h?Sl(this,h):this.i.length==0||Oa(this.h)||Sl(this))};function Sl(h,v){var T;v?T=v.l:T=h.U++;const S=_n(h.I);$e(S,"SID",h.K),$e(S,"RID",T),$e(S,"AID",h.T),qs(h,S),h.m&&h.o&&Lt(S,h.m,h.o),T=new on(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Oc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,T),Qn(T,S,v)}function qs(h,v){h.H&&ue(h.H,function(T,S){$e(v,S,T)}),h.l&&vl({},function(T,S){$e(v,S,T)})}function Oc(h,v,T){T=Math.min(h.i.length,T);var S=h.l?E(h.l.Na,h.l,h):null;e:{var H=h.i;let X=-1;for(;;){const le=["count="+T];X==-1?0<T?(X=H[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Le=!0;for(let It=0;It<T;It++){let Ue=H[It].g;const Ut=H[It].map;if(Ue-=X,0>Ue)X=Math.max(0,H[It].g-100),Le=!1;else try{pi(Ut,le,"req"+Ue+"_")}catch{S&&S(Ut)}}if(Le){S=le.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,S}function Pc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ae||U(),de||(ae(),de=!0),ke.add(v,h),h.v=0}}function Rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Et(E(h.Fa,h),xl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Et(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),za(this),Vc(this))};function Hs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Vc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);$e(v,"RID","rpc"),$e(v,"SID",h.K),$e(v,"AID",h.T),$e(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$e(v,"TO",h.ja),$e(v,"TYPE","xmlhttp"),qs(h,v),h.m&&h.o&&Lt(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ks(_n(v)),T.m=null,T.P=!0,Hi(T,h)}n.Za=function(){this.C!=null&&(this.C=null,za(this),Rl(this),nt(19))};function qa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Mc(h,v){var T=null;if(h.g==v){qa(h),Hs(h),h.g=null;var S=2}else if(gl(h.h,v))T=v.D,ln(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;S=Rr(),Ge(S,new Ct(S,T)),Fa(h)}else Pc(h);else if(H=v.s,H==3||H==0&&0<v.X||!(S==1&&Sd(h,v)||S==2&&Rl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function xl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Wi(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),S=h.Xa;const H=!S;S=new bt(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ms(S,"https"),ks(S),H?Us(S.toString(),T):Xn(S.toString(),T)}else nt(2);h.G=0,h.l&&h.l.sa(v),kc(h),Nc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function kc(h){if(h.G=0,h.ka=[],h.l){const v=yl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Lc(h,v,T){var S=T instanceof bt?_n(T):new bt(T);if(S.g!="")v&&(S.g=v+"."+S.g),Nr(S,S.s);else{var H=f.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new bt(null);S&&Ms(X,S),v&&(X.g=v),H&&Nr(X,H),T&&(X.l=T),S=X}return T=h.D,v=h.ya,T&&v&&$e(S,T,v),$e(S,"VER",h.la),qs(h,S),S}function Uc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qe(new Or({eb:T})):new qe(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}n=jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ha(){}Ha.prototype.g=function(h,v){return new un(h,v)};function un(h,v){ct.call(this),this.g=new Ba(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new _i(this)}C(un,ct),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Al(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=$n(h),h=T);v.i.push(new Rc(v.Ya++,h)),v.G==3&&Fa(v)},un.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,un.aa.N.call(this)};function Bc(h){Fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Bc,Fi);function zc(){fl.call(this),this.status=1}C(zc,fl);function _i(h){this.g=h}C(_i,jc),_i.prototype.ua=function(){Ge(this.g,"a")},_i.prototype.ta=function(h){Ge(this.g,new Bc(h))},_i.prototype.sa=function(h){Ge(this.g,new zc)},_i.prototype.ra=function(){Ge(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,zA=function(){return new Ha},BA=function(){return Rr()},jA=ci,og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,rf=Ir,qi.COMPLETE="complete",UA=qi,hl.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Eu=hl,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,LA=qe}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore",_E="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new iy("@firebase/firestore");function To(){return ga.logLevel}function he(n,...e){if(ga.logLevel<=Ve.DEBUG){const t=e.map(ay);ga.debug(`Firestore (${Qo}): ${n}`,...t)}}function _r(n,...e){if(ga.logLevel<=Ve.ERROR){const t=e.map(ay);ga.error(`Firestore (${Qo}): ${n}`,...t)}}function Mo(n,...e){if(ga.logLevel<=Ve.WARN){const t=e.map(ay);ga.warn(`Firestore (${Qo}): ${n}`,...t)}}function ay(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FA(n,r,t)}function FA(n,e,t){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _r(r),new Error(r)}function He(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||FA(e,a,r)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ON{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class PN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new PN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new TE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kN(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ie(n,e){return n<e?-1:n>e?1:0}function lg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return Ie(r,a);{const l=HA(),c=LN(l.encode(EE(n,t)),l.encode(EE(e,t)));return c!==0?c:Ie(r,a)}}t+=r>65535?2:1}return Ie(n.length,e.length)}function EE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function LN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function ko(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,wE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*wE);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bE)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Vt(0,0))}static max(){return new Se(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Ri.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ie(e.length,t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),a=Ri.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const UN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ri{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return UN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new Xt([AE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function jN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new ds(a,ge.empty(),e)}function BN(n){return new ds(n.readTime,n.key,ju)}class ds{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ds(Se.min(),ge.empty(),ju)}static max(){return new ds(Se.max(),ge.empty(),ju)}}function zN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==FN)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>r(m))}),c=!0,l===a&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(a=>a?re.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new re((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,t){return new re((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function HN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=-1;function Xf(n){return n==null}function Ef(n){return n===0&&1/n==-1/0}function GN(n){return typeof n=="number"&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="";function KN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SE(e)),e=YN(n.get(t),e);return SE(e)}function YN(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case KA:t+="";break;default:t+=l}}return t}function SE(n){return n+KA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=a??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Qt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Qt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ti([])}unionWith(e){let t=new Mt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $A("Invalid base64 string: "+l):l}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=$N.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ps(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="server_timestamp",XA="__type__",WA="__previous_value__",ZA="__local_write_time__";function ly(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||t===void 0?void 0:t.stringValue)===QA}function Wf(n){const e=n.mapValue.fields[WA];return ly(e)?Wf(e):e}function Bu(n){const e=ms(n.mapValue.fields[ZA].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,r,a,l,c,f,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const bf="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||bf}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__type__",XN="__max__",Gh={mapValue:{}},eS="__vector__",wf="value";function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ly(n)?4:ZN(n)?9007199254740991:WN(n)?10:11:Ee(28295,{value:n})}function Mi(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ms(a.timestampValue),f=ms(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ps(a.bytesValue).isEqual(ps(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return _t(a.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _t(a.integerValue)===_t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_t(a.doubleValue),f=_t(l.doubleValue);return c===f?Ef(c)===Ef(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return ko(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(RE(c)!==RE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Mi(c[m],f[m])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function Fu(n,e){return(n.values||[]).find(t=>Mi(t,e))!==void 0}function Lo(n,e){if(n===e)return 0;const t=gs(n),r=gs(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=_t(l.integerValue||l.doubleValue),m=_t(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return CE(n.timestampValue,e.timestampValue);case 4:return CE(Bu(n),Bu(e));case 5:return lg(n.stringValue,e.stringValue);case 6:return function(l,c){const f=ps(l),m=ps(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ie(f[p],m[p]);if(y!==0)return y}return Ie(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ie(_t(l.latitude),_t(c.latitude));return f!==0?f:Ie(_t(l.longitude),_t(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},R=(f=_[wf])===null||f===void 0?void 0:f.arrayValue,C=(m=E[wf])===null||m===void 0?void 0:m.arrayValue,D=Ie(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:IE(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Gh.mapValue&&c===Gh.mapValue)return 0;if(l===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=lg(m[_],y[_]);if(E!==0)return E;const R=Lo(f[m[_]],p[y[_]]);if(R!==0)return R}return Ie(m.length,y.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{Pe:t})}}function CE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);const t=ms(n),r=ms(e),a=Ie(t.seconds,r.seconds);return a!==0?a:Ie(t.nanos,r.nanos)}function IE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Lo(t[a],r[a]);if(l)return l}return Ie(t.length,r.length)}function Uo(n){return ug(n)}function ug(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=ug(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${ug(t.fields[c])}`;return a+"}"}(n.mapValue):Ee(61005,{value:n})}function sf(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(n);return e?16+sf(e):16;case 5:return 2*n.stringValue.length;case 6:return ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+sf(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ea(r.fields,(l,c)=>{a+=l.length+sf(c)}),a}(n.mapValue);default:throw Ee(13486,{value:n})}}function DE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cg(n){return!!n&&"integerValue"in n}function uy(n){return!!n&&"arrayValue"in n}function NE(n){return!!n&&"nullValue"in n}function OE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function af(n){return!!n&&"mapValue"in n}function WN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JA])===null||t===void 0?void 0:t.stringValue)===eS}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=Xt.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=xu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ea(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Gn(xu(this.value))}}function tS(n){const e=[];return Ea(n.fields,(t,r)=>{const a=new Xt([t]);if(af(r)){const l=tS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new rn(e,0,Se.min(),Se.min(),Se.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,a){return new rn(e,1,t,Se.min(),r,a,0)}static newNoDocument(e,t){return new rn(e,2,t,Se.min(),Se.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Se.min(),Se.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.position=e,this.inclusive=t}}function PE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=ge.comparator(ge.fromName(c.referenceValue),t.key):r=Lo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function JN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{}class xt extends nS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tO(e,t,r):t==="array-contains"?new rO(e,r):t==="in"?new sO(e,r):t==="not-in"?new aO(e,r):t==="array-contains-any"?new oO(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nO(e,r):new iO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends nS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ri(e,t)}matches(e){return iS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iS(n){return n.op==="and"}function rS(n){return eO(n)&&iS(n)}function eO(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function hg(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(rS(n))return n.filters.map(e=>hg(e)).join(",");{const e=n.filters.map(t=>hg(t)).join(",");return`${n.op}(${e})`}}function sS(n,e){return n instanceof xt?function(r,a){return a instanceof xt&&r.op===a.op&&r.field.isEqual(a.field)&&Mi(r.value,a.value)}(n,e):n instanceof ri?function(r,a){return a instanceof ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&sS(c,a.filters[f]),!0):!1}(n,e):void Ee(19439)}function aS(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`}(n):n instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(aS).join(" ,")+"}"}(n):"Filter"}class tO extends xt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class nO extends xt{constructor(e,t){super(e,"in",t),this.keys=oS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iO extends xt{constructor(e,t){super(e,"not-in",t),this.keys=oS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}class rO extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uy(t)&&Fu(t.arrayValue,this.value)}}class sO extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fu(this.value.arrayValue,t)}}class aO extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fu(this.value.arrayValue,t)}}class oO extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function ME(n,e=null,t=[],r=[],a=null,l=null,c=null){return new lO(n,e,t,r,a,l,c)}function cy(n){const e=Re(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uo(r)).join(",")),e.Ie=t}return e.Ie}function hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VE(n.startAt,e.startAt)&&VE(n.endAt,e.endAt)}function fg(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uO(n,e,t,r,a,l,c,f){return new Zo(n,e,t,r,a,l,c,f)}function fy(n){return new Zo(n)}function kE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lS(n){return n.collectionGroup!==null}function Cu(n){const e=Re(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Mt(Xt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new qu(l,r))}),t.has(Xt.keyField().canonicalString())||e.Ee.push(new qu(Xt.keyField(),r))}return e.Ee}function Ci(n){const e=Re(n);return e.de||(e.de=cO(e,Cu(n))),e.de}function cO(n,e){if(n.limitType==="F")return ME(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new qu(a.field,l)});const t=n.endAt?new Af(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Af(n.startAt.position,n.startAt.inclusive):null;return ME(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dg(n,e){const t=n.filters.concat([e]);return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mg(n,e,t){return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zf(n,e){return hy(Ci(n),Ci(e))&&n.limitType===e.limitType}function uS(n){return`${cy(Ci(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>aS(a)).join(", ")}]`),Xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Uo(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Uo(a)).join(",")),`Target(${r})`}(Ci(n))}; limitType=${n.limitType})`}function Jf(n,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ge.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,a){for(const l of Cu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=PE(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Cu(r),a)||r.endAt&&!function(c,f,m){const p=PE(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Cu(r),a))}(n,e)}function hO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cS(n){return(e,t)=>{let r=!1;for(const a of Cu(n)){const l=fO(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function fO(n,e,t){const r=n.field.isKeyField()?ge.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Lo(m,p):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return YA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ut(ge.comparator);function Tr(){return dO}const hS=new ut(ge.comparator);function bu(...n){let e=hS;for(const t of n)e=e.insert(t.key,t);return e}function fS(n){let e=hS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ua(){return Iu()}function dS(){return Iu()}function Iu(){return new ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const mO=new ut(ge.comparator),pO=new Mt(ge.comparator);function Me(...n){let e=pO;for(const t of n)e=e.add(t);return e}const gO=new Mt(Ie);function yO(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function mS(n){return{integerValue:""+n}}function vO(n,e){return GN(e)?mS(e):dy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this._=void 0}}function _O(n,e,t){return n instanceof Hu?function(a,l){const c={fields:{[XA]:{stringValue:QA},[ZA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ly(l)&&(l=Wf(l)),l&&(c.fields[WA]=l),{mapValue:c}}(t,e):n instanceof Gu?gS(n,e):n instanceof Ku?yS(n,e):function(a,l){const c=pS(a,l),f=LE(c)+LE(a.Re);return cg(c)&&cg(a.Re)?mS(f):dy(a.serializer,f)}(n,e)}function TO(n,e,t){return n instanceof Gu?gS(n,e):n instanceof Ku?yS(n,e):t}function pS(n,e){return n instanceof Sf?function(r){return cg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Hu extends ed{}class Gu extends ed{constructor(e){super(),this.elements=e}}function gS(n,e){const t=vS(e);for(const r of n.elements)t.some(a=>Mi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Ku extends ed{constructor(e){super(),this.elements=e}}function yS(n,e){let t=vS(e);for(const r of n.elements)t=t.filter(a=>!Mi(a,r));return{arrayValue:{values:t}}}class Sf extends ed{constructor(e,t){super(),this.serializer=e,this.Re=t}}function LE(n){return _t(n.integerValue||n.doubleValue)}function vS(n){return uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.field=e,this.transform=t}}function bO(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Gu&&a instanceof Gu||r instanceof Ku&&a instanceof Ku?ko(r.elements,a.elements,Mi):r instanceof Sf&&a instanceof Sf?Mi(r.Re,a.Re):r instanceof Hu&&a instanceof Hu}(n.transform,e.transform)}class wO{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class td{}function _S(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ES(n.key,gr.none()):new oc(n.key,n.data,gr.none());{const t=n.data,r=Gn.empty();let a=new Mt(Xt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new wa(n.key,r,new ti(a.toArray()),gr.none())}}function AO(n,e,t){n instanceof oc?function(a,l,c){const f=a.value.clone(),m=jE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof wa?function(a,l,c){if(!of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=jE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(TS(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Du(n,e,t,r){return n instanceof oc?function(l,c,f,m){if(!of(l.precondition,c))return f;const p=l.value.clone(),y=BE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof wa?function(l,c,f,m){if(!of(l.precondition,c))return f;const p=BE(l.fieldTransforms,m,c),y=c.data;return y.setAll(TS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(l,c,f){return of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function SO(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=pS(r.transform,a||null);l!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,l))}return t||null}function UE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ko(r,a,(l,c)=>bO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class oc extends td{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wa extends td{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function TS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jE(n,e,t){const r=new Map;He(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,TO(c,f,t[a]))}return r}function BE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,_O(l,c,e))}return r}class ES extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&AO(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=_S(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,r)=>UE(t,r))&&ko(this.baseMutations,e.baseMutations,(t,r)=>UE(t,r))}}class my{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){He(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return mO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new my(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function DO(n){switch(n){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function bS(n){if(n===void 0)return _r("GRPC error has no .code"),ie.UNKNOWN;switch(n){case St.OK:return ie.OK;case St.CANCELLED:return ie.CANCELLED;case St.UNKNOWN:return ie.UNKNOWN;case St.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case St.INTERNAL:return ie.INTERNAL;case St.UNAVAILABLE:return ie.UNAVAILABLE;case St.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case St.NOT_FOUND:return ie.NOT_FOUND;case St.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case St.ABORTED:return ie.ABORTED;case St.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case St.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:n})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new us([4294967295,4294967295],0);function zE(n){const e=HA().encode(n),t=new kA;return t.update(e),new Uint8Array(t.digest())}function FE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new us([t,r],0),new us([a,l],0)]}class py{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wu(`Invalid padding: ${t}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=us.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(us.fromNumber(r)));return a.compare(NO)===1&&(a=new us([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=zE(e),[r,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new py(l,a,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=zE(e),[r,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nd(Se.min(),a,new ut(Ie),Tr(),Me())}}class lc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lc(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class wS{constructor(e,t){this.targetId=e,this.Ce=t}}class AS{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class qE{constructor(){this.Fe=0,this.Me=HE(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ee(38017,{changeType:l})}}),new lc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=HE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OO{constructor(e){this.ze=e,this.je=new Map,this.He=Tr(),this.Je=Kh(),this.Ye=Kh(),this.Ze=new ut(Ie)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(fg(l))if(r===0){const c=new ge(l.path);this.tt(t,c,rn.newNoDocument(c,Se.min()))}else He(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=ps(r).toUint8Array()}catch(m){if(m instanceof $A)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new py(c,a,l)}catch(m){return Mo(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&fg(f.target)){const m=new ge(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,rn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let r=Me();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new nd(e,t,this.Ze,this.He,r);return this.He=Tr(),this.Je=Kh(),this.Ye=Kh(),this.Ze=new ut(Ie),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new qE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mt(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mt(Ie),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kh(){return new ut(ge.comparator)}function HE(){return new ut(ge.comparator)}const PO={asc:"ASCENDING",desc:"DESCENDING"},VO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class kO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pg(n,e){return n.useProto3Json||Xf(e)?e:{value:e}}function Rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LO(n,e){return Rf(n,e.toTimestamp())}function Ii(n){return He(!!n,49232),Se.fromTimestamp(function(t){const r=ms(t);return new Vt(r.seconds,r.nanos)}(n))}function gy(n,e){return gg(n,e).canonicalString()}function gg(n,e){const t=function(a){return new tt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RS(n){const e=tt.fromString(n);return He(NS(e),10190,{key:e.toString()}),e}function yg(n,e){return gy(n.databaseId,e.path)}function Ip(n,e){const t=RS(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(CS(t))}function xS(n,e){return gy(n.databaseId,e)}function UO(n){const e=RS(n);return e.length===4?tt.emptyPath():CS(e)}function vg(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CS(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function GE(n,e,t){return{name:yg(n,e),fields:t.value.mapValue.fields}}function jO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(He(y===void 0||typeof y=="string",58123),Wt.fromBase64String(y||"")):(He(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Wt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?ie.UNKNOWN:bS(p.code);return new fe(y,p.message||"")}(c);t=new AS(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ip(n,r.document.name),l=Ii(r.document.updateTime),c=r.document.createTime?Ii(r.document.createTime):Se.min(),f=new Gn({mapValue:{fields:r.document.fields}}),m=rn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new lf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ip(n,r.document),l=r.readTime?Ii(r.readTime):Se.min(),c=rn.newNoDocument(a,l),f=r.removedTargetIds||[];t=new lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ip(n,r.document),l=r.removedTargetIds||[];t=new lf([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new IO(a,l),f=r.targetId;t=new wS(f,c)}}return t}function BO(n,e){let t;if(e instanceof oc)t={update:GE(n,e.key,e.value)};else if(e instanceof ES)t={delete:yg(n,e.key)};else if(e instanceof wa)t={update:GE(n,e.key,e.data),updateMask:QO(e.fieldMask)};else{if(!(e instanceof RO))return Ee(16599,{ft:e.type});t={verify:yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Sf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ee(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:LO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(n,e.precondition)),t}function zO(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Ii(a.updateTime):Ii(l);return c.isEqual(Se.min())&&(c=Ii(l)),new wO(c,a.transformResults||[])}(t,e))):[]}function FO(n,e){return{documents:[xS(n,e.path)]}}function qO(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xS(n,a);const l=function(p){if(p.length!==0)return DS(ri.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:bo(E.field),direction:KO(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=pg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function HO(n){let e=UO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){He(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=IS(_);return E instanceof ri&&rS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(C){return new qu(wo(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,Xf(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(_){const E=!!_.before,R=_.values||[];return new Af(R,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,R=_.values||[];return new Af(R,E)}(t.endAt)),uO(e,a,c,l,f,"F",m,p)}function GO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wo(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(t.unaryFilter.field);return xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return xt.create(wo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(r=>IS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function KO(n){return PO[n]}function YO(n){return VO[n]}function $O(n){return MO[n]}function bo(n){return{fieldPath:n.canonicalString()}}function wo(n){return Xt.fromServerFormat(n.fieldPath)}function DS(n){return n instanceof xt?function(t){if(t.op==="=="){if(OE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(NE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(NE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:YO(t.op),value:t.value}}}(n):n instanceof ri?function(t){const r=t.getFilters().map(a=>DS(a));return r.length===1?r[0]:{compositeFilter:{op:$O(t.op),filters:r}}}(n):Ee(54877,{filter:n})}function QO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,r,a,l=Se.min(),c=Se.min(),f=Wt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.wt=e}}function WO(n){const e=HO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Cn=new JO}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ds.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class JO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Mt(tt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(OS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jo(0)}static lr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="LruGarbageCollector",eP=1048576;function $E([n,e],[t,r]){const a=Ie(n,t);return a===0?Ie(e,r):a}class tP{constructor(e){this.Er=e,this.buffer=new Mt($E),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$E(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(YE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?he(YE,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.mr(3e5)})}}class iP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Qf.le);const r=new tP(t);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(KE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),To()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function rP(n,e){return new iP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Du(r.mutation,a,ti.empty(),Vt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const a=ua();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=bu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,a){let l=Tr();const c=Iu(),f=function(){return Iu()}();return t.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof wa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Du(y.mutation,p,y.mutation.getFieldMask(),Vt.now())):c.set(p.key,ti.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return f.set(p,new aP(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Iu();let a=new ut((c,f)=>c-f),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=r.get(m)||ti.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Me()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=dS();y.forEach(E=>{if(!l.has(E)){const R=_S(t.get(E),r.get(E));R!==null&&_.set(E,R),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):re.resolve(ua());let f=ju,m=l;return c.next(p=>re.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Me())).next(y=>({batchId:f,changes:fS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let a=bu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=bu();return this.indexManager.getCollectionParents(e,l).next(f=>re.forEach(f,m=>{const p=function(_,E){return new Zo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))});let f=bu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Du(y.mutation,p,ti.empty(),Vt.now()),Jf(t,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return re.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ii(a.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:WO(a.bundledQuery),readTime:Ii(a.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.overlays=new ut(ge.comparator),this.Qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ua();return re.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.St(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const a=ua(),l=t.length+1,c=new ge(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ut((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ua(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ua(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return re.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new CO(t,r));let l=this.Qr.get(t);l===void 0&&(l=Me(),this.Qr.set(t,l)),this.Qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.$r=new Mt(Ft.Ur),this.Kr=new Mt(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ft(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ge(new tt([])),r=new Ft(t,e),a=new Ft(t,e+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ge(new tt([])),r=new Ft(t,e),a=new Ft(t,e+1);let l=Me();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ft(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ge.comparator(e.key,t.key)||Ie(e.Zr,t.Zr)}static Wr(e,t){return Ie(e.Zr,t.Zr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mt(Ft.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xO(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new Ft(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ti(r),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?oy:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),a=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const f=this.ei(c.Zr);l.push(f)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Ie);return t.forEach(a=>{const l=new Ft(a,0),c=new Ft(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{r=r.add(f.Zr)})}),re.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ge.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new ge(l),0);let f=new Mt(Ie);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),re.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){He(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return re.forEach(t.mutations,a=>{const l=new Ft(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Ft(t,0),a=this.Xr.firstAfterOrEqual(r);return re.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.ii=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Tr();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():rn.newInvalidDocument(a))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Tr();const c=t.path,f=new ge(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||zN(BN(y),r)<=0||(a.has(y.key)||Jf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ee(9500)}si(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dP(this)}getSize(e){return re.resolve(this.size)}}class dP extends sP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.oi=new ba(t=>cy(t),hy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new yy,this.targetCount=0,this.ui=jo.cr()}forEachTarget(e,t){return this.oi.forEach((r,a)=>t(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),re.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new jo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Tr(t),re.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.ci={},this.overlays={},this.li=new Qf(0),this.hi=!1,this.hi=!0,this.Pi=new cP,this.referenceDelegate=e(this),this.Ti=new mP(this),this.indexManager=new ZO,this.remoteDocumentCache=function(a){return new fP(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new XO(t),this.Ei=new lP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new hP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const a=new pP(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return re.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class pP extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Vi=new yy,this.mi=null}static fi(e){return new vy(e)}get gi(){if(this.mi)return this.mi;throw Ee(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,r=>{const a=ge.fromPath(r);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return re.or([()=>re.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class xf{constructor(e,t){this.persistence=e,this.yi=new ba(r=>KN(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=rP(this,t)}static fi(e,t){return new xf(e,t)}di(){}Ai(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return re.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?re.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(r++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),re.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sf(e.data.value)),t}Dr(e,t,r){return re.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return re.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ds=r,this.As=a}static Rs(e,t){let r=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _y(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return c2()?8:HN(an())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new gP;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,r,a){return r.documentReadCount<this.gs?(To()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(To()<=Ve.DEBUG&&he("QueryEngine","Query:",Eo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(To()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):re.resolve())}ws(e,t){if(kE(t))return re.resolve(null);let r=Ci(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=mg(t,null,"F"),r=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Me(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.vs(t,f);return this.Cs(t,p,c,m.readTime)?this.ws(e,mg(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,r,a){return kE(t)||a.isEqual(Se.min())?re.resolve(null):this.ys.getDocuments(e,r).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,r,a)?re.resolve(null):(To()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(t)),this.Fs(e,c,t,jN(a,ju)).next(f=>f))})}vs(e,t){let r=new Mt(cS(e));return t.forEach((a,l)=>{Jf(e,l)&&(r=r.add(l))}),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return To()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ys.getDocumentsMatchingQuery(e,t,ds.min(),r)}Fs(e,t,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",vP=3e8;class _P{constructor(e,t,r,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new ut(Ie),this.Os=new ba(l=>cy(l),hy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function TP(n,e,t,r){return new _P(n,e,t,r)}async function VS(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Me();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function EP(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let R=re.resolve();return E.forEach(C=>{R=R.next(()=>y.getEntry(m,C)).next(D=>{const N=p.docVersions.get(C);He(N!==null,48541),D.version.compareTo(N)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Me();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function MS(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function bP(n,e){const t=Re(n),r=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,_)));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(_,R),function(D,N,M){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=vP?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(E,R,y)&&f.push(t.Ti.updateTargetData(l,R))});let m=Tr(),p=Me();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(wP(l,c,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(Se.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(_=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return re.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function wP(n,e,t){let r=Me(),a=Me();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Tr();return t.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):he(Ty,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function AP(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=oy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SP(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Ti.getTargetData(r,e).next(l=>l?(a=l,re.resolve(a)):t.Ti.allocateTargetId(r).next(c=>(a=new as(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function _g(n,e,t){const r=Re(n),a=r.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Wo(c))throw c;he(Ty,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function QE(n,e,t){const r=Re(n);let a=Se.min(),l=Me();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Re(m),E=_.Os.get(y);return E!==void 0?re.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(r,c,Ci(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,t?a:Se.min(),t?l:Me())).next(f=>(RP(r,hO(e),f),{documents:f,$s:l})))}function RP(n,e,t){let r=n.Ns.get(e)||Se.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ns.set(e,r)}class XE{constructor(){this.activeTargetIds=yO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.xo=new XE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new XE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="ConnectivityMonitor";class ZE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(WE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function Tg(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",IP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,t,r,a,l){const c=Tg(),f=this.jo(e,t.toUriEncodedString());he(Dp,`Sending RPC '${e}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),y=_a(p);return this.Jo(e,f,m,r,y).then(_=>(he(Dp,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Mo(Dp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,t,r,a,l,c){return this.zo(e,t,r,a,l)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const r=IP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class OP extends DP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Tg();return new Promise((f,m)=>{const p=new LA;p.setWithCredentials(!0),p.listenOnce(UA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rf.NO_ERROR:const _=p.getResponseJson();he(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case rf.TIMEOUT:he(tn,`RPC '${e}' ${c} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const E=p.getStatus();if(he(tn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const D=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(q)>=0?q:ie.UNKNOWN}(C.status);m(new fe(D,C.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{he(tn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);he(tn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",y,r,15)})}I_(e,t,r){const a=Tg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zA(),f=BA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=l.join("");he(tn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let E=!1,R=!1;const C=new NP({Zo:N=>{R?he(tn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(he(tn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),he(tn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Xo:()=>_.close()}),D=(N,M,q)=>{N.listen(M,G=>{try{q(G)}catch(te){setTimeout(()=>{throw te},0)}})};return D(_,Eu.EventType.OPEN,()=>{R||(he(tn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),D(_,Eu.EventType.CLOSE,()=>{R||(R=!0,he(tn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(_))}),D(_,Eu.EventType.ERROR,N=>{R||(R=!0,Mo(tn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.u_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),D(_,Eu.EventType.MESSAGE,N=>{var M;if(!R){const q=N.data[0];He(!!q,16349);const G=q,te=(G==null?void 0:G.error)||((M=G[0])===null||M===void 0?void 0:M.error);if(te){he(tn,`RPC '${e}' stream ${a} received error:`,te);const J=te.status;let ue=function(I){const L=St[I];if(L!==void 0)return bS(L)}(J),k=te.message;ue===void 0&&(ue=ie.INTERNAL,k="Unknown error status: "+J+" with message "+te.message),R=!0,C.u_(new fe(ue,k)),_.close()}else he(tn,`RPC '${e}' stream ${a} received:`,q),C.c_(q)}}),D(f,jA.STAT_EVENT,N=>{N.stat===og.PROXY?he(tn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===og.NOPROXY&&he(tn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){return new kO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class LS{constructor(e,t,r,a,l,c,f,m){this.xi=e,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new kS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===t&&this.z_(r,a)},r=>{e(()=>{const a=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(he(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PP extends LS{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=jO(this.serializer,e),r=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Ii(c.readTime):Se.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=vg(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=fg(m)?{documents:FO(l,m)}:{query:qO(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=SS(l,c.resumeToken);const p=pg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=Rf(l,c.snapshotVersion.toTimestamp());const p=pg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=GO(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=vg(this.serializer),t.removeTarget=e,this.Q_(t)}}class VP extends LS{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=zO(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=vg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>BO(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{}class kP extends MP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,gg(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())})}Yo(e,t,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,gg(t,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class LP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(_r(t),this.ua=!1):he("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class UP{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{r.enqueueAndForget(async()=>{Aa(this)&&(he(ya,"Restarting streams for network reachability change."),await async function(m){const p=Re(m);p.da.add(4),await uc(p),p.Va.set("Unknown"),p.da.delete(4),await rd(p)}(this))})}),this.Va=new LP(r,a)}}async function rd(n){if(Aa(n))for(const e of n.Aa)await e(!0)}async function uc(n){for(const e of n.Aa)await e(!1)}function US(n,e){const t=Re(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Ay(t)?wy(t):Jo(t).N_()&&by(t,e))}function Ey(n,e){const t=Re(n),r=Jo(t);t.Ea.delete(e),r.N_()&&jS(t,e),t.Ea.size===0&&(r.N_()?r.k_():Aa(t)&&t.Va.set("Unknown"))}function by(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(n).Z_(e)}function jS(n,e){n.ma.Ke(e),Jo(n).X_(e)}function wy(n){n.ma=new OO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Jo(n).start(),n.Va.ca()}function Ay(n){return Aa(n)&&!Jo(n).O_()&&n.Ea.size>0}function Aa(n){return Re(n).da.size===0}function BS(n){n.ma=void 0}async function jP(n){n.Va.set("Online")}async function BP(n){n.Ea.forEach((e,t)=>{by(n,e)})}async function zP(n,e){BS(n),Ay(n)?(n.Va.Pa(e),wy(n)):n.Va.set("Unknown")}async function FP(n,e,t){if(n.Va.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(r){he(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cf(n,r)}else if(e instanceof lf?n.ma.Xe(e):e instanceof wS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Se.min()))try{const r=await MS(n.localStore);t.compareTo(r)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Wt.EMPTY_BYTE_STRING,y.snapshotVersion)),jS(l,m);const _=new as(y.target,m,p,y.sequenceNumber);by(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){he(ya,"Failed to raise snapshot:",r),await Cf(n,r)}}async function Cf(n,e,t){if(!Wo(e))throw e;n.da.add(1),await uc(n),n.Va.set("Offline"),t||(t=()=>MS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(ya,"Retrying IndexedDB access"),await t(),n.da.delete(1),await rd(n)})}function zS(n,e){return e().catch(t=>Cf(n,t,e))}async function sd(n){const e=Re(n),t=ys(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:oy;for(;qP(e);)try{const a=await AP(e.localStore,r);if(a===null){e.Ia.length===0&&t.k_();break}r=a.batchId,HP(e,a)}catch(a){await Cf(e,a)}FS(e)&&qS(e)}function qP(n){return Aa(n)&&n.Ia.length<10}function HP(n,e){n.Ia.push(e);const t=ys(n);t.N_()&&t.ea&&t.ta(e.mutations)}function FS(n){return Aa(n)&&!ys(n).O_()&&n.Ia.length>0}function qS(n){ys(n).start()}async function GP(n){ys(n).ia()}async function KP(n){const e=ys(n);for(const t of n.Ia)e.ta(t.mutations)}async function YP(n,e,t){const r=n.Ia.shift(),a=my.from(r,e,t);await zS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await sd(n)}async function $P(n,e){e&&ys(n).ea&&await async function(r,a){if(function(c){return DO(c)&&c!==ie.ABORTED}(a.code)){const l=r.Ia.shift();ys(r).L_(),await zS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await sd(r)}}(n,e),FS(n)&&qS(n)}async function eb(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),he(ya,"RemoteStore received new credentials");const r=Aa(t);t.da.add(3),await uc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await rd(t)}async function QP(n,e){const t=Re(n);e?(t.da.delete(2),await rd(t)):e||(t.da.add(2),await uc(t),t.Va.set("Unknown"))}function Jo(n){return n.fa||(n.fa=function(t,r,a){const l=Re(t);return l.oa(),new PP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:jP.bind(null,n),n_:BP.bind(null,n),i_:zP.bind(null,n),Y_:FP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Ay(n)?wy(n):n.Va.set("Unknown")):(await n.fa.stop(),BS(n))})),n.fa}function ys(n){return n.ga||(n.ga=function(t,r,a){const l=Re(t);return l.oa(),new VP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:GP.bind(null,n),i_:$P.bind(null,n),na:KP.bind(null,n),ra:YP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await sd(n)):(await n.ga.stop(),n.Ia.length>0&&(he(ya,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Sy(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(n,e){if(_r("AsyncQueue",`${e}: ${n}`),Wo(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=bu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.pa=new ut(ge.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bo{constructor(e,t,r,a,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Bo(e,t,No.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class WP{constructor(){this.queries=nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Re(t),l=a.queries;a.queries=nb(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function nb(){return new ba(n=>uS(n),Zf)}async function HS(n,e){const t=Re(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(r=2):(l=new XP,r=e.va()?0:1);try{switch(r){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Ry(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&xy(t)}async function GS(n,e){const t=Re(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZP(n,e){const t=Re(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(r=!0);c.ba=a}}r&&xy(t)}function JP(n,e,t){const r=Re(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function xy(n){n.Ca.forEach(e=>{e.next()})}var Eg,ib;(ib=Eg||(Eg={})).xa="default",ib.Cache="cache";class KS{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class eV{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=cS(e),this.Xa=new No(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new tb,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),R=Jf(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),D=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;E&&R?E.data.isEqual(R.data)?C!==D&&(r.track({type:3,doc:R}),N=!0):this.ru(E,R)||(r.track({type:2,doc:R}),N=!0,(m&&this.Za(R,m)>0||p&&this.Za(R,p)<0)&&(f=!0)):!E&&R?(r.track({type:0,doc:R}),N=!0):E&&!R&&(r.track({type:1,doc:E}),N=!0,(m||p)&&(f=!0)),N&&(R?(c=c.add(R),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Xa:c,nu:r,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,_)=>function(R,C){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:N})}};return D(R)-D(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Bo(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new tb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new $S(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new YS(r))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cy="SyncEngine";class tV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nV{constructor(e){this.key=e,this.cu=!1}}class iV{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ba(f=>uS(f),Zf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ut(ge.comparator),this.Eu=new Map,this.du=new yy,this.Au={},this.Ru=new Map,this.Vu=jo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rV(n,e,t=!0){const r=e1(n);let a;const l=r.hu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await QS(r,e,t,!0),a}async function sV(n,e){const t=e1(n);await QS(t,e,!0,!1)}async function QS(n,e,t,r){const a=await SP(n.localStore,Ci(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await aV(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&US(n.remoteStore,a),f}async function aV(n,e,t,r,a){n.fu=(_,E,R)=>async function(D,N,M,q){let G=N.view.tu(M);G.Cs&&(G=await QE(D.localStore,N.query,!1).then(({documents:k})=>N.view.tu(k,G)));const te=q&&q.targetChanges.get(N.targetId),J=q&&q.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(G,D.isPrimaryClient,te,J);return sb(D,N.targetId,ue.ou),ue.snapshot}(n,_,E,R);const l=await QE(n.localStore,e,!0),c=new eV(e,l.$s),f=c.tu(l.documents),m=lc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,m);sb(n,t,p.ou);const y=new tV(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function oV(n,e,t){const r=Re(n),a=r.hu.get(e),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(c=>!Zf(c,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await _g(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ey(r.remoteStore,a.targetId),bg(r,a.targetId)}).catch(Xo)):(bg(r,a.targetId),await _g(r.localStore,a.targetId,!0))}async function lV(n,e){const t=Re(n),r=t.hu.get(e),a=t.Pu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ey(t.remoteStore,r.targetId))}async function uV(n,e,t){const r=gV(n);try{const a=await function(c,f){const m=Re(c),p=Vt.now(),y=f.reduce((R,C)=>R.add(C.key),Me());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Tr(),D=Me();return m.Bs.getEntries(R,y).next(N=>{C=N,C.forEach((M,q)=>{q.isValidDocument()||(D=D.add(M))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,C)).next(N=>{_=N;const M=[];for(const q of f){const G=SO(q,_.get(q.key).overlayedDocument);G!=null&&M.push(new wa(q.key,G,tS(G.value.mapValue),gr.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,M,f)}).next(N=>{E=N;const M=N.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(R,N.batchId,M)})}).then(()=>({batchId:E.batchId,changes:fS(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new ut(Ie)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(r,a.batchId,t),await cc(r,a.changes),await sd(r.remoteStore)}catch(a){const l=Ry(a,"Failed to persist write");t.reject(l)}}async function XS(n,e){const t=Re(n);try{const r=await bP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(He(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?He(c.cu,14607):a.removedDocuments.size>0&&(He(c.cu,42227),c.cu=!1))}),await cc(t,r,e)}catch(r){await Xo(r)}}function rb(n,e,t){const r=Re(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(p=!0)}),p&&xy(m)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cV(n,e,t){const r=Re(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Eu.get(e),l=a&&a.key;if(l){let c=new ut(ge.comparator);c=c.insert(l,rn.newNoDocument(l,Se.min()));const f=Me().add(l),m=new nd(Se.min(),new Map,new ut(Ie),c,f);await XS(r,m),r.Iu=r.Iu.remove(l),r.Eu.delete(e),Iy(r)}else await _g(r.localStore,e,!1).then(()=>bg(r,e,t)).catch(Xo)}async function hV(n,e){const t=Re(n),r=e.batch.batchId;try{const a=await EP(t.localStore,e);ZS(t,r,null),WS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cc(t,a)}catch(a){await Xo(a)}}async function fV(n,e,t){const r=Re(n);try{const a=await function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(He(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,e);ZS(r,e,t),WS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cc(r,a)}catch(a){await Xo(a)}}function WS(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function ZS(n,e,t){const r=Re(n);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||JS(n,r)})}function JS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Ey(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Iy(n))}function sb(n,e,t){for(const r of t)r instanceof YS?(n.du.addReference(r.key,e),dV(n,r)):r instanceof $S?(he(Cy,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||JS(n,r.key)):Ee(19791,{pu:r})}function dV(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(he(Cy,"New document in limbo: "+t),n.Tu.add(r),Iy(n))}function Iy(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ge(tt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new nV(t)),n.Iu=n.Iu.insert(t,r),US(n.remoteStore,new as(Ci(fy(t.path)),r,"TargetPurposeLimboResolution",Qf.le))}}async function cc(n,e,t){const r=Re(n),a=[],l=[],c=[];r.hu.isEmpty()||(r.hu.forEach((f,m)=>{c.push(r.fu(m,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=_y.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.lu.Y_(a),await async function(m,p){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>re.forEach(p,E=>re.forEach(E.ds,R=>y.persistence.referenceDelegate.addReference(_,E.targetId,R)).next(()=>re.forEach(E.As,R=>y.persistence.referenceDelegate.removeReference(_,E.targetId,R)))))}catch(_){if(!Wo(_))throw _;he(Ty,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const R=y.xs.get(E),C=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(E,D)}}}(r.localStore,l))}async function mV(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){he(Cy,"User change. New user:",e.toKey());const r=await VS(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new fe(ie.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cc(t,r.ks)}}function pV(n,e){const t=Re(n),r=t.Eu.get(e);if(r&&r.cu)return Me().add(r.key);{let a=Me();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function e1(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cV.bind(null,e),e.lu.Y_=ZP.bind(null,e.eventManager),e.lu.gu=JP.bind(null,e.eventManager),e}function gV(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fV.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return TP(this.persistence,new yP,e.initialUser,this.serializer)}Su(e){return new PS(vy.fi,this.serializer)}bu(e){return new xP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class yV extends If{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){He(this.persistence.referenceDelegate instanceof xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nP(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new PS(r=>xf.fi(r,t),this.serializer)}}class wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mV.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WP}()}createDatastore(e){const t=id(e.databaseInfo.databaseId),r=function(l){return new OP(l)}(e.databaseInfo);return function(l,c,f,m){return new kP(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,f){return new UP(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>rb(this.syncEngine,t,0),function(){return ZE.C()?new ZE:new CP}())}createSyncEngine(e,t){return function(a,l,c,f,m,p,y){const _=new iV(a,l,c,f,m,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Re(a);he(ya,"RemoteStore shutting down."),l.da.add(5),await uc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class vV{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=GA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{he(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(he(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ry(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Op(n,e){n.asyncQueue.verifyOperationInProgress(),he(vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await VS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ab(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _V(n);he(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>eb(e.remoteStore,a)),n._onlineComponents=e}async function _V(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(vs,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await Op(n,new If)}}else he(vs,"Using default OfflineComponentProvider"),await Op(n,new yV(void 0));return n._offlineComponents}async function n1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(vs,"Using user provided OnlineComponentProvider"),await ab(n,n._uninitializedComponentsProvider._online)):(he(vs,"Using default OnlineComponentProvider"),await ab(n,new wg))),n._onlineComponents}function TV(n){return n1(n).then(e=>e.syncEngine)}async function i1(n){const e=await n1(n),t=e.eventManager;return t.onListen=rV.bind(null,e.syncEngine),t.onUnlisten=oV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lV.bind(null,e.syncEngine),t}function EV(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new t1({next:E=>{y.xu(),c.enqueueAndForget(()=>GS(l,_));const R=E.docs.has(f);!R&&E.fromCache?p.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new KS(fy(f.path),y,{includeMetadataChanges:!0,Qa:!0});return HS(l,_)}(await i1(n),n.asyncQueue,e,t,r)),r.promise}function bV(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new t1({next:E=>{y.xu(),c.enqueueAndForget(()=>GS(l,_)),E.fromCache&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new KS(f,y,{includeMetadataChanges:!0,Qa:!0});return HS(l,_)}(await i1(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wV(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lb(n){if(!ge.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ub(n){if(ge.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function zo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firestore.googleapis.com",cb=!0;class hb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=cb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eP)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DN;switch(r.type){case"firstParty":return new VN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ob.get(t);r&&(he("ComponentProvider","Removing Datastore"),ob.delete(t),r.terminate())}(this),Promise.resolve()}}function AV(n,e,t,r={}){var a;n=zo(n,od);const l=_a(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(ty(`https://${m}`),ny("Firestore",!0)),c.host!==a1&&c.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!ma(p,f)&&(n._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=nn.MOCK_USER;else{y=DA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(E)}n._authCredentials=new NN(new qA(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class cs extends Sa{constructor(e,t,r){super(e,t,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ge(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Ar(n,e,...t){if(n=fn(n),s1("collection","path",e),n instanceof od){const r=tt.fromString(e,...t);return ub(r),new cs(n,null,r)}{if(!(n instanceof Cn||n instanceof cs))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return ub(r),new cs(n.firestore,null,r)}}function o1(n,e,...t){if(n=fn(n),arguments.length===1&&(e=GA.newId()),s1("doc","path",e),n instanceof od){const r=tt.fromString(e,...t);return lb(r),new Cn(n,null,new ge(r))}{if(!(n instanceof Cn||n instanceof cs))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tt.fromString(e,...t));return lb(r),new Cn(n.firestore,n instanceof cs?n.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="AsyncQueue";class db{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new kS(this,"async_queue_retry"),this.rc=()=>{const r=Np();r&&he(fb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=Np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new pr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Wo(e))throw e;he(fb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,_r("INTERNAL UNHANDLED ERROR: ",mb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Sy.createAndSchedule(this,e,t,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ee(47125,{cc:mb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ld extends od{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new db,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new db(e),this._firestoreClient=void 0,await e}}}function SV(n,e){const t=typeof n=="object"?n:sy(),r=typeof n=="string"?n:bf,a=$f(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=xA("firestore");l&&AV(a,...l)}return a}function Dy(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RV(n),n._firestoreClient}function RV(n){var e,t,r;const a=n._freezeSettings(),l=function(f,m,p,y){return new QN(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,r1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new vV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(Wt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^__.*__$/;class CV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new oc(e,this.data,t,this.fieldTransforms)}}function l1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ic:n})}}class My{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Df(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(l1(this.Ic)&&xV.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class IV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||id(e)}bc(e,t,r,a=!1){return new My({Ic:e,methodName:t,wc:r,path:Xt.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(n){const e=n._freezeSettings(),t=id(n._databaseId);return new IV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DV(n,e,t,r,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);f1("Data must be an object, but it was:",c,r);const f=c1(r,c);let m,p;if(l.merge)m=new ti(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=OV(e,_,t);if(!c.contains(E))throw new fe(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);VV(y,E)||y.push(E)}m=new ti(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new CV(new Gn(f),m,p)}class ky extends Oy{_toFieldTransform(e){return new EO(e.path,new Hu)}isEqual(e){return e instanceof ky}}function NV(n,e,t,r=!1){return Ly(t,n.bc(r?4:3,e))}function Ly(n,e){if(h1(n=fn(n)))return f1("Unsupported field value:",e,n),c1(n,e);if(n instanceof Oy)return function(r,a){if(!l1(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=Ly(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Vt.fromDate(r);return{timestampValue:Rf(a.serializer,l)}}if(r instanceof Vt){const l=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rf(a.serializer,l)}}if(r instanceof Py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:SS(a.serializer,r._byteString)};if(r instanceof Cn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Vy)return function(c,f){return{mapValue:{fields:{[JA]:{stringValue:eS},[wf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return dy(f.serializer,p)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${ad(r)}`)}(n,e)}function c1(n,e){const t={};return YA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(n,(r,a)=>{const l=Ly(a,e.Ac(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Py||n instanceof Fo||n instanceof Cn||n instanceof Oy||n instanceof Vy)}function f1(n,e,t){if(!h1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=ad(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function OV(n,e,t){if((e=fn(e))instanceof Ny)return e._internalPath;if(typeof e=="string")return d1(n,e);throw Df("Field path arguments must be of type string or ",n,!1,void 0,t)}const PV=new RegExp("[~\\*/\\[\\]]");function d1(n,e,t){if(e.search(PV)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ny(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Df(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new fe(ie.INVALID_ARGUMENT,f+n+m)}function VV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MV extends m1{data(){return super.data()}}function Uy(n,e){return typeof e=="string"?d1(n,e):e instanceof Ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class p1 extends jy{}function By(n,e,...t){let r=[];e instanceof jy&&r.push(e),r=r.concat(t),function(l){const c=l.filter(m=>m instanceof Fy).length,f=l.filter(m=>m instanceof zy).length;if(c>1||c>0&&f>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class zy extends p1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zy(e,t,r)}_apply(e){const t=this._parse(e);return g1(e._query,t),new Sa(e.firestore,e.converter,dg(e._query,t))}_parse(e){const t=u1(e.firestore);return function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){gb(_,y);const C=[];for(const D of _)C.push(pb(m,l,D));E={arrayValue:{values:C}}}else E=pb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||gb(_,y),E=NV(f,c,_,y==="in"||y==="not-in");return xt.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fy extends jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)g1(c,m),c=dg(c,m)}(e._query,t),new Sa(e.firestore,e.converter,dg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends p1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(l,c)}(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Zo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Hy(n,e="asc"){const t=e,r=Uy("orderBy",n);return qy._create(r,t)}function pb(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lS(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DE(n,new ge(r))}if(t instanceof Cn)return DE(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function gb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LV{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ea(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[wf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_t(c.doubleValue));return new Vy(l)}convertGeoPoint(e){return new Py(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=ms(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);He(NS(r),9688,{name:e});const a=new zu(r.get(1),r.get(3)),l=new ge(r.popFirst(5));return a.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y1 extends m1{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uf extends y1{data(e={}){return super.data(e)}}class jV{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uf(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:BV(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n){n=zo(n,Cn);const e=zo(n.firestore,ld);return EV(Dy(e),n._key).then(t=>qV(e,n,t))}class v1 extends LV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function el(n){n=zo(n,Sa);const e=zo(n.firestore,ld),t=Dy(e),r=new v1(e);return kV(n._query),bV(t,n._query).then(a=>new jV(e,r,n,a))}function Gy(n,e){const t=zo(n.firestore,ld),r=o1(n),a=UV(n.converter,e);return FV(t,[DV(u1(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function FV(n,e){return function(r,a){const l=new pr;return r.asyncQueue.enqueueAndForget(async()=>uV(await TV(r),a,l)),l.promise}(Dy(n),e)}function qV(n,e,t){const r=t.docs.get(e._key),a=new v1(n);return new y1(n,a,e._key,r,new Au(t.hasPendingWrites,t.fromCache),e.converter)}function HV(){return new ky("serverTimestamp")}(function(e,t=!0){(function(a){Qo=a})(Ta),pa(new fs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new ld(new ON(r.getProvider("auth-internal")),new MN(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),xi(vE,_E,e),xi(vE,_E,"esm2017")})();function Ky(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GV=_1,T1=new sc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new iy("@firebase/auth");function KV(n,...e){Nf.logLevel<=Ve.WARN&&Nf.warn(`Auth (${Ta}): ${n}`,...e)}function cf(n,...e){Nf.logLevel<=Ve.ERROR&&Nf.error(`Auth (${Ta}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw Yy(n,...e)}function Di(n,...e){return Yy(n,...e)}function E1(n,e,t){const r=Object.assign(Object.assign({},GV()),{[e]:t});return new sc("auth","Firebase",r).create(e,{appName:n.name})}function hs(n){return E1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return T1.create(n,...e)}function Te(n,e,...t){if(!n)throw Yy(e,...t)}function fr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function Er(n,e){n||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YV(){return yb()==="http:"||yb()==="https:"}function yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YV()||o2()||"connection"in navigator)?navigator.onLine:!0}function QV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=r2()||l2()}get(){return $V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,e){Er(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZV=new hc(3e4,6e4);function Ra(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Es(n,e,t,r,a={}){return w1(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=ac(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return a2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&_a(n.emulatorConfig.host)&&(p.credentials="include"),b1.fetch()(await A1(n,n.config.apiHost,t,f),p)})}async function w1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XV),e);try{const a=new eM(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $h(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw $h(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw $h(n,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw E1(n,y,p);si(n,y)}}catch(a){if(a instanceof Li)throw a;si(n,"network-request-failed",{message:String(a)})}}async function ud(n,e,t,r,a={}){const l=await Es(n,e,t,r,a);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function A1(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?$y(n.config,a):`${n.config.apiScheme}://${a}`;return WV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function JV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),ZV.get())})}}function $h(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Di(n,e,r);return a.customData._tokenResponse=t,a}function vb(n){return n!==void 0&&n.enterprise!==void 0}class tM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nM(n,e){return Es(n,"GET","/v2/recaptchaConfig",Ra(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(n,e){return Es(n,"POST","/v1/accounts:delete",e)}async function Of(n,e){return Es(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rM(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=Qy(r);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Nu(Pp(a.auth_time)),issuedAtTime:Nu(Pp(a.iat)),expirationTime:Nu(Pp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pp(n){return Number(n)*1e3}function Qy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=SA(t);return a?JSON.parse(a):(cf("Failed to decode base64 JWT payload"),null)}catch(a){return cf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function _b(n){const e=Qy(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Li&&sM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Yu(n,Of(t,{idToken:r}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?S1(l.providerUserInfo):[],f=lM(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Sg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function oM(n){const e=fn(n);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lM(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function S1(n){return n.map(e=>{var{providerId:t}=e,r=Ky(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n,e){const t=await w1(n,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await A1(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&_a(n.emulatorConfig.host)&&(m.credentials="include"),b1.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cM(n,e){return Es(n,"POST","/v2/accounts:revokeToken",Ra(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=_b(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await uM(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Oo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=Ky(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rM(this,e)}reload(){return oM(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Yu(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,f,m,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(f=t.tenantId)!==null&&f!==void 0?f:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:te,isAnonymous:J,providerData:ue,stsTokenManager:k}=t;Te(G&&k,e,"internal-error");const x=Oo.fromJSON(this.name,k);Te(typeof G=="string",e,"internal-error"),es(_,e.name),es(E,e.name),Te(typeof te=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),es(R,e.name),es(C,e.name),es(D,e.name),es(N,e.name),es(M,e.name),es(q,e.name);const I=new ni({uid:G,auth:e,email:E,emailVerified:te,displayName:_,isAnonymous:J,photoURL:C,phoneNumber:R,tenantId:D,stsTokenManager:x,createdAt:M,lastLoginAt:q});return ue&&Array.isArray(ue)&&(I.providerData=ue.map(L=>Object.assign({},L))),N&&(I._redirectEventId=N),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new Oo;a.updateFromServerResponse(t);const l=new ni({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Pf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?S1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Oo;f.updateFromIdToken(r);const m=new ni({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;function dr(n){Er(n instanceof Function,"Expected a class definition");let e=Tb.get(n);return e?(Er(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R1.type="NONE";const Eb=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=hf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Of(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Po(dr(Eb),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||dr(Eb);const c=hf(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Of(e,{idToken:y}).catch(()=>{});if(!E)break;_=await ni._fromGetAccountInfoResponse(e,E,y)}else _=ni._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Po(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Po(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(P1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x1(n=an()){return/firefox\//i.test(n)}function C1(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(n=an()){return/crios\//i.test(n)}function D1(n=an()){return/iemobile/i.test(n)}function N1(n=an()){return/android/i.test(n)}function O1(n=an()){return/blackberry/i.test(n)}function P1(n=an()){return/webos/i.test(n)}function Xy(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hM(n=an()){var e;return Xy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fM(){return u2()&&document.documentMode===10}function V1(n=an()){return Xy(n)||N1(n)||P1(n)||O1(n)||/windows phone/i.test(n)||D1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n,e=[]){let t;switch(n){case"Browser":t=bb(an());break;case"Worker":t=`${bb(an())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,e={}){return Es(n,"GET","/v2/passwordPolicy",Ra(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=6;class gM{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:pM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wb(this),this.idTokenSubscription=new wb(this),this.beforeStateQueue=new dM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Of(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(hs(this));const t=e?fn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mM(this),t=new gM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function tl(n){return fn(n)}class wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=y2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vM(n){cd=n}function k1(n){return cd.loadJS(n)}function _M(){return cd.recaptchaEnterpriseScript}function TM(){return cd.gapiScript}function EM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bM{constructor(){this.enterprise=new wM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AM="recaptcha-enterprise",L1="NO_RECAPTCHA";class SM{constructor(e){this.type=AM,this.auth=tl(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{nM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new tM(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;vb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(L1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&vb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_M();m.length!==0&&(m+=f),k1(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function Ab(n,e,t,r=!1,a=!1){const l=new SM(n);let c;if(a)c=L1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Sb(n,e,t,r,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ab(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ab(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,e){const t=$f(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ma(l,e??{}))return a;si(a,"already-initialized")}return t.initialize({options:e})}function xM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(dr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CM(n,e,t){const r=tl(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=U1(e),{host:c,port:f}=IM(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ma(p,r.config.emulator)&&ma(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,_a(c)?(ty(`${l}//${c}${m}`),ny("Auth",!0)):DM()}function U1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function IM(n){const e=U1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Rb(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:Rb(c)}}}function Rb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function NM(n,e){return Es(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(n,e){return ud(n,"POST","/v1/accounts:signInWithPassword",Ra(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e){return ud(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,e))}async function VM(n,e){return ud(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Wy{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new $u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,t,"signInWithPassword",OM);case"emailLink":return PM(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,r,"signUpPassword",NM);case"emailLink":return VM(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return ud(n,"POST","/v1/accounts:signInWithIdp",Ra(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="http://localhost";class va extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=Ky(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new va(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:MM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LM(n){const e=_u(Tu(n)).link,t=e?_u(Tu(e)).deep_link_id:null,r=_u(Tu(n)).deep_link_id;return(r?_u(Tu(r)).link:null)||r||t||e||n}class Zy{constructor(e){var t,r,a,l,c,f;const m=_u(Tu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=kM((a=m.mode)!==null&&a!==void 0?a:null);Te(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=LM(e);try{return new Zy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,t){return $u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Zy.parseLink(t);return Te(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends j1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends fc{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return is.credential(t,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends fc{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends fc{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ss.credential(t,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await ni._fromIdTokenResponse(e,r,a),c=xb(r);return new qo({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=xb(r);return new qo({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function xb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Li{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Vf(e,t,r,a)}}function B1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(n,l,e,r):l})}async function UM(n,e,t=!1){const r=await Yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,e,t=!1){const{auth:r}=n;if(Hn(r.app))return Promise.reject(hs(r));const a="reauthenticate";try{const l=await Yu(n,B1(r,a,e,n),t);Te(l.idToken,r,"internal-error");const c=Qy(l.idToken);Te(c,r,"internal-error");const{sub:f}=c;return Te(n.uid===f,r,"user-mismatch"),qo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(n,e,t=!1){if(Hn(n.app))return Promise.reject(hs(n));const r="signIn",a=await B1(n,r,e),l=await qo._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function BM(n,e){return z1(tl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(n){const e=tl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function FM(n,e,t){return Hn(n.app)?Promise.reject(hs(n)):BM(fn(n),nl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zM(n),r})}function qM(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function HM(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function GM(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=1e3,YM=10;class q1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);fM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YM):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const $M=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H1.type="SESSION";const G1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await QM(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=Jy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function WM(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ek(){return K1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebaseLocalStorageDb",tk=1,kf="firebaseLocalStorage",$1="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fd(n,e){return n.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function nk(){const n=indexedDB.deleteDatabase(Y1);return new dc(n).toPromise()}function Rg(){const n=indexedDB.open(Y1,tk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kf,{keyPath:$1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kf)?e(r):(r.close(),await nk(),e(await Rg()))})})}async function Cb(n,e,t){const r=fd(n,!0).put({[$1]:e,value:t});return new dc(r).toPromise()}async function ik(n,e){const t=fd(n,!1).get(e),r=await new dc(t).toPromise();return r===void 0?null:r.value}function Ib(n,e){const t=fd(n,!0).delete(e);return new dc(t).toPromise()}const rk=800,sk=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new XM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rg();return await Cb(e,Mf,"1"),await Ib(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ik(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=fd(a,!1).getAll();return new dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const ak=Q1;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n,e){return e?dr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lk(n){return z1(n.auth,new ev(n),n.bypassAuthState)}function uk(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),jM(t,new ev(n),n.bypassAuthState)}async function ck(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),UM(t,new ev(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return ck;case"reauthViaPopup":case"reauthViaRedirect":return uk;default:si(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new hc(2e3,1e4);class Ao extends X1{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hk.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="pendingRedirect",ff=new Map;class dk extends X1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mk(n,e){const t=yk(e),r=gk(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function pk(n,e){ff.set(n._key(),e)}function gk(n){return dr(n._redirectPersistence)}function yk(n){return hf(fk,n.config.apiKey,n.name)}async function vk(n,e,t=!1){if(Hn(n.app))return Promise.reject(hs(n));const r=tl(n),a=ok(r,e),c=await new dk(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=10*60*1e3;class Tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ek(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!W1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Di(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_k&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ek(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e={}){return Es(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ak=/^https?/;async function Sk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bk(n);for(const t of e)try{if(Rk(t))return}catch{}si(n,"unauthorized-domain")}function Rk(n){const e=Ag(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Ak.test(t))return!1;if(wk.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new hc(3e4,6e4);function Nb(){const n=Ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ck(n){return new Promise((e,t)=>{var r,a,l;function c(){Nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nb(),t(Di(n,"network-request-failed"))},timeout:xk.get()})}if(!((a=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ni().gapi)===null||l===void 0)&&l.load)c();else{const f=EM("iframefcb");return Ni()[f]=()=>{gapi.load?c():t(Di(n,"network-request-failed"))},k1(`${TM()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw df=null,e})}let df=null;function Ik(n){return df=df||Ck(n),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new hc(5e3,15e3),Nk="__/auth/iframe",Ok="emulator/auth/iframe",Pk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mk(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$y(e,Ok):`https://${n.config.authDomain}/${Nk}`,r={apiKey:e.apiKey,appName:n.name,v:Ta},a=Vk.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ac(r).slice(1)}`}async function kk(n){const e=await Ik(n),t=Ni().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:Mk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pk,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Di(n,"network-request-failed"),f=Ni().setTimeout(()=>{l(c)},Dk.get());function m(){Ni().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uk=500,jk=600,Bk="_blank",zk="http://localhost";class Ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fk(n,e,t,r=Uk,a=jk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Lk),{width:r.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();t&&(f=I1(p)?Bk:t),x1(p)&&(e=e||zk,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[R,C])=>`${E}${R}=${C},`,"");if(hM(p)&&f!=="_self")return qk(e||"",f),new Ob(null);const _=window.open(e||"",f,y);Te(_,n,"popup-blocked");try{_.focus()}catch{}return new Ob(_)}function qk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="__/auth/handler",Gk="emulator/auth/handler",Kk=encodeURIComponent("fac");async function Pb(n,e,t,r,a,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ta,eventId:a};if(e instanceof j1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",g2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof fc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${Kk}=${encodeURIComponent(m)}`:"";return`${Yk(n)}?${ac(f).slice(1)}${p}`}function Yk({config:n}){return n.emulator?$y(n,Gk):`https://${n.authDomain}/${Hk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class $k{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=vk,this._overrideRedirectResult=pk}async _openPopup(e,t,r,a){var l;Er((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Pb(e,t,r,Ag(),a);return Fk(e,c,Jy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await Pb(e,t,r,Ag(),a);return WM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await kk(e),r=new Tk(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vp,{type:Vp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Vp];c!==void 0&&t(!!c),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V1()||C1()||Xy()}}const Qk=$k;var Vb="@firebase/auth",Mb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){pa(new fs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(n)},p=new yM(r,a,l,m);return xM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pa(new fs("auth-internal",e=>{const t=tl(e.getProvider("auth").getImmediate());return(r=>new Xk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Vb,Mb,Wk(n)),xi(Vb,Mb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=5*60,eL=IA("authIdTokenMaxAge")||Jk;let kb=null;const tL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>eL)return;const a=t==null?void 0:t.token;kb!==a&&(kb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nL(n=sy()){const e=$f(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RM(n,{popupRedirectResolver:Qk,persistence:[ak,$M,G1]}),r=IA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=tL(l.toString());HM(t,c,()=>c(t.currentUser)),qM(t,f=>c(f))}}const a=RA("auth");return a&&CM(t,`http://${a}`),t}function iL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Di("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",iL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebasestorage.googleapis.com",rL="storageBucket",sL=2*60*1e3,aL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Li{constructor(e,t,r=0){super(Mp(e),`Firebase Storage: ${t} (${Mp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ui.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function Mp(n){return"storage/"+n}function oL(){const n="An unknown error occurred, please check the error payload for server response.";return new Ui(ki.UNKNOWN,n)}function lL(){return new Ui(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uL(){return new Ui(ki.CANCELED,"User canceled the upload/download.")}function cL(n){return new Ui(ki.INVALID_URL,"Invalid URL '"+n+"'.")}function hL(n){return new Ui(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Lb(n){return new Ui(ki.INVALID_ARGUMENT,n)}function J1(){return new Ui(ki.APP_DELETED,"The Firebase app was deleted.")}function fL(n){return new Ui(ki.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ii.makeFromUrl(e,t)}catch{return new ii(e,"")}if(r.path==="")return r;throw hL(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),C={bucket:1,path:3},D=t===Z1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",M=new RegExp(`^https?://${D}/${a}/${N}`,"i"),G=[{regex:f,indices:m,postModify:l},{regex:R,indices:C,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<G.length;te++){const J=G[te],ue=J.regex.exec(e);if(ue){const k=ue[J.indices.bucket];let x=ue[J.indices.path];x||(x=""),r=new ii(k,x),J.postModify(r);break}}if(r==null)throw cL(e);return r}}class dL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,n(R,m())},N)}function E(){l&&clearTimeout(l)}function R(N,...M){if(p){E();return}if(N){E(),y.call(null,N,...M);return}if(m()||c){E(),y.call(null,N,...M);return}r<64&&(r*=2);let G;f===1?(f=2,G=0):G=(r+Math.random())*1e3,_(G)}let C=!1;function D(N){C||(C=!0,E(),!p&&(a!==null?(N||(f=2),clearTimeout(a),_(0)):N||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,D(!0)},t),D}function pL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(n){return n!==void 0}function Ub(n,e,t,r){if(r<e)throw Lb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Lb(`Invalid value for '${n}'. Expected ${t} or less.`)}function yL(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Lf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Lf||(Lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t,r,a,l,c,f,m,p,y,_,E=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Qh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Lf.NO_ERROR,m=l.getStatus();if(!f||vL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Lf.ABORT;r(!1,new Qh(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Qh(p,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());gL(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=oL();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?J1():uL();c(m)}else{const m=lL();c(m)}};this.canceled_?t(!1,new Qh(!1,null,!0)):this.backoffId_=mL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function TL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function EL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function wL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AL(n,e,t,r,a,l,c=!0,f=!1){const m=yL(n.urlParams),p=n.url+m,y=Object.assign({},n.headers);return bL(y,e),TL(y,t),EL(y,l),wL(y,r),new _L(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this._service=e,t instanceof ii?this._location=t:this._location=ii.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Uf(e,t)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RL(this._location.path)}get storage(){return this._service}get parent(){const e=SL(this._location.path);if(e===null)return null;const t=new ii(this._location.bucket,e);return new Uf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fL(e)}}function jb(n,e){const t=e==null?void 0:e[rL];return t==null?null:ii.makeFromBucketSpec(t,n)}function xL(n,e,t,r={}){n.host=`${e}:${t}`;const a=_a(e);a&&(ty(`https://${n.host}/b`),ny("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:DA(l,n.app.options.projectId))}class CL{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Z1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sL,this._maxUploadRetryTime=aL,this._requests=new Set,a!=null?this._bucket=ii.makeFromBucketSpec(a,this._host):this._bucket=jb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=jb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ub("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ub("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uf(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new dL(J1());{const c=AL(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const Bb="@firebase/storage",zb="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="storage";function IL(n=sy(),e){n=fn(n);const r=$f(n,eR).getImmediate({identifier:e}),a=xA("storage");return a&&DL(r,...a),r}function DL(n,e,t,r={}){xL(n,e,t,r)}function NL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new CL(t,r,a,e,Ta)}function OL(){pa(new fs(eR,NL,"PUBLIC").setMultipleInstances(!0)),xi(Bb,zb,""),xi(Bb,zb,"esm2017")}OL();const PL={apiKey:"AIzaSyA1xJdsJXBF7wb9XSE4bxECXQwwZjEu64",authDomain:"buholex-ab588.firebaseapp.com",projectId:"buholex-ab588",storageBucket:"buholex-ab588.appspot.com",messagingSenderId:"608453552779",appId:"1:608453552779:web:8ca82b34b76bf7de5b428e"},tv=PA(PL),ji=SV(tv),tR=nL(tv);IL(tv);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function VL(n,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(y){try{p(r.next(y))}catch(_){c(_)}}function m(y){try{p(r.throw(y))}catch(_){c(_)}}function p(y){y.done?l(y.value):a(y.value).then(f,m)}p((r=r.apply(n,[])).next())})}function ML(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){t.label=p[1];break}if(p[0]===6&&t.label<l[1]){t.label=l[1],l=p;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(p);break}l[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(y){p=[6,y],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var So=function(){return So=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},So.apply(this,arguments)},nR=function(n){return{loading:n==null,value:n}},kL=function(){return function(n,e){switch(e.type){case"error":return So(So({},n),{error:e.error,loading:!1,value:void 0});case"reset":return nR(e.defaultValue);case"value":return So(So({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},LL=function(n){var e=n?n():void 0,t=P.useReducer(kL(),nR(e)),r=t[0],a=t[1],l=P.useCallback(function(){var m=n?n():void 0;a({type:"reset",defaultValue:m})},[n]),c=P.useCallback(function(m){a({type:"error",error:m})},[]),f=P.useCallback(function(m){a({type:"value",value:m})},[]);return P.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:c,setValue:f,value:r.value}},[r.error,r.loading,l,c,f,r.value])},UL=function(n,e){var t=LL(function(){return n.currentUser}),r=t.error,a=t.loading,l=t.setError,c=t.setValue,f=t.value;return P.useEffect(function(){var m=GM(n,function(p){return VL(void 0,void 0,void 0,function(){var y;return ML(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return _.sent(),[3,4];case 3:return y=_.sent(),l(y),[3,4];case 4:return c(p),[2]}})})},l);return function(){m()}},[n]),[f,a,r]};function Xh({children:n}){const[e,t]=UL(tR);return t?A.jsx("p",{className:"text-center mt-10 text-gray-600",children:"Verificando sesión..."}):e?n:A.jsx(aD,{to:"/admin/login",replace:!0})}async function jL(n,e){try{const t=Ar(ji,"consultas");await Gy(t,{pregunta:n,respuesta:e,timestamp:new Date})}catch(t){console.error("Error guardando la consulta:",t)}}const Fb="/assets/litisbot-logo-BYenCRAQ.png";function BL(){const[n,e]=P.useState(!1),[t,r]=P.useState(""),[a,l]=P.useState(""),c={penal:"Para delitos penales leves, puedes solicitar defensa pública gratuita.",civil:"En procesos civiles debes identificar la pretensión principal y sus pruebas.",familia:"Los juicios de alimentos requieren acreditar vínculo filial y capacidad económica.",default:"Gracias por tu consulta. Si tu caso es complejo, agenda una cita en nuestra oficina virtual."},f=()=>{const m=t.toLowerCase();let p=c.default;m.includes("alimentos")||m.includes("demanda")?p=c.civil:m.includes("delito")||m.includes("robo")?p=c.penal:m.includes("familia")&&(p=c.familia),l(p),jL(t,p)};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:A.jsx("button",{onClick:()=>e(!n),className:"rounded-full shadow-2xl bg-white border-4 border-blue-700 w-16 h-16 flex items-center justify-center transition-transform duration-200 hover:scale-110",title:"LitisBot: Consultas legales",children:A.jsx("img",{src:Fb,alt:"LitisBot",className:"w-12 h-12 object-cover rounded-full drop-shadow-lg"})})}),n&&A.jsxs("div",{className:"fixed bottom-28 right-6 w-80 max-w-[95vw] bg-white border border-blue-200 rounded-2xl shadow-2xl p-4 z-50 animate-fade-in flex flex-col gap-2",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("img",{src:Fb,alt:"LitisBot",className:"w-10 h-10 rounded-full"}),A.jsx("span",{className:"font-bold text-blue-700 text-lg",children:"LitisBot"}),A.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"AI Legal"})]}),A.jsx("textarea",{className:"w-full p-2 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none",rows:2,maxLength:300,placeholder:"Escribe tu consulta legal aquí...",value:t,onChange:m=>r(m.target.value)}),A.jsx("button",{className:"bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-xl transition duration-150",onClick:f,children:"Consultar gratis"}),a&&A.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 text-gray-800 mt-2 shadow-inner",children:[A.jsx("span",{className:"font-semibold text-blue-700",children:"Respuesta: "}),a]}),A.jsx("button",{className:"text-xs text-gray-400 mt-2 underline hover:text-blue-700",onClick:()=>e(!1),children:"Cerrar chat"})]})]})}function zL(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}=n,[a,l]=P.useState(!1),c=P.useRef(t);c.current=t;const f=P.useRef(r);return f.current=r,P.useEffect(()=>{const m=document.createElement("script");return m.src="https://accounts.google.com/gsi/client",m.async=!0,m.defer=!0,m.nonce=e,m.onload=()=>{var p;l(!0),(p=c.current)===null||p===void 0||p.call(c)},m.onerror=()=>{var p;l(!1),(p=f.current)===null||p===void 0||p.call(f)},document.body.appendChild(m),()=>{document.body.removeChild(m)}},[e]),a}const iR=P.createContext(null);function FL({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r,children:a}){const l=zL({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}),c=P.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:l}),[n,l]);return Yg.createElement(iR.Provider,{value:c},a)}function qL(){const n=P.useContext(iR);if(!n)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return n}function HL({flow:n="implicit",scope:e="",onSuccess:t,onError:r,onNonOAuthError:a,overrideScope:l,state:c,...f}){const{clientId:m,scriptLoadedSuccessfully:p}=qL(),y=P.useRef(),_=P.useRef(t);_.current=t;const E=P.useRef(r);E.current=r;const R=P.useRef(a);R.current=a,P.useEffect(()=>{var N,M;if(!p)return;const q=n==="implicit"?"initTokenClient":"initCodeClient",G=(M=(N=window==null?void 0:window.google)===null||N===void 0?void 0:N.accounts)===null||M===void 0?void 0:M.oauth2[q]({client_id:m,scope:l?e:`openid profile email ${e}`,callback:te=>{var J,ue;if(te.error)return(J=E.current)===null||J===void 0?void 0:J.call(E,te);(ue=_.current)===null||ue===void 0||ue.call(_,te)},error_callback:te=>{var J;(J=R.current)===null||J===void 0||J.call(R,te)},state:c,...f});y.current=G},[m,p,n,e,c]);const C=P.useCallback(N=>{var M;return(M=y.current)===null||M===void 0?void 0:M.requestAccessToken(N)},[]),D=P.useCallback(()=>{var N;return(N=y.current)===null||N===void 0?void 0:N.requestCode()},[]);return n==="implicit"?C:D}var Wh={},kp={exports:{}},Lp,qb;function GL(){if(qb)return Lp;qb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lp=n,Lp}var Up,Hb;function KL(){if(Hb)return Up;Hb=1;var n=GL();function e(){}function t(){}return t.resetWarningCache=e,Up=function(){function r(c,f,m,p,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Up}var Gb;function YL(){return Gb||(Gb=1,kp.exports=KL()()),kp.exports}var jp,Kb;function $L(){if(Kb)return jp;Kb=1,jp=function(a,l,c){var f=document.head||document.getElementsByTagName("head")[0],m=document.createElement("script");typeof l=="function"&&(c=l,l={}),l=l||{},c=c||function(){},m.type=l.type||"text/javascript",m.charset=l.charset||"utf8",m.async="async"in l?!!l.async:!0,m.src=a,l.attrs&&n(m,l.attrs),l.text&&(m.text=""+l.text);var p="onload"in m?e:t;p(m,c),m.onload||e(m,c),f.appendChild(m)};function n(r,a){for(var l in a)r.setAttribute(l,a[l])}function e(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function t(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return jp}var Yb;function QL(){if(Yb)return Wh;Yb=1,Object.defineProperty(Wh,"__esModule",{value:!0});var n=function(){function C(D,N){for(var M=0;M<N.length;M++){var q=N[M];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,N,M){return N&&C(D.prototype,N),M&&C(D,M),D}}(),e=Hf(),t=f(e),r=YL(),a=f(r),l=$L(),c=f(l);function f(C){return C&&C.__esModule?C:{default:C}}function m(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function p(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:C}function y(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}var _="https://apis.google.com/js/api.js",E=!1,R=function(C){y(D,C);function D(N){m(this,D);var M=p(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return M.onApiLoad=M.onApiLoad.bind(M),M.onChoose=M.onChoose.bind(M),M}return n(D,[{key:"componentDidMount",value:function(){this.isGoogleReady()?this.onApiLoad():E||(E=!0,(0,c.default)(_,this.onApiLoad))}},{key:"isGoogleReady",value:function(){return!!window.gapi}},{key:"isGoogleAuthReady",value:function(){return!!window.gapi.auth}},{key:"isGooglePickerReady",value:function(){return!!window.google.picker}},{key:"onApiLoad",value:function(){window.gapi.load("auth"),window.gapi.load("picker")}},{key:"doAuth",value:function(M){window.gapi.auth.authorize({client_id:this.props.clientId,scope:this.props.scope,immediate:this.props.authImmediate},M)}},{key:"onChoose",value:function(){var M=this;if(!this.isGoogleReady()||!this.isGoogleAuthReady()||!this.isGooglePickerReady()||this.props.disabled)return null;var q=window.gapi.auth.getToken(),G=q&&q.access_token;G?this.createPicker(G):this.doAuth(function(te){te.access_token?M.createPicker(te.access_token):M.props.onAuthFailed(te)})}},{key:"createPicker",value:function(M){if(this.props.onAuthenticate(M),this.props.createPicker)return this.props.createPicker(google,M);var q=google.picker.ViewId[this.props.viewId],G=new window.google.picker.View(q);if(this.props.mimeTypes&&G.setMimeTypes(this.props.mimeTypes.join(",")),this.props.query&&G.setQuery(this.props.query),!G)throw new Error("Can't find view by viewId");var te=new window.google.picker.PickerBuilder().addView(G).setOAuthToken(M).setDeveloperKey(this.props.developerKey).setCallback(this.props.onChange);this.props.origin&&te.setOrigin(this.props.origin),this.props.navHidden&&te.enableFeature(window.google.picker.Feature.NAV_HIDDEN),this.props.multiselect&&te.enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED),te.build().setVisible(!0)}},{key:"render",value:function(){return t.default.createElement("div",{onClick:this.onChoose},this.props.children?this.props.children:t.default.createElement("button",null,"Open google chooser"))}}]),D}(t.default.Component);return R.propTypes={children:a.default.node,clientId:a.default.string.isRequired,developerKey:a.default.string,scope:a.default.array,viewId:a.default.string,authImmediate:a.default.bool,origin:a.default.string,onChange:a.default.func,onAuthenticate:a.default.func,onAuthFailed:a.default.func,createPicker:a.default.func,multiselect:a.default.bool,navHidden:a.default.bool,disabled:a.default.bool},R.defaultProps={onChange:function(){},onAuthenticate:function(){},onAuthFailed:function(){},scope:["https://www.googleapis.com/auth/drive.readonly"],viewId:"DOCS",authImmediate:!1,multiselect:!1,navHidden:!1,disabled:!1},Wh.default=R,Wh}QL();const rR=P.createContext({});function XL(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const nv=typeof window<"u",WL=nv?P.useLayoutEffect:P.useEffect,iv=P.createContext(null);function rv(n,e){n.indexOf(e)===-1&&n.push(e)}function sv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const br=(n,e,t)=>t>e?e:t<n?n:t;let av=()=>{};const wr={},sR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function aR(n){return typeof n=="object"&&n!==null}const oR=n=>/^0[^.\s]+$/u.test(n);function ov(n){let e;return()=>(e===void 0&&(e=n()),e)}const Kn=n=>n,ZL=(n,e)=>t=>e(n(t)),mc=(...n)=>n.reduce(ZL),Qu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class lv{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>sv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=n=>n*1e3,Pi=n=>n/1e3;function lR(n,e){return e?n*(1e3/e):0}const uR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,JL=1e-7,e4=12;function t4(n,e,t,r,a){let l,c,f=0;do c=e+(t-e)/2,l=uR(c,r,a)-n,l>0?t=c:e=c;while(Math.abs(l)>JL&&++f<e4);return c}function pc(n,e,t,r){if(n===e&&t===r)return Kn;const a=l=>t4(l,0,1,n,t);return l=>l===0||l===1?l:uR(a(l),e,r)}const cR=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hR=n=>e=>1-n(1-e),fR=pc(.33,1.53,.69,.99),uv=hR(fR),dR=cR(uv),mR=n=>(n*=2)<1?.5*uv(n):.5*(2-Math.pow(2,-10*(n-1))),cv=n=>1-Math.sin(Math.acos(n)),pR=hR(cv),gR=cR(cv),n4=pc(.42,0,1,1),i4=pc(0,0,.58,1),yR=pc(.42,0,.58,1),r4=n=>Array.isArray(n)&&typeof n[0]!="number",vR=n=>Array.isArray(n)&&typeof n[0]=="number",s4={linear:Kn,easeIn:n4,easeInOut:yR,easeOut:i4,circIn:cv,circInOut:gR,circOut:pR,backIn:uv,backInOut:dR,backOut:fR,anticipate:mR},a4=n=>typeof n=="string",$b=n=>{if(vR(n)){av(n.length===4);const[e,t,r,a]=n;return pc(e,t,r,a)}else if(a4(n))return s4[n];return n},Zh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qb={value:null};function o4(n,e){let t=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),n()),m++,_(f)}const y={schedule:(_,E=!1,R=!1)=>{const D=R&&a?t:r;return E&&c.add(_),D.has(_)||D.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[t,r]=[r,t],t.forEach(p),e&&Qb.value&&Qb.value.frameloop[e].push(m),m=0,t.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const l4=40;function _R(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Zh.reduce((G,te)=>(G[te]=o4(l,e?te:void 0),G),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:R,postRender:C}=c,D=()=>{const G=wr.useManualTiming?a.timestamp:performance.now();t=!1,wr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(G-a.timestamp,l4),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),R.process(a),C.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(D))},N=()=>{t=!0,r=!0,a.isProcessing||n(D)};return{schedule:Zh.reduce((G,te)=>{const J=c[te];return G[te]=(ue,k=!1,x=!1)=>(t||N(),J.schedule(ue,k,x)),G},{}),cancel:G=>{for(let te=0;te<Zh.length;te++)c[Zh[te]].cancel(G)},state:a,steps:c}}const{schedule:lt,cancel:_s,state:$t,steps:Bp}=_R(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let mf;function u4(){mf=void 0}const yn={now:()=>(mf===void 0&&yn.set($t.isProcessing||wr.useManualTiming?$t.timestamp:performance.now()),mf),set:n=>{mf=n,queueMicrotask(u4)}},TR=n=>e=>typeof e=="string"&&e.startsWith(n),hv=TR("--"),c4=TR("var(--"),fv=n=>c4(n)?h4.test(n.split("/*")[0].trim()):!1,h4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Xu={...il,transform:n=>br(0,1,n)},Jh={...il,default:1},Ou=n=>Math.round(n*1e5)/1e5,dv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f4(n){return n==null}const d4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mv=(n,e)=>t=>!!(typeof t=="string"&&d4.test(t)&&t.startsWith(n)||e&&!f4(t)&&Object.prototype.hasOwnProperty.call(t,e)),ER=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(dv);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},m4=n=>br(0,255,n),zp={...il,transform:n=>Math.round(m4(n))},ca={test:mv("rgb","red"),parse:ER("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+zp.transform(n)+", "+zp.transform(e)+", "+zp.transform(t)+", "+Ou(Xu.transform(r))+")"};function p4(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const xg={test:mv("#"),parse:p4,transform:ca.transform},gc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ts=gc("deg"),Vi=gc("%"),we=gc("px"),g4=gc("vh"),y4=gc("vw"),Xb={...Vi,parse:n=>Vi.parse(n)/100,transform:n=>Vi.transform(n*100)},Ro={test:mv("hsl","hue"),parse:ER("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Vi.transform(Ou(e))+", "+Vi.transform(Ou(t))+", "+Ou(Xu.transform(r))+")"},Rt={test:n=>ca.test(n)||xg.test(n)||Ro.test(n),parse:n=>ca.test(n)?ca.parse(n):Ro.test(n)?Ro.parse(n):xg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ca.transform(n):Ro.transform(n),getAnimatableNone:n=>{const e=Rt.parse(n);return e.alpha=0,Rt.transform(e)}},v4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _4(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(dv))==null?void 0:e.length)||0)+(((t=n.match(v4))==null?void 0:t.length)||0)>0}const bR="number",wR="color",T4="var",E4="var(",Wb="${}",b4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(b4,m=>(Rt.test(m)?(r.color.push(l),a.push(wR),t.push(Rt.parse(m))):m.startsWith(E4)?(r.var.push(l),a.push(T4),t.push(m)):(r.number.push(l),a.push(bR),t.push(parseFloat(m))),++l,Wb)).split(Wb);return{values:t,split:f,indexes:r,types:a}}function AR(n){return Wu(n).values}function SR(n){const{split:e,types:t}=Wu(n),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=t[c];f===bR?l+=Ou(a[c]):f===wR?l+=Rt.transform(a[c]):l+=a[c]}return l}}const w4=n=>typeof n=="number"?0:Rt.test(n)?Rt.getAnimatableNone(n):n;function A4(n){const e=AR(n);return SR(n)(e.map(w4))}const Ts={test:_4,parse:AR,createTransformer:SR,getAnimatableNone:A4};function Fp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function S4({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,l=0,c=0;if(!e)a=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,m=2*t-f;a=Fp(m,f,n+1/3),l=Fp(m,f,n),c=Fp(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function jf(n,e){return t=>t>0?e:n}const ot=(n,e,t)=>n+(e-n)*t,qp=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},R4=[xg,ca,Ro],x4=n=>R4.find(e=>e.test(n));function Zb(n){const e=x4(n);if(!e)return!1;let t=e.parse(n);return e===Ro&&(t=S4(t)),t}const Jb=(n,e)=>{const t=Zb(n),r=Zb(e);if(!t||!r)return jf(n,e);const a={...t};return l=>(a.red=qp(t.red,r.red,l),a.green=qp(t.green,r.green,l),a.blue=qp(t.blue,r.blue,l),a.alpha=ot(t.alpha,r.alpha,l),ca.transform(a))},Cg=new Set(["none","hidden"]);function C4(n,e){return Cg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function I4(n,e){return t=>ot(n,e,t)}function pv(n){return typeof n=="number"?I4:typeof n=="string"?fv(n)?jf:Rt.test(n)?Jb:O4:Array.isArray(n)?RR:typeof n=="object"?Rt.test(n)?Jb:D4:jf}function RR(n,e){const t=[...n],r=t.length,a=n.map((l,c)=>pv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)t[c]=a[c](l);return t}}function D4(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=pv(n[a])(n[a],e[a]));return a=>{for(const l in r)t[l]=r[l](a);return t}}function N4(n,e){const t=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][r[l]],f=n.values[c]??0;t[a]=f,r[l]++}return t}const O4=(n,e)=>{const t=Ts.createTransformer(e),r=Wu(n),a=Wu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Cg.has(n)&&!a.values.length||Cg.has(e)&&!r.values.length?C4(n,e):mc(RR(N4(r,a),a.values),t):jf(n,e)};function xR(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ot(n,e,t):pv(n)(n,e)}const P4=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>lt.update(e,t),stop:()=>_s(e),now:()=>$t.isProcessing?$t.timestamp:yn.now()}},CR=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)r+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bf=2e4;function gv(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Bf;)e+=t,r=n.next(e);return e>=Bf?1/0:e}function V4(n,e=100,t){const r=t({...n,keyframes:[0,e]}),a=Math.min(gv(r),Bf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Pi(a)}}const M4=5;function IR(n,e,t){const r=Math.max(e-M4,0);return lR(t-n(r),e-r)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hp=.001;function k4({duration:n=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:r=dt.mass}){let a,l,c=1-e;c=br(dt.minDamping,dt.maxDamping,c),n=br(dt.minDuration,dt.maxDuration,Pi(n)),c<1?(a=p=>{const y=p*c,_=y*n,E=y-t,R=Ig(p,c),C=Math.exp(-_);return Hp-E/R*C},l=p=>{const _=p*c*n,E=_*t+t,R=Math.pow(c,2)*Math.pow(p,2)*n,C=Math.exp(-_),D=Ig(Math.pow(p,2),c);return(-a(p)+Hp>0?-1:1)*((E-R)*C)/D}):(a=p=>{const y=Math.exp(-p*n),_=(p-t)*n+1;return-Hp+y*_},l=p=>{const y=Math.exp(-p*n),_=(t-p)*(n*n);return y*_});const f=5/n,m=U4(a,l,f);if(n=Oi(n),isNaN(m))return{stiffness:dt.stiffness,damping:dt.damping,duration:n};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const L4=12;function U4(n,e,t){let r=t;for(let a=1;a<L4;a++)r=r-n(r)/e(r);return r}function Ig(n,e){return n*Math.sqrt(1-e*e)}const j4=["duration","bounce"],B4=["stiffness","damping","mass"];function ew(n,e){return e.some(t=>n[t]!==void 0)}function z4(n){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...n};if(!ew(n,B4)&&ew(n,j4))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,l=2*br(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:dt.mass,stiffness:a,damping:l}}else{const t=k4(n);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function zf(n=dt.visualDuration,e=dt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:R}=z4({...t,velocity:-Pi(t.velocity||0)}),C=E||0,D=p/(2*Math.sqrt(m*y)),N=c-l,M=Pi(Math.sqrt(m/y)),q=Math.abs(N)<5;r||(r=q?dt.restSpeed.granular:dt.restSpeed.default),a||(a=q?dt.restDelta.granular:dt.restDelta.default);let G;if(D<1){const J=Ig(M,D);G=ue=>{const k=Math.exp(-D*M*ue);return c-k*((C+D*M*N)/J*Math.sin(J*ue)+N*Math.cos(J*ue))}}else if(D===1)G=J=>c-Math.exp(-M*J)*(N+(C+M*N)*J);else{const J=M*Math.sqrt(D*D-1);G=ue=>{const k=Math.exp(-D*M*ue),x=Math.min(J*ue,300);return c-k*((C+D*M*N)*Math.sinh(x)+J*N*Math.cosh(x))/J}}const te={calculatedDuration:R&&_||null,next:J=>{const ue=G(J);if(R)f.done=J>=_;else{let k=J===0?C:0;D<1&&(k=J===0?Oi(C):IR(G,J,ue));const x=Math.abs(k)<=r,I=Math.abs(c-ue)<=a;f.done=x&&I}return f.value=f.done?c:ue,f},toString:()=>{const J=Math.min(gv(te),Bf),ue=CR(k=>te.next(J*k).value,J,30);return J+"ms "+ue},toTransition:()=>{}};return te}zf.applyToOptions=n=>{const e=V4(n,100,zf);return n.ease=e.ease,n.duration=Oi(e.duration),n.type="keyframes",n};function Dg({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=n[0],E={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,C=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let D=t*e;const N=_+D,M=c===void 0?N:c(N);M!==N&&(D=M-_);const q=x=>-D*Math.exp(-x/r),G=x=>M+q(x),te=x=>{const I=q(x),L=G(x);E.done=Math.abs(I)<=p,E.value=E.done?M:L};let J,ue;const k=x=>{R(E.value)&&(J=x,ue=zf({keyframes:[E.value,C(E.value)],velocity:IR(G,x,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return k(0),{calculatedDuration:null,next:x=>{let I=!1;return!ue&&J===void 0&&(I=!0,te(x),k(x)),J!==void 0&&x>=J?ue.next(x-J):(!I&&te(x),E)}}}function F4(n,e,t){const r=[],a=t||wr.mix||xR,l=n.length-1;for(let c=0;c<l;c++){let f=a(n[c],n[c+1]);if(e){const m=Array.isArray(e)?e[c]||Kn:e;f=mc(m,f)}r.push(f)}return r}function q4(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const l=n.length;if(av(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=F4(e,r,a),m=f.length,p=y=>{if(c&&y<n[0])return e[0];let _=0;if(m>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const E=Qu(n[_],n[_+1],y);return f[_](E)};return t?y=>p(br(n[0],n[l-1],y)):p}function H4(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=Qu(0,e,r);n.push(ot(t,1,a))}}function G4(n){const e=[0];return H4(e,n.length-1),e}function K4(n,e){return n.map(t=>t*e)}function Y4(n,e){return n.map(()=>e||yR).splice(0,n.length-1)}function Pu({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=r4(r)?r.map($b):$b(r),l={done:!1,value:e[0]},c=K4(t&&t.length===e.length?t:G4(e),n),f=q4(c,e,{ease:Array.isArray(a)?a:Y4(e,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const $4=n=>n!==null;function yv(n,{repeat:e,repeatType:t="loop"},r,a=1){const l=n.filter($4),f=a<0||e&&t!=="loop"&&e%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const Q4={decay:Dg,inertia:Dg,tween:Pu,keyframes:Pu,spring:zf};function DR(n){typeof n.type=="string"&&(n.type=Q4[n.type])}class vv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const X4=n=>n/100;class _v extends vv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:t}=this.options;t&&t.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DR(e);const{type:t=Pu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=t||Pu;m!==Pu&&typeof f[0]!="number"&&(this.mixKeyframes=mc(X4,xR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=gv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:R,type:C,onUpdate:D,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,te=r;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(L=1-L,R&&(L-=R/f)):E==="mirror"&&(te=c)),G=br(0,1,L)*f}const J=q?{done:!1,value:y[0]}:te.next(G);l&&(J.value=l(J.value));let{done:ue}=J;!q&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&C!==Dg&&(J.value=yv(y,this.options,N,this.speed)),D&&D(J.value),k&&this.finish(),J}then(e,t){return this.finished.then(e,t)}get duration(){return Pi(this.calculatedDuration)}get time(){return Pi(this.currentTime)}set time(e){var t;e=Oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Pi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=P4,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function W4(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ha=n=>n*180/Math.PI,Ng=n=>{const e=ha(Math.atan2(n[1],n[0]));return Og(e)},Z4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ng,rotateZ:Ng,skewX:n=>ha(Math.atan(n[1])),skewY:n=>ha(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Og=n=>(n=n%360,n<0&&(n+=360),n),tw=Ng,nw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),J4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nw,scaleY:iw,scale:n=>(nw(n)+iw(n))/2,rotateX:n=>Og(ha(Math.atan2(n[6],n[5]))),rotateY:n=>Og(ha(Math.atan2(-n[2],n[0]))),rotateZ:tw,rotate:tw,skewX:n=>ha(Math.atan(n[4])),skewY:n=>ha(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Pg(n){return n.includes("scale")?1:0}function Vg(n,e){if(!n||n==="none")return Pg(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=J4,a=t;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Z4,a=f}if(!a)return Pg(e);const l=r[e],c=a[1].split(",").map(t6);return typeof l=="function"?l(c):c[l]}const e6=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Vg(t,e)};function t6(n){return parseFloat(n.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(rl),rw=n=>n===il||n===we,n6=new Set(["x","y","z"]),i6=rl.filter(n=>!n6.has(n));function r6(n){const e=[];return i6.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const fa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Vg(e,"x"),y:(n,{transform:e})=>Vg(e,"y")};fa.translateX=fa.x;fa.translateY=fa.y;const da=new Set;let Mg=!1,kg=!1,Lg=!1;function NR(){if(kg){const n=Array.from(da).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=r6(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kg=!1,Mg=!1,da.forEach(n=>n.complete(Lg)),da.clear()}function OR(){da.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(kg=!0)})}function s6(){Lg=!0,OR(),NR(),Lg=!1}class Tv{constructor(e,t,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),Mg||(Mg=!0,lt.read(OR),lt.resolveKeyframes(NR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}W4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a6=n=>n.startsWith("--");function o6(n,e,t){a6(e)?n.style.setProperty(e,t):n.style[e]=t}const l6=ov(()=>window.ScrollTimeline!==void 0),u6={};function c6(n,e){const t=ov(n);return()=>u6[e]??t()}const PR=c6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Su=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,sw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function VR(n,e){if(n)return typeof n=="function"?PR()?CR(n,e):"ease-out":vR(n)?Su(n):Array.isArray(n)?n.map(t=>VR(t,e)||sw.easeOut):sw[n]}function h6(n,e,t,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:t};m&&(y.offset=m);const _=VR(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function MR(n){return typeof n=="function"&&"applyToOptions"in n}function f6({type:n,...e}){return MR(n)&&PR()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class d6 extends vv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,av(typeof e.type!="string");const p=f6(e);this.animation=h6(t,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=yv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):o6(t,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Pi(Number(e))}get time(){return Pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&l6()?(this.animation.timeline=e,Kn):t(this)}}const kR={anticipate:mR,backInOut:dR,circInOut:gR};function m6(n){return n in kR}function p6(n){typeof n.ease=="string"&&m6(n.ease)&&(n.ease=kR[n.ease])}const aw=10;class g6 extends d6{constructor(e){p6(e),DR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const f=new _v({...c,autoplay:!1}),m=Oi(this.finishedTime??this.time);t.setWithVelocity(f.sample(m-aw).value,f.sample(m).value,aw),f.stop()}}const ow=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ts.test(n)||n==="0")&&!n.startsWith("url("));function y6(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function v6(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=ow(a,e),f=ow(l,e);return!c||!f?!1:y6(n)||(t==="spring"||MR(t))&&r}function LR(n){return aR(n)&&"offsetHeight"in n}const _6=new Set(["opacity","clipPath","filter","transform"]),T6=ov(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E6(n){var p;const{motionValue:e,name:t,repeatDelay:r,repeatType:a,damping:l,type:c}=n;if(!LR((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return T6()&&t&&_6.has(t)&&(t!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const b6=40;class w6 extends vv{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var D,N;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=yn.now();const E={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=(y==null?void 0:y.KeyframeResolver)||Tv;this.keyframeResolver=new R(f,(D,N,M)=>this.onKeyframesResolved(D,N,E,!M),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,t,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=yn.now(),v6(e,l,c,f)||((wr.instantAnimations||!m)&&(y==null||y(yv(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>b6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},R=!p&&E6(E)?new g6({...E,element:E.motionValue.owner.current}):new _v(E);R.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),s6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const A6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S6(n){const e=A6.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function UR(n,e,t=1){const[r,a]=S6(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return sR(c)?parseFloat(c):c}return fv(a)?UR(a,e,t+1):a}function Ev(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const jR=new Set(["width","height","top","left","right","bottom",...rl]),R6={test:n=>n==="auto",parse:n=>n},BR=n=>e=>e.test(n),zR=[il,we,Vi,ts,y4,g4,R6],lw=n=>zR.find(BR(n));function x6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||oR(n):!0}const C6=new Set(["brightness","contrast","saturate","opacity"]);function I6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(dv)||[];if(!r)return n;const a=t.replace(r,"");let l=C6.has(e)?1:0;return r!==t&&(l*=100),e+"("+l+a+")"}const D6=/\b([a-z-]*)\(.*?\)/gu,Ug={...Ts,getAnimatableNone:n=>{const e=n.match(D6);return e?e.map(I6).join(" "):n}},uw={...il,transform:Math.round},N6={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Jh,scaleX:Jh,scaleY:Jh,scaleZ:Jh,skew:ts,skewX:ts,skewY:ts,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Xu,originX:Xb,originY:Xb,originZ:we},bv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...N6,zIndex:uw,fillOpacity:Xu,strokeOpacity:Xu,numOctaves:uw},O6={...bv,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Ug,WebkitFilter:Ug},FR=n=>O6[n];function qR(n,e){let t=FR(n);return t!==Ug&&(t=Ts),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const P6=new Set(["auto","none","0"]);function V6(n,e,t){let r=0,a;for(;r<n.length&&!a;){const l=n[r];typeof l=="string"&&!P6.has(l)&&Wu(l).values.length&&(a=n[r]),r++}if(a&&t)for(const l of e)n[l]=qR(t,a)}class M6 extends Tv{constructor(e,t,r,a,l){super(e,t,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),fv(p))){const y=UR(p,t.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jR.has(r)||e.length!==2)return;const[a,l]=e,c=lw(a),f=lw(l);if(c!==f)if(rw(c)&&rw(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else fa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||x6(e[a]))&&r.push(a);r.length&&V6(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=fa[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function k6(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const a=(t==null?void 0:t[n])??r.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const HR=(n,e)=>e&&typeof n=="number"?e.transform(n):n,cw=30,L6=n=>!isNaN(parseFloat(n));class U6{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=yn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=L6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lv);const r=this.events[e].add(t);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,cw);return lR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(n,e){return new U6(n,e)}const{schedule:wv}=_R(queueMicrotask,!1),ei={x:!1,y:!1};function GR(){return ei.x||ei.y}function j6(n){return n==="x"||n==="y"?ei[n]?null:(ei[n]=!0,()=>{ei[n]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function KR(n,e){const t=k6(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function hw(n){return!(n.pointerType==="touch"||GR())}function B6(n,e,t={}){const[r,a,l]=KR(n,t),c=f=>{if(!hw(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{hw(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const YR=(n,e)=>e?n===e?!0:YR(n,e.parentElement):!1,Av=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,z6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F6(n){return z6.has(n.tagName)||n.tabIndex!==-1}const pf=new WeakSet;function fw(n){return e=>{e.key==="Enter"&&n(e)}}function Gp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const q6=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=fw(()=>{if(pf.has(t))return;Gp(t,"down");const a=fw(()=>{Gp(t,"up")}),l=()=>Gp(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function dw(n){return Av(n)&&!GR()}function H6(n,e,t={}){const[r,a,l]=KR(n,t),c=f=>{const m=f.currentTarget;if(!dw(f))return;pf.add(m);const p=e(m,f),y=(R,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),pf.has(m)&&pf.delete(m),dw(R)&&typeof p=="function"&&p(R,{success:C})},_=R=>{y(R,m===window||m===document||t.useGlobalTarget||YR(m,R.target))},E=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),LR(f)&&(f.addEventListener("focus",p=>q6(p,a)),!F6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function $R(n){return aR(n)&&"ownerSVGElement"in n}function G6(n){return $R(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),K6=[...zR,Rt,Ts],Y6=n=>K6.find(BR(n)),QR=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $6(n=!0){const e=P.useContext(iv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,l=P.useId();P.useEffect(()=>{if(n)return a(l)},[n]);const c=P.useCallback(()=>n&&r&&r(l),[l,r,n]);return!t&&r?[!1,c]:[!0]}const XR=P.createContext({strict:!1}),mw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const n in mw)Go[n]={isEnabled:e=>mw[n].some(t=>!!e[t])};function Q6(n){for(const e in n)Go[e]={...Go[e],...n[e]}}const X6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||X6.has(n)}let WR=n=>!Ff(n);function W6(n){typeof n=="function"&&(WR=e=>e.startsWith("on")?!Ff(e):n(e))}try{W6(require("@emotion/is-prop-valid").default)}catch{}function Z6(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(WR(a)||t===!0&&Ff(a)||!e&&!Ff(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function J6(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const dd=P.createContext({});function md(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Zu(n){return typeof n=="string"||Array.isArray(n)}const Sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...Sv];function pd(n){return md(n.animate)||Rv.some(e=>Zu(n[e]))}function ZR(n){return!!(pd(n)||n.variants)}function e3(n,e){if(pd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Zu(t)?t:void 0,animate:Zu(r)?r:void 0}}return n.inherit!==!1?e:{}}function t3(n){const{initial:e,animate:t}=e3(n,P.useContext(dd));return P.useMemo(()=>({initial:e,animate:t}),[pw(e),pw(t)])}function pw(n){return Array.isArray(n)?n.join(" "):n}const n3=Symbol.for("motionComponentSymbol");function xo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i3(n,e,t){return P.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):xo(t)&&(t.current=r))},[e])}const xv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r3="framerAppearId",JR="data-"+xv(r3),ex=P.createContext({});function s3(n,e,t,r,a){var D,N;const{visualElement:l}=P.useContext(dd),c=P.useContext(XR),f=P.useContext(iv),m=P.useContext(QR).reducedMotion,p=P.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:l,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=P.useContext(ex);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&a3(p.current,t,a,_);const E=P.useRef(!1);P.useInsertionEffect(()=>{y&&E.current&&y.update(t,f)});const R=t[JR],C=P.useRef(!!R&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,R))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,R)));return WL(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),wv.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,R)}),C.current=!1))}),y}function a3(n,e,t,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:tx(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&xo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function tx(n){if(n)return n.options.allowProjection!==!1?n.projection:tx(n.parent)}function o3({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){n&&Q6(n);function l(f,m){let p;const y={...P.useContext(QR),...f,layoutId:l3(f)},{isStatic:_}=y,E=t3(f),R=r(f,_);if(!_&&nv){u3();const C=c3(y);p=C.MeasureLayout,E.visualElement=s3(a,R,y,e,C.ProjectionNode)}return A.jsxs(dd.Provider,{value:E,children:[p&&E.visualElement?A.jsx(p,{visualElement:E.visualElement,...y}):null,t(a,f,i3(R,E.visualElement,m),R,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=P.forwardRef(l);return c[n3]=a,c}function l3({layoutId:n}){const e=P.useContext(rR).id;return e&&n!==void 0?e+"-"+n:n}function u3(n,e){P.useContext(XR).strict}function c3(n){const{drag:e,layout:t}=Go;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ju={};function h3(n){for(const e in n)Ju[e]=n[e],hv(e)&&(Ju[e].isCSSVariable=!0)}function nx(n,{layout:e,layoutId:t}){return sl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ju[n]||n==="opacity")}const f3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d3=rl.length;function m3(n,e,t){let r="",a=!0;for(let l=0;l<d3;l++){const c=rl[l],f=n[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||t){const p=HR(f,bv[c]);if(!m){a=!1;const y=f3[c]||c;r+=`${y}(${p}) `}t&&(e[c]=p)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function Cv(n,e,t){const{style:r,vars:a,transformOrigin:l}=n;let c=!1,f=!1;for(const m in e){const p=e[m];if(sl.has(m)){c=!0;continue}else if(hv(m)){a[m]=p;continue}else{const y=HR(p,bv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(e.transform||(c||t?r.transform=m3(e,n.transform,t):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ix(n,e,t){for(const r in e)!sn(e[r])&&!nx(r,t)&&(n[r]=e[r])}function p3({transformTemplate:n},e){return P.useMemo(()=>{const t=Iv();return Cv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function g3(n,e){const t=n.style||{},r={};return ix(r,t,n),Object.assign(r,p3(n,e)),r}function y3(n,e){const t={},r=g3(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const v3={offset:"stroke-dashoffset",array:"stroke-dasharray"},_3={offset:"strokeDashoffset",array:"strokeDasharray"};function T3(n,e,t=1,r=0,a=!0){n.pathLength=1;const l=a?v3:_3;n[l.offset]=we.transform(-r);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function rx(n,{attrX:e,attrY:t,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(Cv(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E}=n;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),a!==void 0&&T3(_,a,l,c,!1)}const sx=()=>({...Iv(),attrs:{}}),ax=n=>typeof n=="string"&&n.toLowerCase()==="svg";function E3(n,e,t,r){const a=P.useMemo(()=>{const l=sx();return rx(l,e,ax(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};ix(l,n.style,n),a.style={...l,...a.style}}return a}const b3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dv(n){return typeof n!="string"||n.includes("-")?!1:!!(b3.indexOf(n)>-1||/[A-Z]/u.test(n))}function w3(n=!1){return(t,r,a,{latestValues:l},c)=>{const m=(Dv(t)?E3:y3)(r,l,c,t),p=Z6(r,typeof t=="string",n),y=t!==P.Fragment?{...p,...m,ref:a}:{},{children:_}=r,E=P.useMemo(()=>sn(_)?_.get():_,[_]);return P.createElement(t,{...y,children:E})}}function gw(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Nv(n,e,t,r){if(typeof e=="function"){const[a,l]=gw(r);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=gw(r);e=e(t!==void 0?t:n.custom,a,l)}return e}function gf(n){return sn(n)?n.get():n}function A3({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,a){return{latestValues:S3(t,r,a,n),renderState:e()}}const ox=n=>(e,t)=>{const r=P.useContext(dd),a=P.useContext(iv),l=()=>A3(n,e,r,a);return t?l():XL(l)};function S3(n,e,t,r){const a={},l=r(n,{});for(const E in l)a[E]=gf(l[E]);let{initial:c,animate:f}=n;const m=pd(n),p=ZR(n);e&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=t?t.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!md(_)){const E=Array.isArray(_)?_:[_];for(let R=0;R<E.length;R++){const C=Nv(n,E[R]);if(C){const{transitionEnd:D,transition:N,...M}=C;for(const q in M){let G=M[q];if(Array.isArray(G)){const te=y?G.length-1:0;G=G[te]}G!==null&&(a[q]=G)}for(const q in D)a[q]=D[q]}}}return a}function Ov(n,e,t){var l;const{style:r}=n,a={};for(const c in r)(sn(r[c])||e.style&&sn(e.style[c])||nx(c,n)||((l=t==null?void 0:t.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const R3={useVisualState:ox({scrapeMotionValuesFromProps:Ov,createRenderState:Iv})};function lx(n,e,t){const r=Ov(n,e,t);for(const a in n)if(sn(n[a])||sn(e[a])){const l=rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=n[a]}return r}const x3={useVisualState:ox({scrapeMotionValuesFromProps:lx,createRenderState:sx})};function C3(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Dv(r)?x3:R3,preloadedFeatures:n,useRender:w3(a),createVisualElement:e,Component:r};return o3(c)}}function ec(n,e,t){const r=n.getProps();return Nv(r,e,t!==void 0?t:r.custom,n)}const jg=n=>Array.isArray(n);function I3(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ho(t))}function D3(n){return jg(n)?n[n.length-1]||0:n}function N3(n,e){const t=ec(n,e);let{transitionEnd:r={},transition:a={},...l}=t||{};l={...l,...r};for(const c in l){const f=D3(l[c]);I3(n,c,f)}}function O3(n){return!!(sn(n)&&n.add)}function Bg(n,e){const t=n.getValue("willChange");if(O3(t))return t.add(e);if(!t&&wr.WillChange){const r=new wr.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function ux(n){return n.props[JR]}const P3=n=>n!==null;function V3(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(P3),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[l]}const M3={type:"spring",stiffness:500,damping:25,restSpeed:10},k3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),L3={type:"keyframes",duration:.8},U3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j3=(n,{keyframes:e})=>e.length>2?L3:sl.has(n)?n.startsWith("scale")?k3(e[1]):M3:U3;function B3({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Pv=(n,e,t,r={},a,l)=>c=>{const f=Ev(r,n)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Oi(m);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:a};B3(f)||Object.assign(y,j3(n,y)),y.duration&&(y.duration=Oi(y.duration)),y.repeatDelay&&(y.repeatDelay=Oi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(wr.instantAnimations||wr.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=V3(y.keyframes,f);if(E!==void 0){lt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new _v(y):new w6(y)};function z3({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function cx(n,e,{delay:t=0,transitionOverride:r,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const m=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const y in f){const _=n.getValue(y,n.latestValues[y]??null),E=f[y];if(E===void 0||p&&z3(p,y))continue;const R={delay:t,...Ev(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===C&&!R.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const M=ux(n);if(M){const q=window.MotionHandoffAnimation(M,y,lt);q!==null&&(R.startTime=q,D=!0)}}Bg(n,y),_.start(Pv(y,_,E,n.shouldReduceMotion&&jR.has(y)?{type:!1}:R,n,D));const N=_.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{lt.update(()=>{c&&N3(n,c)})}),m}function zg(n,e,t={}){var m;const r=ec(n,e,t.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(a=t.transitionOverride);const l=r?()=>Promise.all(cx(n,r,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return F3(n,e,y+p,_,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(t.delay)])}function F3(n,e,t=0,r=0,a=1,l){const c=[],f=(n.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(n.variantChildren).sort(q3).forEach((p,y)=>{p.notify("AnimationStart",e),c.push(zg(p,e,{...l,delay:t+m(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function q3(n,e){return n.sortNodePosition(e)}function H3(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>zg(n,l,t));r=Promise.all(a)}else if(typeof e=="string")r=zg(n,e,t);else{const a=typeof e=="function"?ec(n,e,t.custom):e;r=Promise.all(cx(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function hx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const G3=Rv.length;function fx(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?fx(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<G3;t++){const r=Rv[t],a=n.props[r];(Zu(a)||a===!1)&&(e[r]=a)}return e}const K3=[...Sv].reverse(),Y3=Sv.length;function $3(n){return e=>Promise.all(e.map(({animation:t,options:r})=>H3(n,t,r)))}function Q3(n){let e=$3(n),t=yw(),r=!0;const a=m=>(p,y)=>{var E;const _=ec(n,y,m==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:R,transitionEnd:C,...D}=_;p={...p,...D,...C}}return p};function l(m){e=m(n)}function c(m){const{props:p}=n,y=fx(n.parent)||{},_=[],E=new Set;let R={},C=1/0;for(let N=0;N<Y3;N++){const M=K3[N],q=t[M],G=p[M]!==void 0?p[M]:y[M],te=Zu(G),J=M===m?q.isActive:null;J===!1&&(C=N);let ue=G===y[M]&&G!==p[M]&&te;if(ue&&r&&n.manuallyAnimateOnMount&&(ue=!1),q.protectedKeys={...R},!q.isActive&&J===null||!G&&!q.prevProp||md(G)||typeof G=="boolean")continue;const k=X3(q.prevProp,G);let x=k||M===m&&q.isActive&&!ue&&te||N>C&&te,I=!1;const L=Array.isArray(G)?G:[G];let B=L.reduce(a(M),{});J===!1&&(B={});const{prevResolvedValues:F={}}=q,V={...F,...B},Tt=ae=>{x=!0,E.has(ae)&&(I=!0,E.delete(ae)),q.needsAnimating[ae]=!0;const de=n.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in V){const de=B[ae],ke=F[ae];if(R.hasOwnProperty(ae))continue;let U=!1;jg(de)&&jg(ke)?U=!hx(de,ke):U=de!==ke,U?de!=null?Tt(ae):E.add(ae):de!==void 0&&E.has(ae)?Tt(ae):q.protectedKeys[ae]=!0}q.prevProp=G,q.prevResolvedValues=B,q.isActive&&(R={...R,...B}),r&&n.blockInitialAnimation&&(x=!1),x&&(!(ue&&k)||I)&&_.push(...L.map(ae=>({animation:ae,options:{type:M}})))}if(E.size){const N={};if(typeof p.initial!="boolean"){const M=ec(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(N.transition=M.transition)}E.forEach(M=>{const q=n.getBaseTarget(M),G=n.getValue(M);G&&(G.liveStyle=!0),N[M]=q??null}),_.push({animation:N})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function f(m,p){var _;if(t[m].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(E=>{var R;return(R=E.animationState)==null?void 0:R.setActive(m,p)}),t[m].isActive=p;const y=c(m);for(const E in t)t[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=yw(),r=!0}}}function X3(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!hx(e,n):!1}function aa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yw(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class W3 extends bs{constructor(e){super(e),e.animationState||(e.animationState=Q3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Z3=0;class J3 extends bs{constructor(){super(...arguments),this.id=Z3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eU={animation:{Feature:W3},exit:{Feature:J3}};function tc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function yc(n){return{point:{x:n.pageX,y:n.pageY}}}const tU=n=>e=>Av(e)&&n(e,yc(e));function Vu(n,e,t,r){return tc(n,e,tU(t),r)}function dx({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function nU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function iU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const mx=1e-4,rU=1-mx,sU=1+mx,px=.01,aU=0-px,oU=0+px;function hn(n){return n.max-n.min}function lU(n,e,t){return Math.abs(n-e)<=t}function vw(n,e,t,r=.5){n.origin=r,n.originPoint=ot(e.min,e.max,n.origin),n.scale=hn(t)/hn(e),n.translate=ot(t.min,t.max,n.origin)-n.originPoint,(n.scale>=rU&&n.scale<=sU||isNaN(n.scale))&&(n.scale=1),(n.translate>=aU&&n.translate<=oU||isNaN(n.translate))&&(n.translate=0)}function Mu(n,e,t,r){vw(n.x,e.x,t.x,r?r.originX:void 0),vw(n.y,e.y,t.y,r?r.originY:void 0)}function _w(n,e,t){n.min=t.min+e.min,n.max=n.min+hn(e)}function uU(n,e,t){_w(n.x,e.x,t.x),_w(n.y,e.y,t.y)}function Tw(n,e,t){n.min=e.min-t.min,n.max=n.min+hn(e)}function ku(n,e,t){Tw(n.x,e.x,t.x),Tw(n.y,e.y,t.y)}const Ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Ew(),y:Ew()}),bw=()=>({min:0,max:0}),vt=()=>({x:bw(),y:bw()});function qn(n){return[n("x"),n("y")]}function Kp(n){return n===void 0||n===1}function Fg({scale:n,scaleX:e,scaleY:t}){return!Kp(n)||!Kp(e)||!Kp(t)}function la(n){return Fg(n)||gx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gx(n){return ww(n.x)||ww(n.y)}function ww(n){return n&&n!=="0%"}function qf(n,e,t){const r=n-t,a=e*r;return t+a}function Aw(n,e,t,r,a){return a!==void 0&&(n=qf(n,a,r)),qf(n,t,r)+e}function qg(n,e=0,t=1,r,a){n.min=Aw(n.min,e,t,r,a),n.max=Aw(n.max,e,t,r,a)}function yx(n,{x:e,y:t}){qg(n.x,e.translate,e.scale,e.originPoint),qg(n.y,t.translate,t.scale,t.originPoint)}const Sw=.999999999999,Rw=1.0000000000001;function cU(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=t[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Do(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,yx(n,c)),r&&la(l.latestValues)&&Do(n,l.latestValues))}e.x<Rw&&e.x>Sw&&(e.x=1),e.y<Rw&&e.y>Sw&&(e.y=1)}function Io(n,e){n.min=n.min+e,n.max=n.max+e}function xw(n,e,t,r,a=.5){const l=ot(n.min,n.max,a);qg(n,e,t,l,r)}function Do(n,e){xw(n.x,e.x,e.scaleX,e.scale,e.originX),xw(n.y,e.y,e.scaleY,e.scale,e.originY)}function vx(n,e){return dx(iU(n.getBoundingClientRect(),e))}function hU(n,e,t){const r=vx(n,t),{scroll:a}=e;return a&&(Io(r.x,a.offset.x),Io(r.y,a.offset.y)),r}const _x=({current:n})=>n?n.ownerDocument.defaultView:null,Cw=(n,e)=>Math.abs(n-e);function fU(n,e){const t=Cw(n.x,e.x),r=Cw(n.y,e.y);return Math.sqrt(t**2+r**2)}class Tx{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=$p(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,R=fU(_.offset,{x:0,y:0})>=3;if(!E&&!R)return;const{point:C}=_,{timestamp:D}=$t;this.history.push({...C,timestamp:D});const{onStart:N,onMove:M}=this.handlers;E||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Yp(E,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:R,onSessionEnd:C,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=$p(_.type==="pointercancel"?this.lastMoveEventInfo:Yp(E,this.transformPagePoint),this.history);this.startEvent&&R&&R(_,N),C&&C(_,N)},!Av(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const c=yc(e),f=Yp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=$t;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=t;y&&y(e,$p(f,this.history)),this.removeListeners=mc(Vu(this.contextWindow,"pointermove",this.handlePointerMove),Vu(this.contextWindow,"pointerup",this.handlePointerUp),Vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_s(this.updatePoint)}}function Yp(n,e){return e?{point:e(n.point)}:n}function Iw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function $p({point:n},e){return{point:n,delta:Iw(n,Ex(e)),offset:Iw(n,dU(e)),velocity:mU(e,.1)}}function dU(n){return n[0]}function Ex(n){return n[n.length-1]}function mU(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=Ex(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Oi(e)));)t--;if(!r)return{x:0,y:0};const l=Pi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function pU(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ot(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ot(t,n,r.max):Math.min(n,t)),n}function Dw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function gU(n,{top:e,left:t,bottom:r,right:a}){return{x:Dw(n.x,t,a),y:Dw(n.y,e,r)}}function Nw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function yU(n,e){return{x:Nw(n.x,e.x),y:Nw(n.y,e.y)}}function vU(n,e){let t=.5;const r=hn(n),a=hn(e);return a>r?t=Qu(e.min,e.max-r,n.min):r>a&&(t=Qu(n.min,n.max-a,e.min)),br(0,1,t)}function _U(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Hg=.35;function TU(n=Hg){return n===!1?n=0:n===!0&&(n=Hg),{x:Ow(n,"left","right"),y:Ow(n,"top","bottom")}}function Ow(n,e,t){return{min:Pw(n,e),max:Pw(n,t)}}function Pw(n,e){return typeof n=="number"?n:n[e]||0}const EU=new WeakMap;class bU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:R,onDragStart:C}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j6(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(N=>{let M=this.getAxisMotionValue(N).get()||0;if(Vi.test(M)){const{projection:q}=this.visualElement;if(q&&q.layout){const G=q.layout.layoutBox[N];G&&(M=hn(G)*(parseFloat(M)/100))}}this.originPoint[N]=M}),C&&lt.postRender(()=>C(y,_)),Bg(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:C,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:N}=_;if(R&&this.currentDirection===null){this.currentDirection=wU(N),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),D&&D(y,_)},f=(y,_)=>this.stop(y,_),m=()=>qn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Tx(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:_x(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&lt.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!ef(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=pU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=gU(r.layoutBox,e):this.constraints=!1,this.elastic=TU(t),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=_U(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=hU(r,a.root,this.visualElement.getTransformPagePoint());let c=yU(a.layout.layoutBox,l);if(t){const f=t(nU(c));this.hasMutatedConstraints=!!f,f&&(c=dx(f))}return c}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=qn(y=>{if(!ef(y,t,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,R=a?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Bg(this.visualElement,e),r.start(Pv(e,r,0,t,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(t=>{const{drag:r}=this.getProps();if(!ef(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[t];l.set(e[t]-ot(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!xo(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=vU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(c=>{if(!ef(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ot(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;EU.set(this.visualElement,this);const e=this.visualElement.current,t=Vu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();xo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),lt.read(r);const c=tc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Hg,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function ef(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function wU(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class AU extends bs{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new bU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vw=n=>(e,t)=>{n&&lt.postRender(()=>n(e,t))};class SU extends bs{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new Tx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_x(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Vw(e),onStart:Vw(t),onMove:r,onEnd:(l,c)=>{delete this.session,a&&lt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const vu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=Mw(n,e.target.x),r=Mw(n,e.target.y);return`${t}% ${r}%`}},RU={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=Ts.parse(n);if(a.length>5)return r;const l=Ts.createTransformer(n),c=typeof a[0]!="number"?1:0,f=t.x.scale*e.x,m=t.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ot(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class xU extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;h3(CU),l&&(t.group&&t.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||e.layoutDependency!==t||t===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||lt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bx(n){const[e,t]=$6(),r=P.useContext(rR);return A.jsx(xU,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(ex),isPresent:e,safeToRemove:t})}const CU={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:RU};function IU(n,e,t){const r=sn(n)?n:Ho(n);return r.start(Pv("",r,e,t)),r.animation}const DU=(n,e)=>n.depth-e.depth;class NU{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){sv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DU),this.isDirty=!1,this.children.forEach(e)}}function OU(n,e){const t=yn.now(),r=({timestamp:a})=>{const l=a-t;l>=e&&(_s(r),n(l-e))};return lt.setup(r,!0),()=>_s(r)}const wx=["TopLeft","TopRight","BottomLeft","BottomRight"],PU=wx.length,kw=n=>typeof n=="string"?parseFloat(n):n,Lw=n=>typeof n=="number"||we.test(n);function VU(n,e,t,r,a,l){a?(n.opacity=ot(0,t.opacity??1,MU(r)),n.opacityExit=ot(e.opacity??1,0,kU(r))):l&&(n.opacity=ot(e.opacity??1,t.opacity??1,r));for(let c=0;c<PU;c++){const f=`border${wx[c]}Radius`;let m=Uw(e,f),p=Uw(t,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Lw(m)===Lw(p)?(n[f]=Math.max(ot(kw(m),kw(p),r),0),(Vi.test(p)||Vi.test(m))&&(n[f]+="%")):n[f]=p}(e.rotate||t.rotate)&&(n.rotate=ot(e.rotate||0,t.rotate||0,r))}function Uw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const MU=Ax(0,.5,pR),kU=Ax(.5,.95,Kn);function Ax(n,e,t){return r=>r<n?0:r>e?1:t(Qu(n,e,r))}function jw(n,e){n.min=e.min,n.max=e.max}function Fn(n,e){jw(n.x,e.x),jw(n.y,e.y)}function Bw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function zw(n,e,t,r,a){return n-=e,n=qf(n,1/t,r),a!==void 0&&(n=qf(n,1/a,r)),n}function LU(n,e=0,t=1,r=.5,a,l=n,c=n){if(Vi.test(e)&&(e=parseFloat(e),e=ot(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ot(l.min,l.max,r);n===l&&(f-=e),n.min=zw(n.min,e,t,f,a),n.max=zw(n.max,e,t,f,a)}function Fw(n,e,[t,r,a],l,c){LU(n,e[t],e[r],e[a],e.scale,l,c)}const UU=["x","scaleX","originX"],jU=["y","scaleY","originY"];function qw(n,e,t,r){Fw(n.x,e,UU,t?t.x:void 0,r?r.x:void 0),Fw(n.y,e,jU,t?t.y:void 0,r?r.y:void 0)}function Hw(n){return n.translate===0&&n.scale===1}function Sx(n){return Hw(n.x)&&Hw(n.y)}function Gw(n,e){return n.min===e.min&&n.max===e.max}function BU(n,e){return Gw(n.x,e.x)&&Gw(n.y,e.y)}function Kw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Rx(n,e){return Kw(n.x,e.x)&&Kw(n.y,e.y)}function Yw(n){return hn(n.x)/hn(n.y)}function $w(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class zU{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(sv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FU(n,e,t){let r="";const a=n.x.translate/e.x,l=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:R,skewY:C}=t;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),R&&(r+=`skewX(${R}deg) `),C&&(r+=`skewY(${C}deg) `)}const f=n.x.scale*e.x,m=n.y.scale*e.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Qp=["","X","Y","Z"],qU={visibility:"hidden"},HU=1e3;let GU=0;function Xp(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function xx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ux(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",lt,!(a||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&xx(r)}function Cx({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=GU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($U),this.nodes.forEach(JU),this.nodes.forEach(ej),this.nodes.forEach(QU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new NU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=$R(c)&&!G6(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=OU(_,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(Xw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||sj,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=p.getProps(),M=!this.targetLayout||!Rx(this.targetLayout,R),q=!_&&E;if(this.options.layoutRoot||this.resumeFrom||q||_&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...Ev(C,"layout"),onPlay:D,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(y,q)}else _||Xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qw);return}this.isUpdating||this.nodes.forEach(WU),this.isUpdating=!1,this.nodes.forEach(ZU),this.nodes.forEach(KU),this.nodes.forEach(YU),this.clearAllSnapshots();const f=yn.now();$t.delta=br(0,1e3/60,f-$t.timestamp),$t.timestamp=f,$t.isProcessing=!0,Bp.update.process($t),Bp.preRender.process($t),Bp.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XU),this.sharedNodes.forEach(nj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Sx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||la(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),aj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return vt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(oj))){const{scroll:y}=this.root;y&&(Io(f.x,y.offset.x),Io(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=vt();if(Fn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Fn(f,c),Io(f.x,_.offset.x),Io(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=vt();Fn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Do(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),la(y.latestValues)&&Do(m,y.latestValues)}return la(this.latestValues)&&Do(m,this.latestValues),m}removeTransform(c){const f=vt();Fn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!la(p.latestValues))continue;Fg(p.latestValues)&&p.updateSnapshot();const y=vt(),_=p.measurePageBox();Fn(y,_),qw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return la(this.latestValues)&&qw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),ku(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),yx(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),ku(this.relativeTargetOrigin,this.target,R.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Fn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;cU(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bw(this.prevProjectionDelta.x,this.projectionDelta.x),Bw(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!$w(this.projectionDelta.x,this.prevProjectionDelta.x)||!$w(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=vt(),R=m?m.source:void 0,C=this.layout?this.layout.source:void 0,D=R!==C,N=this.getStack(),M=!N||N.members.length<=1,q=!!(D&&!M&&this.options.crossfade===!0&&!this.path.some(rj));this.animationProgress=0;let G;this.mixTargetDelta=te=>{const J=te/1e3;Ww(_.x,c.x,J),Ww(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ku(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ij(this.relativeTarget,this.relativeTargetOrigin,E,J),G&&BU(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=vt()),Fn(G,this.relativeTarget)),D&&(this.animationValues=y,VU(y,p,this.latestValues,J,q,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=IU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&Ix(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||vt();const _=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Fn(f,m),Do(f,y),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Xp("z",c,p,this.animationValues);for(let y=0;y<Qp.length;y++)Xp(`rotate${Qp[y]}`,c,p,this.animationValues),Xp(`skew${Qp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qU;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=gf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=gf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(R.transform=m?m({},""):"none",this.hasProjected=!1),R}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=FU(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in Ju){if(y[R]===void 0)continue;const{correct:C,applyTo:D,isCSSVariable:N}=Ju[R],M=f.transform==="none"?y[R]:C(y[R],p);if(D){const q=D.length;for(let G=0;G<q;G++)f[D[G]]=M}else N?this.options.visualElement.renderState.vars[R]=M:f[R]=M}return this.options.layoutId&&(f.pointerEvents=p===this?gf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Qw),this.root.sharedNodes.clear()}}}function KU(n){n.updateLayout()}function YU(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?qn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],R=hn(E);E.min=r[_].min,E.max=E.min+R}):Ix(l,e.layoutBox,r)&&qn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],R=hn(r[_]);E.max=E.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+R)});const f=Co();Mu(f,r,e.layoutBox);const m=Co();c?Mu(m,n.applyTransform(a,!0),e.measuredBox):Mu(m,r,e.layoutBox);const p=!Sx(f);let y=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:R}=_;if(E&&R){const C=vt();ku(C,e.layoutBox,E.layoutBox);const D=vt();ku(D,r,R.layoutBox),Rx(C,D)||(y=!0),_.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=C,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function $U(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function QU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function XU(n){n.clearSnapshot()}function Qw(n){n.clearMeasurements()}function WU(n){n.isLayoutDirty=!1}function ZU(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Xw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function JU(n){n.resolveTargetDelta()}function ej(n){n.calcProjection()}function tj(n){n.resetSkewAndRotation()}function nj(n){n.removeLeadSnapshot()}function Ww(n,e,t){n.translate=ot(e.translate,0,t),n.scale=ot(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Zw(n,e,t,r){n.min=ot(e.min,t.min,r),n.max=ot(e.max,t.max,r)}function ij(n,e,t,r){Zw(n.x,e.x,t.x,r),Zw(n.y,e.y,t.y,r)}function rj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const sj={duration:.45,ease:[.4,0,.1,1]},Jw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eA=Jw("applewebkit/")&&!Jw("chrome/")?Math.round:Kn;function tA(n){n.min=eA(n.min),n.max=eA(n.max)}function aj(n){tA(n.x),tA(n.y)}function Ix(n,e,t){return n==="position"||n==="preserve-aspect"&&!lU(Yw(e),Yw(t),.2)}function oj(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const lj=Cx({attachResizeListener:(n,e)=>tc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},Dx=Cx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wp.current){const n=new lj({});n.mount(window),n.setOptions({layoutScroll:!0}),Wp.current=n}return Wp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),uj={pan:{Feature:SU},drag:{Feature:AU,ProjectionNode:Dx,MeasureLayout:bx}};function nA(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=r[a];l&&lt.postRender(()=>l(e,yc(e)))}class cj extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=B6(e,(t,r)=>(nA(this.node,r,"Start"),a=>nA(this.node,a,"End"))))}unmount(){}}class hj extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iA(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=r[a];l&&lt.postRender(()=>l(e,yc(e)))}class fj extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=H6(e,(t,r)=>(iA(this.node,r,"Start"),(a,{success:l})=>iA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gg=new WeakMap,Zp=new WeakMap,dj=n=>{const e=Gg.get(n.target);e&&e(n)},mj=n=>{n.forEach(dj)};function pj({root:n,...e}){const t=n||document;Zp.has(t)||Zp.set(t,{});const r=Zp.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(mj,{root:n,...e})),r[a]}function gj(n,e,t){const r=pj(e);return Gg.set(n,t),r.observe(n),()=>{Gg.delete(n),r.unobserve(n)}}const yj={some:0,all:1};class vj extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:yj[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return gj(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(_j(e,t))&&this.startObserver()}unmount(){}}function _j({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Tj={inView:{Feature:vj},tap:{Feature:fj},focus:{Feature:hj},hover:{Feature:cj}},Ej={layout:{ProjectionNode:Dx,MeasureLayout:bx}},Kg={current:null},Nx={current:!1};function bj(){if(Nx.current=!0,!!nv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kg.current=n.matches;n.addListener(e),e()}else Kg.current=!1}const wj=new WeakMap;function Aj(n,e,t){for(const r in e){const a=e[r],l=t[r];if(sn(a))n.addValue(r,a);else if(sn(l))n.addValue(r,Ho(a,{owner:n}));else if(l!==a)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(r);n.addValue(r,Ho(c!==void 0?c:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const rA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sj{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=yn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,lt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pd(t),this.isVariantNode=ZR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in _){const R=_[E];m[E]!==void 0&&sn(R)&&R.set(m[E],!1)}}mount(e){this.current=e,wj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Nx.current||bj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Go){const t=Go[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<rA.length;r++){const a=rA[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Aj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ho(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sR(r)||oR(r))?r=parseFloat(r):!Y6(r)&&Ts.test(t)&&(r=qR(e,t)),this.setBaseTarget(e,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var l;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const c=Nv(this.props,t,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(t&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ox extends Sj{constructor(){super(...arguments),this.KeyframeResolver=M6}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Px(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const l in t)n.style.setProperty(l,t[l])}function Rj(n){return window.getComputedStyle(n)}class xj extends Ox{constructor(){super(...arguments),this.type="html",this.renderInstance=Px}readValueFromInstance(e,t){var r;if(sl.has(t))return(r=this.projection)!=null&&r.isProjecting?Pg(t):e6(e,t);{const a=Rj(e),l=(hv(t)?a.getPropertyValue(t):a[t])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:t}){return vx(e,t)}build(e,t,r){Cv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Ov(e,t,r)}}const Vx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cj(n,e,t,r){Px(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(Vx.has(a)?a:xv(a),e.attrs[a])}class Ij extends Ox{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sl.has(t)){const r=FR(t);return r&&r.default||0}return t=Vx.has(t)?t:xv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return lx(e,t,r)}build(e,t,r){rx(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,a){Cj(e,t,r,a)}mount(e){this.isSVGTag=ax(e.tagName),super.mount(e)}}const Dj=(n,e)=>Dv(n)?new Ij(e):new xj(e,{allowProjection:n!==P.Fragment}),Nj=C3({...eU,...Tj,...uj,...Ej},Dj),xn=J6(Nj);function Oj({title:n,titleId:e,...t},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?P.createElement("title",{id:e},n):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const sA=P.forwardRef(Oj);function Pj({title:n,titleId:e,...t},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?P.createElement("title",{id:e},n):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vj=P.forwardRef(Pj),Mj="863424580261-ds0rstgjamqvvimes33qou1dfth5k9dc.apps.googleusercontent.com",aA={pdf:A.jsx("span",{className:"text-red-600",children:"📄"}),doc:A.jsx("span",{className:"text-blue-700",children:"📄"}),docx:A.jsx("span",{className:"text-blue-700",children:"📄"}),xls:A.jsx("span",{className:"text-green-700",children:"📊"}),xlsx:A.jsx("span",{className:"text-green-700",children:"📊"}),jpg:A.jsx("span",{className:"text-yellow-700",children:"🖼️"}),png:A.jsx("span",{className:"text-yellow-700",children:"🖼️"}),default:A.jsx("span",{className:"text-gray-500",children:"📁"})},kj=n=>{const e=n.split(".").pop().toLowerCase();return aA[e]||aA.default};function Lj(){const[n,e]=P.useState(null),[t,r]=P.useState([]),[a,l]=P.useState(""),[c,f]=P.useState(null),m=HL({onSuccess:E=>{e(E.access_token),p(E.access_token)},onError:()=>alert("Error al iniciar sesión con Google"),scope:"https://www.googleapis.com/auth/drive"}),p=async E=>{try{let R="";const D=await(await fetch("https://www.googleapis.com/drive/v3/files?q=name='Buholex' and mimeType='application/vnd.google-apps.folder' and trashed=false",{headers:{Authorization:`Bearer ${E}`}})).json();D.files.length>0?R=D.files[0].id:R=(await(await fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({name:"Buholex",mimeType:"application/vnd.google-apps.folder"})})).json()).id;const M=await(await fetch(`https://www.googleapis.com/drive/v3/files?q='${R}'+in+parents and trashed=false&fields=files(id,name,mimeType,webViewLink,webContentLink,iconLink,createdTime,modifiedTime)`,{headers:{Authorization:`Bearer ${E}`}})).json();r(M.files||[])}catch(R){alert("Error al listar archivos: "+R.message)}},y=async E=>{const R=E.target.files[0];if(!(!R||!n))try{let C="";const N=await(await fetch("https://www.googleapis.com/drive/v3/files?q=name='Buholex' and mimeType='application/vnd.google-apps.folder' and trashed=false",{headers:{Authorization:`Bearer ${n}`}})).json();N.files.length>0&&(C=N.files[0].id);const M={name:R.name,parents:[C]},q=new FormData;q.append("metadata",new Blob([JSON.stringify(M)],{type:"application/json"})),q.append("file",R),await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:q}),alert("Archivo subido con éxito"),p(n)}catch(C){alert("Error al subir archivo: "+C.message)}},_=t.filter(E=>E.name.toLowerCase().includes(a.toLowerCase()));return A.jsx(FL,{clientId:Mj,children:A.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Biblioteca Jurídica / Documentos"}),n?A.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[A.jsx("input",{type:"text",placeholder:"Buscar archivo por nombre...",value:a,onChange:E=>l(E.target.value),className:"border rounded-lg px-3 py-2 w-full max-w-xs"}),A.jsxs("label",{className:"ml-4 flex items-center bg-green-600 text-white px-3 py-2 rounded-lg cursor-pointer hover:bg-green-700",children:[A.jsx(sA,{className:"h-5 w-5 mr-1"}),"Subir archivo",A.jsx("input",{type:"file",onChange:y,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.png"})]})]}):A.jsx("button",{onClick:()=>m(),className:"bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-800 mb-4",children:"Acceder con Google Drive"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[_.length===0&&n&&A.jsx("div",{className:"col-span-3 text-center text-gray-500",children:"No hay archivos aún en la biblioteca."}),_.map(E=>A.jsxs(xn.div,{whileHover:{scale:1.04},className:"bg-white border shadow-xl rounded-xl p-4 flex flex-col gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[kj(E.name),A.jsx("span",{className:"font-semibold text-sm truncate",children:E.name})]}),A.jsxs("span",{className:"text-xs text-gray-400",children:["Modificado: ",new Date(E.modifiedTime).toLocaleString()]}),A.jsxs("div",{className:"flex gap-2 mt-2",children:[A.jsxs("button",{className:"bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700",onClick:()=>f(E),children:[A.jsx(Vj,{className:"h-4 w-4 inline mr-1"}),"Ver"]}),A.jsxs("a",{href:E.webViewLink,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:[A.jsx(sA,{className:"h-4 w-4 inline mr-1"}),"Descargar"]})]})]},E.id))]}),c&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:A.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full shadow-2xl relative",children:[A.jsx("button",{className:"absolute top-3 right-3 text-xl text-gray-700 hover:text-red-500",onClick:()=>f(null),children:"×"}),A.jsx("iframe",{src:c.webViewLink,title:c.name,className:"w-full h-[500px] rounded-lg border",allowFullScreen:!0}),A.jsxs("div",{className:"mt-2 text-center text-sm text-gray-500",children:["Vista previa de: ",A.jsx("b",{children:c.name})]})]})})]})})}function Uj(){return A.jsxs("section",{className:"relative min-h-screen flex items-center justify-center text-white overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{background:"radial-gradient(circle at 60% 40%, #ff3232 0%, #b60000 40%, #111 100%)"}}),A.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",children:A.jsxs("svg",{width:"100%",height:"100%",className:"absolute opacity-30",style:{mixBlendMode:"screen"},children:[A.jsx("ellipse",{cx:"60%",cy:"40%",rx:"380",ry:"160",fill:"white"}),A.jsx("ellipse",{cx:"80%",cy:"70%",rx:"200",ry:"70",fill:"white"})]})}),A.jsxs("div",{className:"relative z-20 max-w-6xl w-full px-6 md:px-12 text-center",children:[A.jsx(xn.h1,{className:"text-4xl md:text-6xl font-bold leading-tight mb-6",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.6},children:"BÚHOLEX"}),A.jsx(xn.p,{className:"text-lg md:text-xl mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"“Porque la justicia no debe ser un privilegio: Litigator te defiende”"}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[A.jsx(mt,{to:"/servicios",className:"bg-white text-black px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Ver Servicios"}),A.jsx(mt,{to:"/blog?categoria=Actualidad Legal",className:"bg-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Actualidad Legal"}),A.jsx(mt,{to:"/oficina-virtual",className:"bg-red-600 px-6 py-3 rounded-lg font-semibold hover:bg-red-500 transition",children:"Oficina Virtual"}),A.jsx(mt,{to:"/contacto",className:"border border-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-black transition",children:"Contáctanos"})]}),A.jsx("div",{className:"mt-10 flex justify-center",children:A.jsx("img",{src:"/fundador-eduardo.jpeg",alt:"Fundador de BúhoLex",className:"w-40 h-40 rounded-full border-4 border-white shadow-lg"})}),A.jsx("p",{className:"mt-4 font-light text-sm",children:"Eduardo Frei Bruno Gómez — Fundador de BúhoLex"})]})]})}function jj({children:n,...e}){return A.jsx("button",{className:"bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800 transition",...e,children:n})}const Bj=()=>{const n=ic(),e=()=>{n("/contacto",{state:{servicio:"personalizado"}})};return A.jsxs("section",{className:"px-4 py-12 max-w-5xl mx-auto",children:[A.jsx(xn.h1,{className:"text-3xl font-bold text-center mb-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"Servicios Jurídicos Profesionales"}),A.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[A.jsxs(xn.div,{className:"bg-white shadow-lg rounded-2xl p-6 border",whileHover:{scale:1.03},children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Patrocinio Legal"}),A.jsx("p",{className:"text-gray-700",children:"Representación técnica en procesos judiciales y administrativos, con defensa activa en todas las etapas del proceso. Elaboración de demandas, denuncias, escritos y recursos de impugnación con estilo argumentativo y profesional."})]}),A.jsxs(xn.div,{className:"bg-white shadow-lg rounded-2xl p-6 border",whileHover:{scale:1.03},children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Asesoría Legal"}),A.jsx("p",{className:"text-gray-700",children:"Consultas y orientación especializada en Derecho civil, penal, administrativo, laboral y constitucional. Te ayudamos a prevenir contingencias legales antes de que ocurran."})]}),A.jsxs(xn.div,{className:"bg-white shadow-lg rounded-2xl p-6 border",whileHover:{scale:1.03},children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Defensa Judicial"}),A.jsx("p",{className:"text-gray-700",children:"Defensa técnica en procesos penales, civiles, contencioso-administrativos y más. Elaboración de estrategias de defensa sólidas y recursos legales a tu medida."})]}),A.jsxs(xn.div,{className:"bg-white shadow-lg rounded-2xl p-6 border",whileHover:{scale:1.03},children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Videoconferencia Personalizada"}),A.jsx("p",{className:"text-gray-700 mb-4",children:"Programa una videollamada con nuestro equipo para recibir asesoría legal directa, en tiempo real, desde la comodidad de tu hogar."}),A.jsx(jj,{onClick:e,children:"Solicitar servicio"})]})]})]})},zj=()=>{const[n,e]=P.useState({nombre:"",correo:"",asunto:"",mensaje:""}),t=a=>{e(l=>({...l,[a.target.name]:a.target.value}))},r=a=>{a.preventDefault(),alert("Tu mensaje ha sido enviado. Te responderemos pronto."),e({nombre:"",correo:"",asunto:"",mensaje:""})};return A.jsxs(xn.div,{className:"max-w-3xl mx-auto mt-12 p-6 rounded-lg shadow-md bg-white",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},children:[A.jsx("h2",{className:"text-3xl font-bold text-center text-blue-800 mb-6",children:"Contáctanos"}),A.jsxs("form",{onSubmit:r,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1",children:"Nombre completo"}),A.jsx("input",{type:"text",name:"nombre",value:n.nombre,onChange:t,required:!0,className:"w-full border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1",children:"Correo electrónico"}),A.jsx("input",{type:"email",name:"correo",value:n.correo,onChange:t,required:!0,className:"w-full border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1",children:"Asunto"}),A.jsx("input",{type:"text",name:"asunto",value:n.asunto,onChange:t,required:!0,className:"w-full border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1",children:"Mensaje"}),A.jsx("textarea",{name:"mensaje",value:n.mensaje,onChange:t,rows:"5",required:!0,className:"w-full border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsx("button",{type:"submit",className:"bg-blue-700 text-white py-2 px-6 rounded hover:bg-blue-900 transition",children:"Enviar mensaje"})]})]})};async function Fj(){try{const n=Ar(ji,"biblioteca");return(await el(n)).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error al obtener libros:",n),[]}}function qj(){const[n,e]=P.useState([]);return P.useEffect(()=>{async function t(){const r=await Fj();e(r)}t()},[]),A.jsxs("div",{className:"min-h-screen bg-white px-6 py-12 md:px-24 lg:px-48",children:[A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-10 text-gray-800",children:"Biblioteca Jurídica"}),A.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:n.map((t,r)=>A.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 shadow-sm bg-gray-50",children:[A.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:t.titulo}),A.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t.autor}),A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.descripcion}),A.jsx("a",{href:t.enlaceLectura,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-blue-600 font-medium hover:underline",children:"Visualizar"}),t.disponibleParaCompra&&A.jsx("button",{className:"mt-2 block w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold px-4 py-2 rounded",onClick:()=>alert("Funcionalidad de compra aún en desarrollo."),children:"Comprar PDF"})]},r))})]})}function Hj(){const[n,e]=P.useState([]),[t,r]=P.useState(""),[a]=UD(),l=a.get("categoria")||"Todas",[c,f]=P.useState(l);P.useEffect(()=>{(async()=>{const y=By(Ar(ji,"articulosBlog"),Hy("fecha","desc")),E=(await el(y)).docs.map(R=>{var C,D;return{id:R.id,...R.data(),fecha:((D=(C=R.data().fecha)==null?void 0:C.toDate())==null?void 0:D.toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"}))||"Sin fecha"}});e(E)})()},[]);const m=n.filter(p=>{const y=c==="Todas"||p.categoria===c,_=p.titulo.toLowerCase().includes(t.toLowerCase())||p.contenido.toLowerCase().includes(t.toLowerCase());return y&&_});return A.jsxs("div",{className:"min-h-screen bg-white px-6 py-12 md:px-24 lg:px-48",children:[A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-gray-800",children:"Blog Jurídico de BúhoLex"}),A.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between mb-8 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por palabra clave...",value:t,onChange:p=>r(p.target.value),className:"w-full md:w-2/3 p-2 border border-gray-300 rounded"}),A.jsxs("select",{value:c,onChange:p=>f(p.target.value),className:"w-full md:w-1/3 p-2 border border-gray-300 rounded",children:[A.jsx("option",{value:"Todas",children:"Todas las categorías"}),A.jsx("option",{value:"Opinión Jurídica",children:"Opinión Jurídica"}),A.jsx("option",{value:"Actualidad Legal",children:"Actualidad Legal"}),A.jsx("option",{value:"Casos y Fallos",children:"Casos y Fallos"}),A.jsx("option",{value:"Constitucional",children:"Constitucional"})]})]}),m.length===0?A.jsx("p",{className:"text-gray-600 text-center",children:"No se encontraron artículos con esos criterios."}):m.map(p=>A.jsxs("article",{className:"bg-gray-100 shadow-md rounded-lg p-6 mb-10",children:[A.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:p.titulo}),A.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[A.jsx("strong",{children:"Publicado en:"})," ",p.categoria," · ",p.fecha]}),A.jsxs("p",{className:"text-sm text-gray-600 mb-4 italic",children:[A.jsx("strong",{children:"Por:"})," ",p.autor]}),A.jsx("p",{className:"text-gray-800 mb-4",children:p.contenido.length>300?p.contenido.substring(0,300)+"...":p.contenido}),A.jsx(mt,{to:`/blog/${p.id}`,className:"text-blue-600 font-semibold hover:underline",children:"Leer más →"})]},p.id))]})}const Gj=async()=>{const n=Ar(ji,"jurisprudencia");return(await el(n)).docs.map(t=>({id:t.id,...t.data()}))};function Kj(){const[n,e]=P.useState([]);return P.useEffect(()=>{async function t(){const r=await Gj();e(r)}t()},[]),A.jsxs("div",{className:"min-h-screen bg-white px-6 py-12 md:px-24 lg:px-48",children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Jurisprudencia Destacada"}),A.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:n.map((t,r)=>A.jsxs("div",{className:"border rounded shadow-sm p-4 bg-gray-50",children:[A.jsx("h2",{className:"text-lg font-semibold text-blue-700",children:t.titulo}),A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.resumen}),A.jsxs("p",{className:"text-xs text-gray-400 mb-2 italic",children:["Materia: ",t.materia]}),A.jsx("a",{href:t.enlacePDF,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 text-sm font-medium hover:underline",children:"Ver sentencia completa"})]},r))})]})}const Yj=async()=>{const n=Ar(ji,"codigos");return(await el(n)).docs.map(t=>({id:t.id,...t.data()}))};function $j(){const[n,e]=P.useState([]);P.useEffect(()=>{async function r(){const a=await Yj();e(a)}r()},[]);const t={vigente:"text-green-600",derogado:"text-red-500",pendiente:"text-yellow-500","vacatio legis":"text-blue-600"};return A.jsxs("div",{className:"min-h-screen bg-white px-6 py-12 md:px-24 lg:px-48",children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Códigos Legales del Perú"}),A.jsx("div",{className:"space-y-6",children:n.map((r,a)=>{var l;return A.jsxs("div",{className:"border p-4 rounded shadow-sm bg-gray-50",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("h2",{className:"text-lg font-semibold text-blue-700",children:r.titulo}),A.jsx("span",{className:`text-sm font-bold ${t[r.estadoNorma]||"text-gray-500"}`,children:(l=r.estadoNorma)==null?void 0:l.toUpperCase()})]}),A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r.descripcion}),A.jsx("a",{href:r.enlaceLectura,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"Ver código completo"})]},a)})})]})}const Qj=async()=>{const n=By(Ar(ji,"noticias"),Hy("fecha","desc"));return(await el(n)).docs.map(t=>({id:t.id,...t.data()}))};function Xj(){const[n,e]=P.useState([]);return P.useEffect(()=>{async function t(){const r=await Qj();e(r)}t()},[]),A.jsxs("div",{className:"min-h-screen bg-white px-6 py-12 md:px-24 lg:px-48",children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Noticias Jurídicas"}),A.jsx("div",{className:"space-y-8",children:n.map((t,r)=>{var a;return A.jsxs("div",{className:"border-b pb-6 mb-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-blue-700 mb-2",children:t.titulo}),A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.resumen}),A.jsx("p",{className:"text-xs text-gray-400 mb-1 italic",children:new Date((a=t.fecha)==null?void 0:a.toDate()).toLocaleDateString()}),A.jsx("a",{href:t.enlace,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm",children:"Leer más"})]},r)})})]})}function Wj(){const{id:n}=KI(),[e,t]=P.useState(null);return P.useEffect(()=>{(async()=>{var c,f;const a=o1(ji,"articulosBlog",n),l=await zV(a);if(l.exists()){const m=l.data(),p=((f=(c=m.fecha)==null?void 0:c.toDate())==null?void 0:f.toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"}))||"Sin fecha";t({...m,fecha:p})}})()},[n]),e?A.jsxs("section",{className:"max-w-3xl mx-auto px-6 py-12",children:[A.jsx(mt,{to:"/blog",className:"text-blue-600 hover:underline text-sm mb-4 inline-block",children:"← Volver al blog"}),A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.titulo}),A.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[A.jsx("strong",{children:"Categoría:"})," ",e.categoria]}),A.jsxs("p",{className:"text-sm text-gray-600 mb-6 italic",children:[A.jsx("strong",{children:"Por:"})," ",e.autor," · ",e.fecha]}),A.jsx("article",{className:"text-gray-800 whitespace-pre-line leading-relaxed",children:e.contenido})]}):A.jsx("p",{className:"p-6 text-center text-gray-500",children:"Cargando artículo..."})}const Zj=()=>A.jsxs(xn.div,{className:"max-w-5xl mx-auto mt-12 p-6 bg-white shadow-md rounded-xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[A.jsx("h1",{className:"text-4xl font-bold text-center text-blue-800 mb-6",children:"Sobre BúhoLex"}),A.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:[A.jsx("strong",{children:"BúhoLex"})," es un estudio jurídico digital que nace con la visión de hacer el derecho accesible, transparente y humano. Nuestro lema:",A.jsx("em",{className:"block text-blue-600 mt-2 text-xl",children:"“Porque la justicia no debe ser un privilegio de pocos: LitisBot te defiende”."})]}),A.jsx("p",{className:"text-gray-700 mb-4",children:"Nuestro equipo está formado por abogados especialistas en derecho civil, penal, administrativo y constitucional, comprometidos con la excelencia profesional, el análisis argumentativo y el uso de tecnología para brindar un servicio legal moderno, eficaz y sin fronteras."}),A.jsxs("p",{className:"text-gray-700 mb-4",children:["En ",A.jsx("strong",{children:"BúhoLex"})," creemos que la información jurídica debe estar al alcance de todos. Por eso, nuestra plataforma integra:"]}),A.jsxs("ul",{className:"list-disc list-inside text-gray-700 mb-4",children:[A.jsx("li",{children:"Asesoría legal en tiempo real con inteligencia artificial"}),A.jsx("li",{children:"Elaboración de escritos judiciales y administrativos personalizados"}),A.jsx("li",{children:"Agenda legal con recordatorios inteligentes"}),A.jsx("li",{children:"Biblioteca jurídica nacional e internacional"}),A.jsx("li",{children:"Blog interactivo para abogados, estudiantes y ciudadanos"}),A.jsx("li",{children:"Servicios premium y videoconferencias legales"})]}),A.jsx("p",{className:"text-gray-700",children:"Si eres abogado, también puedes registrarte y obtener tu propia oficina virtual personalizada dentro de nuestra plataforma."})]});function Jj(){const[n,e]=P.useState(""),[t,r]=P.useState(""),[a,l]=P.useState(null),c=ic(),f=async m=>{m.preventDefault();try{await FM(tR,n,t),c("/admin/libros")}catch{l("Credenciales inválidas o user no autorizado.")}};return A.jsx("div",{children:A.jsxs("form",{onSubmit:f,children:[A.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:m=>e(m.target.value),required:!0}),A.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:m=>r(m.target.value),required:!0}),A.jsx("button",{type:"submit",children:"Ingresar"}),a&&A.jsx("p",{children:a})]})})}function e9(){return A.jsxs("section",{className:"max-w-2xl mx-auto p-6",children:[A.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-700",children:"Panel de Administración BúhoLex"}),A.jsxs("div",{className:"grid gap-4",children:[A.jsx(mt,{to:"/admin/libros",className:"block bg-green-600 hover:bg-green-700 text-white text-center px-4 py-3 rounded",children:"Subir Libros a Biblioteca"}),A.jsx(mt,{to:"/admin/consultas",className:"block bg-purple-600 hover:bg-purple-700 text-white text-center px-4 py-3 rounded",children:"Ver Consultas de LitisBot"}),A.jsx(mt,{to:"/admin/publicar-articulo",className:"block bg-blue-600 hover:bg-blue-700 text-white text-center px-4 py-3 rounded",children:"Publicar nuevo artículo en el Blog"})]})]})}function t9(){const[n,e]=P.useState(""),[t,r]=P.useState(""),[a,l]=P.useState(""),[c,f]=P.useState(""),[m,p]=P.useState(!1),y=async _=>{_.preventDefault(),p(!0),f("");try{await Gy(Ar(ji,"biblioteca"),{titulo:n,autor:t,enlace:a,fechaSubida:new Date}),f("✅ Libro subido correctamente."),e(""),r(""),l("")}catch{f("❌ Error al subir el libro. Intenta nuevamente.")}p(!1)};return A.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-xl p-6 rounded-xl mt-8",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Subir nuevo libro"}),A.jsxs("form",{onSubmit:y,className:"flex flex-col gap-3",children:[A.jsx("input",{className:"border p-2 rounded",type:"text",placeholder:"Título del libro",value:n,onChange:_=>e(_.target.value),required:!0}),A.jsx("input",{className:"border p-2 rounded",type:"text",placeholder:"Autor",value:t,onChange:_=>r(_.target.value),required:!0}),A.jsx("input",{className:"border p-2 rounded",type:"url",placeholder:"Enlace de Google Drive o URL PDF",value:a,onChange:_=>l(_.target.value),required:!0}),A.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded font-bold",type:"submit",disabled:m,children:m?"Subiendo...":"Subir libro"}),c&&A.jsx("div",{className:c.includes("Error")?"text-red-600 mt-2":"text-green-600 mt-2",children:c})]})]})}function n9(){const[n,e]=P.useState([]);return P.useEffect(()=>{(async()=>{const r=By(Ar(ji,"consultas"),Hy("fecha","desc")),l=(await el(r)).docs.map(c=>{var f,m;return{id:c.id,...c.data(),fecha:((m=(f=c.data().fecha)==null?void 0:f.toDate())==null?void 0:m.toLocaleString())||"Sin fecha"}});e(l)})()},[]),A.jsxs("section",{className:"max-w-5xl mx-auto p-6",children:[A.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Consultas Recibidas - LitisBot"}),A.jsx("div",{className:"bg-white shadow-md border rounded-lg overflow-hidden",children:n.length===0?A.jsx("p",{className:"p-4 text-gray-600",children:"No se han registrado consultas aún."}):n.map(t=>A.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[A.jsx("p",{className:"text-sm text-gray-500",children:t.fecha}),A.jsx("p",{className:"font-semibold text-gray-800 mt-1",children:"Pregunta:"}),A.jsx("p",{className:"text-gray-700",children:t.pregunta}),A.jsx("p",{className:"font-semibold text-gray-800 mt-2",children:"Respuesta:"}),A.jsx("p",{className:"text-gray-700",children:t.respuesta})]},t.id))})]})}function i9(){const[n,e]=P.useState(""),[t,r]=P.useState(""),[a,l]=P.useState("Equipo BúhoLex"),[c,f]=P.useState("Opinión Jurídica"),[m,p]=P.useState(""),y=async _=>{_.preventDefault();try{await Gy(Ar(ji,"articulosBlog"),{titulo:n,contenido:t,autor:a,categoria:c,fecha:HV()}),p("✅ Artículo publicado correctamente."),e(""),r("")}catch(E){p("❌ Error al publicar el artículo."),console.error(E)}};return A.jsxs("section",{className:"max-w-3xl mx-auto p-6",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4 text-blue-700",children:"Publicar nuevo artículo"}),m&&A.jsx("div",{className:"mb-4 text-sm",children:m}),A.jsxs("form",{onSubmit:y,className:"space-y-4",children:[A.jsx("input",{type:"text",placeholder:"Título del artículo",value:n,onChange:_=>e(_.target.value),className:"w-full border rounded p-2",required:!0}),A.jsx("textarea",{placeholder:"Contenido del artículo...",value:t,onChange:_=>r(_.target.value),className:"w-full border rounded p-2 h-40",required:!0}),A.jsx("input",{type:"text",placeholder:"Autor",value:a,onChange:_=>l(_.target.value),className:"w-full border rounded p-2"}),A.jsxs("select",{value:c,onChange:_=>f(_.target.value),className:"w-full border rounded p-2",children:[A.jsx("option",{children:"Opinión Jurídica"}),A.jsx("option",{children:"Actualidad Legal"}),A.jsx("option",{children:"Casos y Fallos"}),A.jsx("option",{children:"Constitucional"})]}),A.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Publicar Artículo"})]})]})}function r9(){return A.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center px-4",children:[A.jsxs(xn.div,{className:"flex flex-col items-center max-w-2xl w-full py-8",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},children:[A.jsx("img",{src:bA,alt:"Logo BúhoLex",className:"w-24 md:w-32 mb-6 rounded-2xl border-4 border-amber-700 shadow-lg bg-white"}),A.jsx(xn.h1,{className:"text-3xl md:text-4xl font-extrabold text-blue-900 mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"LitisBot – Tu Asistente Legal Inteligente"}),A.jsxs("p",{className:"text-blue-800 text-lg md:text-xl mb-6 font-medium",children:["Resuelve tus dudas legales, redacta escritos y accede a modelos jurídicos personalizados.",A.jsx("br",{}),"¡Haz tus preguntas o consulta jurisprudencia en segundos!"]}),A.jsxs("div",{className:"w-full bg-gray-50 border border-blue-200 rounded-lg shadow p-4 mb-6",children:[A.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[A.jsx("b",{children:"Chat Demo:"})," Pronto podrás interactuar en tiempo real con nuestro asistente."]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-l-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300",placeholder:"Escribe tu pregunta legal aquí…",disabled:!0}),A.jsx("button",{className:"bg-blue-700 text-white px-4 py-2 rounded-r-lg font-semibold shadow hover:bg-blue-800 transition",disabled:!0,children:"Enviar"})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full justify-center",children:[A.jsx(mt,{to:"/",className:"bg-blue-100 text-blue-700 px-6 py-2 rounded-full font-semibold border border-blue-700 hover:bg-blue-200 transition",children:"Volver al inicio"}),A.jsx(mt,{to:"/servicios",className:"bg-blue-700 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-800 transition",children:"Ver servicios legales"})]})]}),A.jsxs("footer",{className:"w-full mt-10 p-4 text-center text-xs text-gray-500",children:["© ",new Date().getFullYear()," BúhoLex. Todos los derechos reservados."]})]})}const s9=()=>A.jsxs(xn.div,{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-center p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[A.jsx("h1",{className:"text-6xl font-bold text-red-600 mb-4",children:"404"}),A.jsx("p",{className:"text-xl md:text-2xl text-gray-700 mb-6",children:"Lo sentimos, la página que buscas no existe."}),A.jsx(mt,{to:"/",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-300",children:"Volver al inicio"})]});function a9(){const e=li().pathname==="/litisbot";return A.jsxs(A.Fragment,{children:[!e&&A.jsx(HD,{}),A.jsxs(lD,{children:[A.jsx(Pt,{path:"/",element:A.jsx(Uj,{})}),A.jsx(Pt,{path:"/servicios",element:A.jsx(Bj,{})}),A.jsx(Pt,{path:"/contacto",element:A.jsx(zj,{})}),A.jsx(Pt,{path:"/biblioteca",element:A.jsx(qj,{})}),A.jsx(Pt,{path:"/biblioteca-drive",element:A.jsx(Lj,{})})," ",A.jsx(Pt,{path:"/blog",element:A.jsx(Hj,{})}),A.jsx(Pt,{path:"/blog/:id",element:A.jsx(Wj,{})}),A.jsx(Pt,{path:"/jurisprudencia",element:A.jsx(Kj,{})}),A.jsx(Pt,{path:"/codigos",element:A.jsx($j,{})}),A.jsx(Pt,{path:"/noticias",element:A.jsx(Xj,{})}),A.jsx(Pt,{path:"/litisbot",element:A.jsx(r9,{})}),A.jsx(Pt,{path:"/nosotros",element:A.jsx(Zj,{})}),A.jsx(Pt,{path:"/admin/login",element:A.jsx(Jj,{})}),A.jsx(Pt,{path:"/admin",element:A.jsx(Xh,{children:A.jsx(e9,{})})}),A.jsx(Pt,{path:"/admin/libros",element:A.jsx(Xh,{children:A.jsx(t9,{})})}),A.jsx(Pt,{path:"/admin/consultas",element:A.jsx(Xh,{children:A.jsx(n9,{})})}),A.jsx(Pt,{path:"/admin/publicar-articulo",element:A.jsx(Xh,{children:A.jsx(i9,{})})}),A.jsx(Pt,{path:"*",element:A.jsx(s9,{})})]}),!e&&A.jsx(GD,{}),!e&&A.jsx(KD,{}),!e&&A.jsx(BL,{})]})}function o9(){return A.jsx(PD,{children:A.jsx(a9,{})})}pI.createRoot(document.getElementById("root")).render(A.jsx(Yg.StrictMode,{children:A.jsx(o9,{})}));
